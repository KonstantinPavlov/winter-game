// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,fa,ga,ha,ia,ja,ka,ma,na,oa,pa,qa,A,ra,sa,T,ta,va,wa,xa,V,ya,za,Aa,Ba,Ca,W,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb={},Ub={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(b){return b.__proto__}:function(b){return b.constructor.prototype});
(function(){function b(a,d,h,e){this.set(a,d,h,e)}function m(){this.Ja=this.Ia=this.La=this.Ka=this.Oa=this.Na=this.ya=this.xa=0}function g(a,d,h,e){a<d?h<e?(w=a<h?a:h,u=d>e?d:e):(w=a<e?a:e,u=d>h?d:h):h<e?(w=d<h?d:h,u=a>e?a:e):(w=d<e?d:e,u=a>h?a:h)}function t(){this.items=this.sd=null;this.yh=0;E&&(this.sd=new Set);this.Kg=[];this.pe=!0}function q(a){x[U++]=a}function r(){this.U=this.kk=this.y=this.Jk=0}function c(a){this.oa=[];this.Gi=this.Ii=this.Ji=this.Hi=0;this.di(a)}function a(a,d){this.Ya=
a;this.hb=d;this.cells={}}function l(a,d){this.Ya=a;this.hb=d;this.cells={}}function v(a,d,h){var e;return Q.length?(e=Q.pop(),e.tl=a,e.x=d,e.y=h,e):new aa(a,d,h)}function d(a,d,h){this.tl=a;this.x=d;this.y=h;this.lb=new ba}function e(a,d,h){var e;return R.length?(e=R.pop(),e.tl=a,e.x=d,e.y=h,e):new ca(a,d,h)}function k(a,d,h){this.tl=a;this.x=d;this.y=h;this.lb=[];this.ig=!0;this.qd=new ba;this.Qg=!1}function f(a,d){return a.gd-d.gd}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ga=function(a){window.console&&window.console.error&&window.console.error(a)};ha=function(a){return"undefined"===typeof a};ia=function(a){return"number"===typeof a};ja=function(a){return"string"===typeof a};ka=function(a){return 0<a&&0===(a-1&a)};ma=function(a){--a;for(var d=1;32>d;d<<=1)a=a|a>>d;return a+1};na=function(a){return 0>a?-a:a};oa=function(a,d){return a>d?a:d};pa=function(a,d){return a<d?a:d};qa=Math.PI;A=function(a){return 0<=a?a|0:(a|0)-1};ra=function(a){var d=a|0;return d===a?d:d+1};
sa=function(a,d,h,e,f,k,l,n){var c,y,z,B;a<h?(y=a,c=h):(y=h,c=a);f<l?(B=f,z=l):(B=l,z=f);if(c<B||y>z)return!1;d<e?(y=d,c=e):(y=e,c=d);k<n?(B=k,z=n):(B=n,z=k);if(c<B||y>z)return!1;c=f-a+l-h;y=k-d+n-e;a=h-a;d=e-d;f=l-f;k=n-k;n=na(d*f-k*a);return na(f*y-k*c)>n?!1:na(a*y-d*c)<=n};b.prototype.set=function(a,d,h,e){this.left=a;this.top=d;this.right=h;this.bottom=e};b.prototype.Vf=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};b.prototype.width=function(){return this.right-
this.left};b.prototype.height=function(){return this.bottom-this.top};b.prototype.offset=function(a,d){this.left+=a;this.top+=d;this.right+=a;this.bottom+=d;return this};b.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};b.prototype.Zt=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};b.prototype.$t=function(a,d,h){return!(a.right+
d<this.left||a.bottom+h<this.top||a.left+d>this.right||a.top+h>this.bottom)};b.prototype.Sb=function(a,d){return a>=this.left&&a<=this.right&&d>=this.top&&d<=this.bottom};b.prototype.ah=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};T=b;m.prototype.ci=function(a){this.xa=a.left;this.ya=a.top;this.Na=a.right;this.Oa=a.top;this.Ka=a.right;this.La=a.bottom;this.Ia=a.left;this.Ja=a.bottom};m.prototype.Dp=function(a,d){if(0===d)this.ci(a);else{var h=
Math.sin(d),e=Math.cos(d),f=a.left*h,k=a.top*h,l=a.right*h,h=a.bottom*h,n=a.left*e,c=a.top*e,y=a.right*e,e=a.bottom*e;this.xa=n-k;this.ya=c+f;this.Na=y-k;this.Oa=c+l;this.Ka=y-h;this.La=e+l;this.Ia=n-h;this.Ja=e+f}};m.prototype.offset=function(a,d){this.xa+=a;this.ya+=d;this.Na+=a;this.Oa+=d;this.Ka+=a;this.La+=d;this.Ia+=a;this.Ja+=d;return this};var w=0,u=0;m.prototype.tn=function(a){g(this.xa,this.Na,this.Ka,this.Ia);a.left=w;a.right=u;g(this.ya,this.Oa,this.La,this.Ja);a.top=w;a.bottom=u};m.prototype.Sb=
function(a,d){var h=this.xa,e=this.ya,f=this.Na-h,k=this.Oa-e,l=this.Ka-h,n=this.La-e,c=a-h,y=d-e,z=f*f+k*k,B=f*l+k*n,k=f*c+k*y,p=l*l+n*n,b=l*c+n*y,v=1/(z*p-B*B),f=(p*k-B*b)*v,z=(z*b-B*k)*v;if(0<=f&&0<z&&1>f+z)return!0;f=this.Ia-h;k=this.Ja-e;z=f*f+k*k;B=f*l+k*n;k=f*c+k*y;v=1/(z*p-B*B);f=(p*k-B*b)*v;z=(z*b-B*k)*v;return 0<=f&&0<z&&1>f+z};m.prototype.ne=function(a,d){if(d)switch(a){case 0:return this.xa;case 1:return this.Na;case 2:return this.Ka;case 3:return this.Ia;case 4:return this.xa;default:return this.xa}else switch(a){case 0:return this.ya;
case 1:return this.Oa;case 2:return this.La;case 3:return this.Ja;case 4:return this.ya;default:return this.ya}};m.prototype.Ro=function(){return(this.xa+this.Na+this.Ka+this.Ia)/4};m.prototype.So=function(){return(this.ya+this.Oa+this.La+this.Ja)/4};m.prototype.fo=function(a){var d=a.Ro(),h=a.So();if(this.Sb(d,h))return!0;d=this.Ro();h=this.So();if(a.Sb(d,h))return!0;var e,f,k,l,n,c,y,z;for(y=0;4>y;y++)for(z=0;4>z;z++)if(d=this.ne(y,!0),h=this.ne(y,!1),e=this.ne(y+1,!0),f=this.ne(y+1,!1),k=a.ne(z,
!0),l=a.ne(z,!1),n=a.ne(z+1,!0),c=a.ne(z+1,!1),sa(d,h,e,f,k,l,n,c))return!0;return!1};ta=m;va=function(a,d){for(var h in d)d.hasOwnProperty(h)&&(a[h]=d[h]);return a};wa=function(a,d){var h,e;d=A(d);if(!(0>d||d>=a.length)){h=d;for(e=a.length-1;h<e;h++)a[h]=a[h+1];xa(a,e)}};xa=function(a,d){a.length=d};V=function(a){xa(a,0)};ya=function(a,d){V(a);var h,e;h=0;for(e=d.length;h<e;++h)a[h]=d[h]};za=function(a,d){a.push.apply(a,d)};Aa=function(a,d){var h,e;h=0;for(e=a.length;h<e;++h)if(a[h]===d)return h;
return-1};Ba=function(a,d){var h=Aa(a,d);-1!==h&&wa(a,h)};Ca=function(a,d,h){return a<d?d:a>h?h:a};W=function(a){return a/(180/qa)};Da=function(a){return 180/qa*a};Ea=function(a){a%=360;0>a&&(a+=360);return a};Fa=function(a){a%=2*qa;0>a&&(a+=2*qa);return a};Ga=function(a){return Ea(Da(a))};Ha=function(a){return Fa(W(a))};Ia=function(a,d,h,e){return Math.atan2(e-d,h-a)};Ja=function(a,d){if(a===d)return 0;var h=Math.sin(a),e=Math.cos(a),f=Math.sin(d),k=Math.cos(d),h=h*f+e*k;return 1<=h?0:-1>=h?qa:Math.acos(h)};
Ka=function(a,d,h){var e=Math.sin(a),f=Math.cos(a),k=Math.sin(d),l=Math.cos(d);return Math.acos(e*k+f*l)>h?0<f*k-e*l?Fa(a+h):Fa(a-h):Fa(d)};La=function(a,d){var h=Math.sin(a),e=Math.cos(a),f=Math.sin(d),k=Math.cos(d);return 0>=e*f-h*k};Ma=function(a,d,h,e){a=h-a;d=e-d;return Math.sqrt(a*a+d*d)};Na=function(a,d){return!a!==!d};Oa=function(a){for(var d in a)if(a.hasOwnProperty(d))return!0;return!1};Pa=function(a){for(var d in a)a.hasOwnProperty(d)&&delete a[d]};var p=+new Date;Qa=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-p};var h=!1,n=h=!1,P=!1;"undefined"!==typeof window&&(h=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),h=!h&&/safari/i.test(navigator.userAgent),n=/(iphone|ipod|ipad)/i.test(navigator.userAgent),P=window.c2ejecta);
var E=!h&&!P&&!n&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;t.prototype.contains=function(a){return this.Kd()?!1:E?this.sd.has(a):this.items&&this.items.hasOwnProperty(a)};t.prototype.add=function(a){if(E)this.sd.has(a)||(this.sd.add(a),this.pe=!1);else{var d=a.toString(),h=this.items;h?h.hasOwnProperty(d)||(h[d]=a,this.yh++,this.pe=!1):(this.items={},this.items[d]=a,this.yh=1,this.pe=!1)}};t.prototype.remove=function(a){if(!this.Kd())if(E)this.sd.has(a)&&(this.sd["delete"](a),
this.pe=!1);else if(this.items){a=a.toString();var d=this.items;d.hasOwnProperty(a)&&(delete d[a],this.yh--,this.pe=!1)}};t.prototype.clear=function(){this.Kd()||(E?this.sd.clear():(this.items=null,this.yh=0),V(this.Kg),this.pe=!0)};t.prototype.Kd=function(){return 0===this.count()};t.prototype.count=function(){return E?this.sd.size:this.yh};var x=null,U=0;t.prototype.jv=function(){if(!this.pe){if(E)V(this.Kg),x=this.Kg,U=0,this.sd.forEach(q),x=null,U=0;else{var a=this.Kg;V(a);var d,h=0,e=this.items;
if(e)for(d in e)e.hasOwnProperty(d)&&(a[h++]=e[d])}this.pe=!0}};t.prototype.ge=function(){this.jv();return this.Kg};ba=t;new ba;Ra=function(a,d){E?Sa(a,d.sd):Ta(a,d.ge())};Sa=function(a,d){var h,e,f,k;e=h=0;for(f=a.length;h<f;++h)k=a[h],d.has(k)||(a[e++]=k);xa(a,e)};Ta=function(a,d){var h,e,f,k;e=h=0;for(f=a.length;h<f;++h)k=a[h],-1===Aa(d,k)&&(a[e++]=k);xa(a,e)};r.prototype.add=function(a){this.y=a-this.Jk;this.kk=this.U+this.y;this.Jk=this.kk-this.U-this.y;this.U=this.kk};r.prototype.reset=function(){this.U=
this.kk=this.y=this.Jk=0};Ua=r;Va=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};c.prototype.di=function(a){this.np=a;this.ic=a.length/2;this.oa.length=a.length;this.Li=this.Mi=-1;this.wn=0};c.prototype.gg=function(){return!this.np.length};c.prototype.ma=function(){for(var a=this.oa,d=a[0],h=d,e=a[1],f=e,k,l,n=1,c=this.ic;n<c;++n)l=2*n,k=a[l],l=a[l+1],k<d&&(d=k),k>h&&(h=k),l<e&&(e=l),l>f&&(f=l);this.Hi=d;this.Ii=h;this.Ji=e;this.Gi=f};c.prototype.ci=function(a,d,h){this.oa.length=
8;this.ic=4;var e=this.oa;e[0]=a.left-d;e[1]=a.top-h;e[2]=a.right-d;e[3]=a.top-h;e[4]=a.right-d;e[5]=a.bottom-h;e[6]=a.left-d;e[7]=a.bottom-h;this.Mi=a.right-a.left;this.Li=a.bottom-a.top;this.ma()};c.prototype.Eg=function(a,d,h,e,f){this.oa.length=8;this.ic=4;var k=this.oa;k[0]=a.xa-d;k[1]=a.ya-h;k[2]=a.Na-d;k[3]=a.Oa-h;k[4]=a.Ka-d;k[5]=a.La-h;k[6]=a.Ia-d;k[7]=a.Ja-h;this.Mi=e;this.Li=f;this.ma()};c.prototype.Cp=function(a){this.ic=a.ic;ya(this.oa,a.oa);this.Hi=a.Hi;this.Ji-a.Ji;this.Ii=a.Ii;this.Gi=
a.Gi};c.prototype.$e=function(a,d,h){if(this.Mi!==a||this.Li!==d||this.wn!==h){this.Mi=a;this.Li=d;this.wn=h;var e,f,k,l,n,c=0,y=1,z=this.np,B=this.oa;0!==h&&(c=Math.sin(h),y=Math.cos(h));h=0;for(k=this.ic;h<k;h++)e=2*h,f=e+1,l=z[e]*a,n=z[f]*d,B[e]=l*y-n*c,B[f]=n*y+l*c;this.ma()}};c.prototype.Sb=function(a,d){var h=this.oa;if(a===h[0]&&d===h[1])return!0;var e,f,k,l=this.ic,n=this.Hi-110,c=this.Ji-101,y=this.Ii+131,z=this.Gi+120,B,p,b=0,v=0;for(e=0;e<l;e++)f=2*e,k=(e+1)%l*2,B=h[f],f=h[f+1],p=h[k],
k=h[k+1],sa(n,c,a,d,B,f,p,k)&&b++,sa(y,z,a,d,B,f,p,k)&&v++;return 1===b%2||1===v%2};c.prototype.qh=function(a,d,h){var e=a.oa,f=this.oa;if(this.Sb(e[0]+d,e[1]+h)||a.Sb(f[0]-d,f[1]-h))return!0;var k,l,n,c,y,z,p,b,v,E,x,w;k=0;for(c=this.ic;k<c;k++)for(l=2*k,n=(k+1)%c*2,b=f[l],l=f[l+1],v=f[n],E=f[n+1],n=0,p=a.ic;n<p;n++)if(y=2*n,z=(n+1)%p*2,x=e[y]+d,y=e[y+1]+h,w=e[z]+d,z=e[z+1]+h,sa(b,l,v,E,x,y,w,z))return!0;return!1};c.prototype.qu=function(a){var d,h,e;d=0;for(h=this.ic;d<h;++d)e=2*d,this.oa[e]=2*
a-this.oa[e]};c.prototype.jt=function(a){var d,h,e;d=0;for(h=this.ic;d<h;++d)e=2*d+1,this.oa[e]=2*a-this.oa[e]};c.prototype.Sr=function(){var a,d,h,e,f;a=0;for(d=this.ic;a<d;++a)h=2*a,e=h+1,f=this.oa[h],this.oa[h]=this.oa[e],this.oa[e]=f};Wa=c;a.prototype.Be=function(a,d,h){var e;e=this.cells[a];return e?(e=e[d])?e:h?(e=v(this,a,d),this.cells[a][d]=e):null:h?(e=v(this,a,d),this.cells[a]={},this.cells[a][d]=e):null};a.prototype.Qb=function(a){return A(a/this.Ya)};a.prototype.Rb=function(a){return A(a/
this.hb)};a.prototype.update=function(a,d,h){var e,f,k,l,n;if(d)for(e=d.left,f=d.right;e<=f;++e)for(k=d.top,l=d.bottom;k<=l;++k)if(!h||!h.Sb(e,k))if(n=this.Be(e,k,!1))n.remove(a),n.Kd()&&(n.lb.clear(),1E3>Q.length&&Q.push(n),this.cells[e][k]=null);if(h)for(e=h.left,f=h.right;e<=f;++e)for(k=h.top,l=h.bottom;k<=l;++k)d&&d.Sb(e,k)||this.Be(e,k,!0).Bl(a)};a.prototype.Wj=function(a,d){var h,e,f,k,l,n;h=this.Qb(a.left);f=this.Rb(a.top);e=this.Qb(a.right);for(l=this.Rb(a.bottom);h<=e;++h)for(k=f;k<=l;++k)(n=
this.Be(h,k,!1))&&n.dump(d)};Xa=a;l.prototype.Be=function(a,d,h){var f;f=this.cells[a];return f?(f=f[d])?f:h?(f=e(this,a,d),this.cells[a][d]=f):null:h?(f=e(this,a,d),this.cells[a]={},this.cells[a][d]=f):null};l.prototype.Qb=function(a){return A(a/this.Ya)};l.prototype.Rb=function(a){return A(a/this.hb)};l.prototype.update=function(a,d,h){var e,f,k,l,n;if(d)for(e=d.left,f=d.right;e<=f;++e)for(k=d.top,l=d.bottom;k<=l;++k)if(!h||!h.Sb(e,k))if(n=this.Be(e,k,!1))n.remove(a),n.Kd()&&(n.reset(),1E3>R.length&&
R.push(n),this.cells[e][k]=null);if(h)for(e=h.left,f=h.right;e<=f;++e)for(k=h.top,l=h.bottom;k<=l;++k)d&&d.Sb(e,k)||this.Be(e,k,!0).Bl(a)};l.prototype.Wj=function(a,d,h,e,f){var k,l;a=this.Qb(a);d=this.Rb(d);h=this.Qb(h);for(k=this.Rb(e);a<=h;++a)for(e=d;e<=k;++e)(l=this.Be(a,e,!1))&&l.dump(f)};l.prototype.ou=function(a){var d,h,e,f,k;d=a.left;e=a.top;h=a.right;for(f=a.bottom;d<=h;++d)for(a=e;a<=f;++a)if(k=this.Be(d,a,!1))k.ig=!1};Ya=l;var Q=[];d.prototype.Kd=function(){return this.lb.Kd()};d.prototype.Bl=
function(a){this.lb.add(a)};d.prototype.remove=function(a){this.lb.remove(a)};d.prototype.dump=function(a){za(a,this.lb.ge())};aa=d;var R=[];k.prototype.Kd=function(){if(!this.lb.length)return!0;if(this.lb.length>this.qd.count())return!1;this.dl();return!0};k.prototype.Bl=function(a){this.qd.contains(a)?(this.qd.remove(a),this.qd.Kd()&&(this.Qg=!1)):this.lb.length?(this.lb[this.lb.length-1].od()>a.od()&&(this.ig=!1),this.lb.push(a)):(this.lb.push(a),this.ig=!0)};k.prototype.remove=function(a){this.qd.add(a);
this.Qg=!0;30<=this.qd.count()&&this.dl()};k.prototype.dl=function(){this.Qg&&(this.qd.count()===this.lb.length?this.reset():(Ra(this.lb,this.qd),this.qd.clear(),this.Qg=!1))};k.prototype.zs=function(){this.ig||(this.lb.sort(f),this.ig=!0)};k.prototype.reset=function(){V(this.lb);this.ig=!0;this.qd.clear();this.Qg=!1};k.prototype.dump=function(a){this.dl();this.zs();this.lb.length&&a.push(this.lb)};ca=k;var M="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Za=function(a){return 0>=a||11<=a?"source-over":M[a-1]};$a=function(a,d,h){if(h)switch(a.Db=h.ONE,a.Ab=h.ONE_MINUS_SRC_ALPHA,d){case 1:a.Db=h.ONE;a.Ab=h.ONE;break;case 3:a.Db=h.ONE;a.Ab=h.ZERO;break;case 4:a.Db=h.ONE_MINUS_DST_ALPHA;a.Ab=h.ONE;break;case 5:a.Db=h.DST_ALPHA;a.Ab=h.ZERO;break;case 6:a.Db=h.ZERO;a.Ab=h.SRC_ALPHA;break;case 7:a.Db=h.ONE_MINUS_DST_ALPHA;a.Ab=h.ZERO;break;case 8:a.Db=h.ZERO;a.Ab=h.ONE_MINUS_SRC_ALPHA;break;case 9:a.Db=h.DST_ALPHA;a.Ab=h.ONE_MINUS_SRC_ALPHA;break;case 10:a.Db=
h.ONE_MINUS_DST_ALPHA,a.Ab=h.SRC_ALPHA}};ab=function(a){return Math.round(1E6*a)/1E6};bb=function(a,d){return"string"!==typeof a||"string"!==typeof d||a.length!==d.length?!1:a===d?!0:a.toLowerCase()===d.toLowerCase()};cb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||bb(a.tagName,"canvas")?!0:!1}})();var Vb="undefined"!==typeof Float32Array?Float32Array:Array;function Wb(b){var m=new Vb(3);b&&(m[0]=b[0],m[1]=b[1],m[2]=b[2]);return m}
function Xb(b){var m=new Vb(16);b&&(m[0]=b[0],m[1]=b[1],m[2]=b[2],m[3]=b[3],m[4]=b[4],m[5]=b[5],m[6]=b[6],m[7]=b[7],m[8]=b[8],m[9]=b[9],m[10]=b[10],m[11]=b[11],m[12]=b[12],m[13]=b[13],m[14]=b[14],m[15]=b[15]);return m}function Yb(b,m){m[0]=b[0];m[1]=b[1];m[2]=b[2];m[3]=b[3];m[4]=b[4];m[5]=b[5];m[6]=b[6];m[7]=b[7];m[8]=b[8];m[9]=b[9];m[10]=b[10];m[11]=b[11];m[12]=b[12];m[13]=b[13];m[14]=b[14];m[15]=b[15]}
function Zb(b,m){var g=m[0],t=m[1];m=m[2];b[0]*=g;b[1]*=g;b[2]*=g;b[3]*=g;b[4]*=t;b[5]*=t;b[6]*=t;b[7]*=t;b[8]*=m;b[9]*=m;b[10]*=m;b[11]*=m}
function $b(b,m,g,t){t||(t=Xb());var q,r,c,a,l,v,d,e,k=b[0],f=b[1];b=b[2];r=g[0];c=g[1];q=g[2];g=m[1];v=m[2];k===m[0]&&f===g&&b===v?(b=t,b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1):(g=k-m[0],v=f-m[1],d=b-m[2],e=1/Math.sqrt(g*g+v*v+d*d),g*=e,v*=e,d*=e,m=c*d-q*v,q=q*g-r*d,r=r*v-c*g,(e=Math.sqrt(m*m+q*q+r*r))?(e=1/e,m*=e,q*=e,r*=e):r=q=m=0,c=v*r-d*q,a=d*m-g*r,l=g*q-v*m,(e=Math.sqrt(c*c+a*a+l*l))?(e=1/e,c*=e,a*=e,l*=e):l=a=c=0,
t[0]=m,t[1]=c,t[2]=g,t[3]=0,t[4]=q,t[5]=a,t[6]=v,t[7]=0,t[8]=r,t[9]=l,t[10]=d,t[11]=0,t[12]=-(m*k+q*f+r*b),t[13]=-(c*k+a*f+l*b),t[14]=-(g*k+v*f+d*b),t[15]=1)}
(function(){function b(a,l,c){this.Fe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.na=!!c;this.rj=this.rh=!1;this.Vi=0;this.xk=1;this.Xm=1E3;this.rv=(this.Xm-this.xk)/32768;this.Kk=Wb([0,0,100]);this.Ao=Wb([0,0,0]);this.Yp=Wb([0,1,0]);this.yi=Wb([1,1,1]);this.Gn=!0;this.Ij=Xb();this.uc=Xb();this.Ol=Xb();this.Tk=Xb();this.B=a;this.version=0===this.B.getParameter(this.B.VERSION).indexOf("WebGL 2")?2:1;this.ao()}function m(a,l,c){this.B=a;this.ei=
l;this.name=c;this.Ac=a.getAttribLocation(l,"aPos");this.Ke=a.getAttribLocation(l,"aTex");this.yo=a.getUniformLocation(l,"matP");this.Ej=a.getUniformLocation(l,"matMV");this.tg=a.getUniformLocation(l,"opacity");this.Tl=a.getUniformLocation(l,"colorFill");this.zo=a.getUniformLocation(l,"samplerFront");this.Gh=a.getUniformLocation(l,"samplerBack");this.Df=a.getUniformLocation(l,"destStart");this.Cf=a.getUniformLocation(l,"destEnd");this.Ih=a.getUniformLocation(l,"seconds");this.Vl=a.getUniformLocation(l,
"pixelWidth");this.Ul=a.getUniformLocation(l,"pixelHeight");this.Fh=a.getUniformLocation(l,"layerScale");this.Eh=a.getUniformLocation(l,"layerAngle");this.Jh=a.getUniformLocation(l,"viewOrigin");this.Hh=a.getUniformLocation(l,"scrollPos");this.Vt=!!(this.Vl||this.Ul||this.Ih||this.Gh||this.Df||this.Cf||this.Fh||this.Eh||this.Jh||this.Hh);this.Io=this.Jo=-999;this.Hj=1;this.Eo=this.Do=0;this.Go=this.Co=this.Bo=1;this.Mo=this.Lo=this.Ko=this.Oo=this.No=this.Fo=0;this.Nl=[];this.Ho=Xb();this.tg&&a.uniform1f(this.tg,
1);this.Tl&&a.uniform4f(this.Tl,1,1,1,1);this.zo&&a.uniform1i(this.zo,0);this.Gh&&a.uniform1i(this.Gh,1);this.Df&&a.uniform2f(this.Df,0,0);this.Cf&&a.uniform2f(this.Cf,1,1);this.Fh&&a.uniform1f(this.Fh,1);this.Eh&&a.uniform1f(this.Eh,0);this.Jh&&a.uniform2f(this.Jh,0,0);this.Hh&&a.uniform2f(this.Hh,0,0);this.Ih&&a.uniform1f(this.Ih,0);this.of=!1}function g(a,l){return a[0]===l[0]&&a[1]===l[1]&&a[2]===l[2]&&a[3]===l[3]&&a[4]===l[4]&&a[5]===l[5]&&a[6]===l[6]&&a[7]===l[7]&&a[8]===l[8]&&a[9]===l[9]&&
a[10]===l[10]&&a[11]===l[11]&&a[12]===l[12]&&a[13]===l[13]&&a[14]===l[14]&&a[15]===l[15]}function t(a,l){this.type=a;this.n=l;this.B=l.B;this.qc=this.Eb=this.ep=0;this.S=this.Jc=null;this.Ep=[]}var q=Xb();b.prototype.ao=function(){var a=this.B,l;this.to=1;this.xf=this.He=null;this.Ui=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.na?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.uo=a.ONE;this.so=a.ONE_MINUS_SRC_ALPHA;this.wi=new Float32Array(8E3*(this.na?3:2));this.li=new Float32Array(16E3);this.jp=new Float32Array(32E3);this.im=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.im);a.bufferData(a.ARRAY_BUFFER,this.jp.byteLength,a.DYNAMIC_DRAW);this.vi=Array(4);this.ki=Array(4);for(l=0;4>l;l++)this.vi[l]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vi[l]),a.bufferData(a.ARRAY_BUFFER,this.wi.byteLength,a.DYNAMIC_DRAW),this.ki[l]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.ki[l]),a.bufferData(a.ARRAY_BUFFER,this.li.byteLength,a.DYNAMIC_DRAW);this.Cd=0;this.Xt=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Xt);for(var c=new Uint16Array(12E3),d=l=0;12E3>l;)c[l++]=d,c[l++]=d+1,c[l++]=d+2,c[l++]=d,c[l++]=d+2,c[l++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.jm=this.Te=this.Lc=0;this.Ha=[];l=this.na?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Xg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},l,"<default>");this.Ha.push(c);c=this.Xg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ha.push(c);c=this.Xg({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},l,"<earlyz>");this.Ha.push(c);c=this.Xg({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
l,"<fill>");this.Ha.push(c);for(var e in ac)ac.hasOwnProperty(e)&&this.Ha.push(this.Xg(ac[e],l,e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.kd=[];this.Qc=0;this.jb=!1;this.Cn=this.Bh=-1;this.Xf=null;this.cl=a.createFramebuffer();this.Xi=this.Xj=null;this.rn=!1;this.na&&(this.Xi=a.createRenderbuffer());this.Ue=Wb([0,0,0]);this.Po=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Po&&(this.Po=2048);this.Yb(0)};m.prototype.Tm=function(a){g(this.Ho,a)||(Yb(a,this.Ho),this.B.uniformMatrix4fv(this.Ej,
!1,a))};b.prototype.Xg=function(a,l,c){var d=this.B,e=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(e,a.src);d.compileShader(e);if(!d.getShaderParameter(e,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(e),d.deleteShader(e),Error("error compiling fragment shader: "+a);var k=d.createShader(d.VERTEX_SHADER);d.shaderSource(k,l);d.compileShader(k);if(!d.getShaderParameter(k,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(k),d.deleteShader(e),d.deleteShader(k),Error("error compiling vertex shader: "+a);l=
d.createProgram();d.attachShader(l,e);d.attachShader(l,k);d.linkProgram(l);if(!d.getProgramParameter(l,d.LINK_STATUS))throw a=d.getProgramInfoLog(l),d.deleteShader(e),d.deleteShader(k),d.deleteProgram(l),Error("error linking shader program: "+a);d.useProgram(l);d.deleteShader(e);d.deleteShader(k);e=new m(d,l,c);e.al=a.al||0;e.bl=a.bl||0;e.Bn=!!a.Bn;e.Yc=!!a.Yc;e.nn=!!a.nn;e.T=a.T||[];a=0;for(k=e.T.length;a<k;a++)e.T[a][1]=d.getUniformLocation(l,e.T[a][0]),e.Nl.push(0),d.uniform1f(e.T[a][1],0);return e};
b.prototype.ql=function(a){var l,c;l=0;for(c=this.Ha.length;l<c;l++)if(this.Ha[l].name===a)return l;return-1};b.prototype.mp=function(a,l,c){var d=this.uc,e=this.Ij,k=[0,0,0,0,0,0,0,0];k[0]=d[0]*a+d[4]*l+d[12];k[1]=d[1]*a+d[5]*l+d[13];k[2]=d[2]*a+d[6]*l+d[14];k[3]=d[3]*a+d[7]*l+d[15];k[4]=e[0]*k[0]+e[4]*k[1]+e[8]*k[2]+e[12]*k[3];k[5]=e[1]*k[0]+e[5]*k[1]+e[9]*k[2]+e[13]*k[3];k[6]=e[2]*k[0]+e[6]*k[1]+e[10]*k[2]+e[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],c[0]=(.5*k[4]+
.5)*this.width,c[1]=(.5*k[5]+.5)*this.height)};b.prototype.Kf=function(a,l,c){if(this.width!==a||this.height!==l||c){this.Ed();c=this.B;this.width=a;this.height=l;c.viewport(0,0,a,l);$b(this.Kk,this.Ao,this.Yp,this.uc);if(this.na){var d=-a/2;a=a/2;var e=l/2;l=-l/2;var k=this.xk,f=this.Xm,b=this.Ij;b||(b=Xb());var u=a-d,p=l-e,h=f-k;b[0]=2/u;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2/p;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=-2/h;b[11]=0;b[12]=-(d+a)/u;b[13]=-(l+e)/p;b[14]=-(f+k)/h;b[15]=1;this.yi[0]=1;this.yi[1]=
1}else l=a/l,d=this.xk,a=this.Xm,b=this.Ij,f=d*Math.tan(45*Math.PI/360),l*=f,e=-l,k=-f,b||(b=Xb()),u=l-e,p=f-k,h=a-d,b[0]=2*d/u,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=2*d/p,b[6]=0,b[7]=0,b[8]=(l+e)/u,b[9]=(f+k)/p,b[10]=-(a+d)/h,b[11]=-1,b[12]=0,b[13]=0,b[14]=-(a*d*2)/h,b[15]=0,d=[0,0],a=[0,0],this.mp(0,0,d),this.mp(1,1,a),this.yi[0]=1/(a[0]-d[0]),this.yi[1]=-1/(a[1]-d[1]);d=0;for(a=this.Ha.length;d<a;d++)e=this.Ha[d],e.of=!1,e.yo&&(c.useProgram(e.ei),c.uniformMatrix4fv(e.yo,!1,this.Ij));c.useProgram(this.Ha[this.Bh].ei);
c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.xf=this.He=null;this.Xi&&(c.bindFramebuffer(c.FRAMEBUFFER,this.cl),c.bindRenderbuffer(c.RENDERBUFFER,this.Xi),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.rn||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.Xi),this.rn=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),
this.Xj=null)}};b.prototype.Fc=function(){$b(this.Kk,this.Ao,this.Yp,this.uc);Zb(this.uc,this.yi)};b.prototype.translate=function(a,l){if(0!==a||0!==l){this.Ue[0]=a;this.Ue[1]=l;this.Ue[2]=0;var c=this.uc,d=this.Ue,e=d[0],k=d[1],d=d[2];c[12]=c[0]*e+c[4]*k+c[8]*d+c[12];c[13]=c[1]*e+c[5]*k+c[9]*d+c[13];c[14]=c[2]*e+c[6]*k+c[10]*d+c[14];c[15]=c[3]*e+c[7]*k+c[11]*d+c[15]}};b.prototype.scale=function(a,l){if(1!==a||1!==l)this.Ue[0]=a,this.Ue[1]=l,this.Ue[2]=1,Zb(this.uc,this.Ue)};b.prototype.Zj=function(a){if(0!==
a){var l=this.uc,c,d=Math.sin(a);a=Math.cos(a);var e=l[0],k=l[1],f=l[2],b=l[3],u=l[4],p=l[5],h=l[6],n=l[7];c?l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]):c=l;c[0]=e*a+u*d;c[1]=k*a+p*d;c[2]=f*a+h*d;c[3]=b*a+n*d;c[4]=e*-d+u*a;c[5]=k*-d+p*a;c[6]=f*-d+h*a;c[7]=b*-d+n*a}};b.prototype.wc=function(){if(!g(this.Ol,this.uc)){var a=this.Wb();a.type=5;a.S?Yb(this.uc,a.S):a.S=Xb(this.uc);Yb(this.uc,this.Ol);this.jb=!1}};b.prototype.ck=function(a){this.na&&
(32760<a&&(a=32760),this.Vi=this.Kk[2]-this.xk-a*this.rv)};t.prototype.cs=function(){var a=this.B,c=this.n;0!==this.Eb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,c.cl),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),c.rj=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),c.rj=!1)};t.prototype.hs=function(){this.B.bindTexture(this.B.TEXTURE_2D,
this.Jc)};t.prototype.ks=function(){var a=this.B;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Jc);a.activeTexture(a.TEXTURE0)};t.prototype.ds=function(){var a=this.ep,c=this.n;c.Ui=a;c=c.Xf;c.tg&&c.Hj!==a&&(c.Hj=a,this.B.uniform1f(c.tg,a))};t.prototype.Yr=function(){this.B.drawElements(this.B.TRIANGLES,this.qc,this.B.UNSIGNED_SHORT,this.Eb)};t.prototype.$r=function(){this.B.blendFunc(this.Eb,this.qc)};t.prototype.ns=function(){var a,c,b,d=this.n.Ha,e=this.n.Cn;a=0;for(c=d.length;a<
c;a++)b=d[a],a===e&&b.Ej?(b.Tm(this.S),b.of=!0):b.of=!1;Yb(this.S,this.n.Tk)};t.prototype.Zr=function(){var a=this.B,c=this.n;this.Jc?(c.xf===this.Jc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),c.xf=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,c.cl),c.rj||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Jc,0)):(c.na||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
t.prototype.Vr=function(){var a=this.B,c=this.Eb;0===c?(a.clearColor(this.S[0],this.S[1],this.S[2],this.S[3]),a.clear(a.COLOR_BUFFER_BIT)):1===c?(a.enable(a.SCISSOR_TEST),a.scissor(this.S[0],this.S[1],this.S[2],this.S[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};t.prototype.bs=function(){var a=this.B;0!==this.Eb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};t.prototype.Xr=function(){var a=this.B,c=this.n;c.na&&a.disable(a.DEPTH_TEST);
var b=c.Ha[1];a.useProgram(b.ei);!b.of&&b.Ej&&(b.Tm(c.Tk),b.of=!0);a.enableVertexAttribArray(b.Ac);a.bindBuffer(a.ARRAY_BUFFER,c.im);a.vertexAttribPointer(b.Ac,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Eb/4,this.qc);b=c.Xf;a.useProgram(b.ei);0<=b.Ac&&(a.enableVertexAttribArray(b.Ac),a.bindBuffer(a.ARRAY_BUFFER,c.vi[c.Cd]),a.vertexAttribPointer(b.Ac,c.na?3:2,a.FLOAT,!1,0,0));0<=b.Ke&&(a.enableVertexAttribArray(b.Ke),a.bindBuffer(a.ARRAY_BUFFER,c.ki[c.Cd]),a.vertexAttribPointer(b.Ke,2,a.FLOAT,!1,
0,0));c.na&&a.enable(a.DEPTH_TEST)};t.prototype.es=function(){var a=this.B,c=this.n,b=c.Ha[this.Eb];c.Cn=this.Eb;c.Xf=b;a.useProgram(b.ei);!b.of&&b.Ej&&(b.Tm(c.Tk),b.of=!0);b.tg&&b.Hj!==c.Ui&&(b.Hj=c.Ui,a.uniform1f(b.tg,c.Ui));0<=b.Ac&&(a.enableVertexAttribArray(b.Ac),a.bindBuffer(a.ARRAY_BUFFER,c.vi[c.Cd]),a.vertexAttribPointer(b.Ac,c.na?3:2,a.FLOAT,!1,0,0));0<=b.Ke&&(a.enableVertexAttribArray(b.Ke),a.bindBuffer(a.ARRAY_BUFFER,c.ki[c.Cd]),a.vertexAttribPointer(b.Ke,2,a.FLOAT,!1,0,0))};t.prototype.as=
function(){var a=this.S;this.B.uniform4f(this.n.Xf.Tl,a[0],a[1],a[2],a[3])};t.prototype.gs=function(){var a,c,b=this.n.Xf,d=this.B;a=this.S;b.Gh&&this.n.xf!==this.Jc&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Jc),this.n.xf=this.Jc,d.activeTexture(d.TEXTURE0));var e=a[0];b.Vl&&e!==b.Jo&&(b.Jo=e,d.uniform1f(b.Vl,e));e=a[1];b.Ul&&e!==b.Io&&(b.Io=e,d.uniform1f(b.Ul,e));e=a[2];c=a[3];!b.Df||e===b.Do&&c===b.Eo||(b.Do=e,b.Eo=c,d.uniform2f(b.Df,e,c));e=a[4];c=a[5];!b.Cf||e===b.Bo&&c===
b.Co||(b.Bo=e,b.Co=c,d.uniform2f(b.Cf,e,c));e=a[6];b.Fh&&e!==b.Go&&(b.Go=e,d.uniform1f(b.Fh,e));e=a[7];b.Eh&&e!==b.Fo&&(b.Fo=e,d.uniform1f(b.Eh,e));e=a[8];c=a[9];!b.Jh||e===b.No&&c===b.Oo||(b.No=e,b.Oo=c,d.uniform2f(b.Jh,e,c));e=a[10];c=a[11];!b.Hh||e===b.Ko&&c===b.Lo||(b.Ko=e,b.Lo=c,d.uniform2f(b.Hh,e,c));e=a[12];b.Ih&&e!==b.Mo&&(b.Mo=e,d.uniform1f(b.Ih,e));if(b.T.length)for(a=0,c=b.T.length;a<c;a++)e=this.Ep[a],e!==b.Nl[a]&&(b.Nl[a]=e,d.uniform1f(b.T[a][1],e))};b.prototype.Wb=function(){this.Qc===
this.kd.length&&this.kd.push(new t(0,this));return this.kd[this.Qc++]};b.prototype.Ed=function(){if(0!==this.Qc&&!this.B.isContextLost()){var a=this.B;0<this.jm&&(a.bindBuffer(a.ARRAY_BUFFER,this.im),a.bufferSubData(a.ARRAY_BUFFER,0,this.jp.subarray(0,this.jm)),c&&0<=c.Ac&&"<point>"===c.name&&a.vertexAttribPointer(c.Ac,4,a.FLOAT,!1,0,0));if(0<this.Lc){var c=this.Xf;a.bindBuffer(a.ARRAY_BUFFER,this.vi[this.Cd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.wi.subarray(0,this.Lc));c&&0<=c.Ac&&"<point>"!==c.name&&
a.vertexAttribPointer(c.Ac,this.na?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.ki[this.Cd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.li.subarray(0,this.Te));c&&0<=c.Ke&&"<point>"!==c.name&&a.vertexAttribPointer(c.Ke,2,a.FLOAT,!1,0,0)}for(var b,a=0,c=this.Qc;a<c;a++)switch(b=this.kd[a],b.type){case 1:b.Yr();break;case 2:b.hs();break;case 3:b.ds();break;case 4:b.$r();break;case 5:b.ns();break;case 6:b.Zr();break;case 7:b.Vr();break;case 8:b.Xr();break;case 9:b.es();break;case 10:b.gs();break;
case 11:b.ks();break;case 12:b.as();break;case 13:b.bs();break;case 14:b.cs()}this.jm=this.Te=this.Lc=this.Qc=0;this.rj=this.jb=!1;this.Cd++;4<=this.Cd&&(this.Cd=0)}};b.prototype.Xd=function(a){if(a!==this.to&&!this.rh){var c=this.Wb();c.type=3;this.to=c.ep=a;this.jb=!1}};b.prototype.Lb=function(a){if(a!==this.He){var c=this.Wb();c.type=2;this.He=c.Jc=a;this.jb=!1}};b.prototype.Re=function(a,c){if((a!==this.uo||c!==this.so)&&!this.rh){var b=this.Wb();b.type=4;b.Eb=a;b.qc=c;this.uo=a;this.so=c;this.jb=
!1}};b.prototype.up=function(){this.Re(this.B.ONE,this.B.ONE_MINUS_SRC_ALPHA)};b.prototype.Yh=function(a,c,b,d,e,k,f,w){15992<=this.Lc&&this.Ed();var u=this.Lc,p=this.Te,h=this.wi,n=this.li,P=this.Vi;if(this.jb)this.kd[this.Qc-1].qc+=6;else{var E=this.Wb();E.type=1;E.Eb=this.na?u:u/2*3;E.qc=6;this.jb=!0}this.na?(h[u++]=a,h[u++]=c,h[u++]=P,h[u++]=b,h[u++]=d,h[u++]=P,h[u++]=e,h[u++]=k,h[u++]=P,h[u++]=f,h[u++]=w,h[u++]=P):(h[u++]=a,h[u++]=c,h[u++]=b,h[u++]=d,h[u++]=e,h[u++]=k,h[u++]=f,h[u++]=w);n[p++]=
0;n[p++]=0;n[p++]=1;n[p++]=0;n[p++]=1;n[p++]=1;n[p++]=0;n[p++]=1;this.Lc=u;this.Te=p};b.prototype.Ec=function(a,c,b,d,e,k,f,w,u){15992<=this.Lc&&this.Ed();var p=this.Lc,h=this.Te,n=this.wi,P=this.li,E=this.Vi;if(this.jb)this.kd[this.Qc-1].qc+=6;else{var x=this.Wb();x.type=1;x.Eb=this.na?p:p/2*3;x.qc=6;this.jb=!0}var x=u.left,U=u.top,q=u.right;u=u.bottom;this.na?(n[p++]=a,n[p++]=c,n[p++]=E,n[p++]=b,n[p++]=d,n[p++]=E,n[p++]=e,n[p++]=k,n[p++]=E,n[p++]=f,n[p++]=w,n[p++]=E):(n[p++]=a,n[p++]=c,n[p++]=b,
n[p++]=d,n[p++]=e,n[p++]=k,n[p++]=f,n[p++]=w);P[h++]=x;P[h++]=U;P[h++]=q;P[h++]=U;P[h++]=q;P[h++]=u;P[h++]=x;P[h++]=u;this.Lc=p;this.Te=h};b.prototype.Ku=function(a,c,b,d,e,k,f,w,u,p,h,n,P,E,x,U){15992<=this.Lc&&this.Ed();var q=this.Lc,m=this.Te,g=this.wi,r=this.li,t=this.Vi;if(this.jb)this.kd[this.Qc-1].qc+=6;else{var J=this.Wb();J.type=1;J.Eb=this.na?q:q/2*3;J.qc=6;this.jb=!0}this.na?(g[q++]=a,g[q++]=c,g[q++]=t,g[q++]=b,g[q++]=d,g[q++]=t,g[q++]=e,g[q++]=k,g[q++]=t,g[q++]=f,g[q++]=w,g[q++]=t):(g[q++]=
a,g[q++]=c,g[q++]=b,g[q++]=d,g[q++]=e,g[q++]=k,g[q++]=f,g[q++]=w);r[m++]=u;r[m++]=p;r[m++]=h;r[m++]=n;r[m++]=P;r[m++]=E;r[m++]=x;r[m++]=U;this.Lc=q;this.Te=m};b.prototype.Yb=function(a){if(this.Bh!==a){if(!this.Ha[a]){if(0===this.Bh)return;a=0}var c=this.Wb();c.type=9;this.Bh=c.Eb=a;this.jb=!1}};b.prototype.Vh=function(a){a=this.Ha[a];return!(!a.Df&&!a.Cf)};b.prototype.lm=function(a){a=this.Ha[a];return!!(a.Df||a.Cf||a.Bn)};b.prototype.km=function(a){return this.Ha[a].Yc};b.prototype.Gu=function(a){a=
this.Ha[a];return 0!==a.al||0!==a.bl};b.prototype.Bt=function(a){return this.Ha[a].al};b.prototype.Ct=function(a){return this.Ha[a].bl};b.prototype.Dt=function(a,c){return this.Ha[a].T[c][2]};b.prototype.Sj=function(a){return this.Ha[a].nn};b.prototype.Dg=function(a,c,b,d,e,k,f,w,u,p,h,n,q,E,x){var U=this.Ha[this.Bh],m,g;if(U.Vt||x.length){m=this.Wb();m.type=10;m.S?Yb(this.uc,m.S):m.S=Xb();g=m.S;g[0]=c;g[1]=b;g[2]=d;g[3]=e;g[4]=k;g[5]=f;g[6]=w;g[7]=u;g[8]=p;g[9]=h;g[10]=n;g[11]=q;g[12]=E;U.Gh?m.Jc=
a:m.Jc=null;if(x.length)for(b=m.Ep,b.length=x.length,a=0,c=x.length;a<c;a++)b[a]=x[a];this.jb=!1}};b.prototype.clear=function(a,c,b,d){var e=this.Wb();e.type=7;e.Eb=0;e.S||(e.S=Xb());e.S[0]=a;e.S[1]=c;e.S[2]=b;e.S[3]=d;this.jb=!1};b.prototype.clearRect=function(a,c,b,d){if(!(0>b||0>d)){var e=this.Wb();e.type=7;e.Eb=1;e.S||(e.S=Xb());e.S[0]=a;e.S[1]=c;e.S[2]=b;e.S[3]=d;this.jb=!1}};b.prototype.xp=function(a){if(this.na&&(a=!!a,this.rh!==a)){var c=this.Wb();c.type=14;c.Eb=a?1:0;this.jb=!1;this.rh=a;
this.Xj=null;this.rh?this.Yb(2):this.Yb(0)}};b.prototype.wp=function(a){if(this.na){var c=this.Wb();c.type=13;c.Eb=a?1:0;this.jb=!1}};b.prototype.Nn=function(){Yb(this.Ol,q);this.Fc();this.wc();var a=this.width/2,c=this.height/2;this.Yh(-a,c,a,c,a,-c,-a,-c);Yb(q,this.uc);this.wc()};b.prototype.vp=function(a,c,b){this.Yb(3);var d=this.Wb();d.type=12;d.S||(d.S=Xb());d.S[0]=a;d.S[1]=c;d.S[2]=b;d.S[3]=1;this.jb=!1};b.prototype.Zu=function(){this.Yb(0)};b.prototype.Ou=function(){this.Yb(2)};b.prototype.Fu=
function(){this.Ed();this.B.flush()};var r=[],c={};b.prototype.Lr=function(){V(r);c={}};b.prototype.sg=function(a,b,q,d){b=!!b;q=!!q;var e=a.src+","+b+","+q+(b?",undefined":""),k=null;if("undefined"!==typeof a.src&&c.hasOwnProperty(e))return k=c[e],k.Ki++,k;this.Ed();var f=this.B,w=ka(a.width)&&ka(a.height),k=f.createTexture();f.bindTexture(f.TEXTURE_2D,k);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var u=f.RGBA,p=f.RGBA,h=f.UNSIGNED_BYTE;if(d&&!this.Fe)switch(d){case 1:p=u=f.RGB;break;case 2:h=
f.UNSIGNED_SHORT_4_4_4_4;break;case 3:h=f.UNSIGNED_SHORT_5_5_5_1;break;case 4:p=u=f.RGB,h=f.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!w&&b){d=document.createElement("canvas");d.width=ma(a.width);d.height=ma(a.height);var n=d.getContext("2d");"undefined"!==typeof n.imageSmoothingEnabled?n.imageSmoothingEnabled=q:(n.webkitImageSmoothingEnabled=q,n.mozImageSmoothingEnabled=q,n.msImageSmoothingEnabled=q);n.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);f.texImage2D(f.TEXTURE_2D,0,u,p,h,d)}else f.texImage2D(f.TEXTURE_2D,
0,u,p,h,a);b?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));q?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),(w||2<=this.version)&&this.Gn?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR_MIPMAP_LINEAR),f.generateMipmap(f.TEXTURE_2D)):f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,
f.LINEAR)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST));f.bindTexture(f.TEXTURE_2D,null);this.He=null;k.Ze=a.width;k.Ye=a.height;k.Ki=1;k.vn=e;r.push(k);return c[e]=k};b.prototype.ac=function(a,c,b,d,e){this.Ed();var k=this.B;this.Fe&&(d=!1);var f=k.createTexture();k.bindTexture(k.TEXTURE_2D,f);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,a,c,0,k.RGBA,d?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,null);e?(k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,b?k.LINEAR:k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,b?k.LINEAR:k.NEAREST);k.bindTexture(k.TEXTURE_2D,null);this.He=null;f.Ze=a;f.Ye=c;r.push(f);return f};b.prototype.gq=function(a,c,b){this.Ed();var d=this.B;this.Fe&&(b=
!1);d.bindTexture(d.TEXTURE_2D,c);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,b?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.He=null};b.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ki&&1<a.Ki?a.Ki--:(this.Ed(),a===this.He&&(this.B.bindTexture(this.B.TEXTURE_2D,null),this.He=null),a===this.xf&&(this.B.activeTexture(this.B.TEXTURE1),
this.B.bindTexture(this.B.TEXTURE_2D,null),this.B.activeTexture(this.B.TEXTURE0),this.xf=null),Ba(r,a),"undefined"!==typeof a.vn&&delete c[a.vn],this.B.deleteTexture(a)))};b.prototype.Gc=function(a){if(a!==this.Xj){var c=this.Wb();c.type=6;this.Xj=c.Jc=a;this.jb=!1}};db=b})();
(function(){function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var d=this;this.Ee=(this.Dl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.sf=!!a.dc;this.cu="undefined"!==typeof window.AppMobi||
this.sf;this.Uc=!!window.c2cocoonjs;this.Vc=!!window.c2ejecta;this.Uc&&(CocoonJS.App.onSuspended.addEventListener(function(){d.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){d.setSuspended(!1)}));this.Vc&&(document.addEventListener("pagehide",function(){d.setSuspended(!0)}),document.addEventListener("pageshow",function(){d.setSuspended(!1)}),document.addEventListener("resize",function(){d.setSize(window.innerWidth,window.innerHeight)}));this.Tb=this.sf||this.Uc||this.Vc;this.tj=
/edge\//i.test(navigator.userAgent);this.Fe=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.tj;this.ko=/tizen/i.test(navigator.userAgent);this.ho=/android/i.test(navigator.userAgent)&&!this.ko&&!this.Fe&&!this.tj;this.qo=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Fe&&!this.tj;this.ku=/ipad/i.test(navigator.userAgent);this.Ll=this.qo||this.ku||this.Vc;this.eu=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Fe&&!this.tj;this.bu=/amazonwebappplatform/i.test(navigator.userAgent);this.gu=/firefox/i.test(navigator.userAgent);this.uj="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.oo=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.ju=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.wh=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Jl=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.no=!!window.cr_windows10;this.iu=this.oo||this.ju||this.Jl||this.no;this.du=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.io=this.ho&&!this.eu&&!this.Dl&&!this.gu&&!this.bu&&!this.Tb;this.devicePixelRatio=1;this.tf=this.Ee||this.Dl||this.cu||this.Uc||this.ho||this.Ll||this.wh||this.Jl||this.du||this.ko||this.Vc;this.tf||
(this.tf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.lo=!!(this.Ll&&this.Ee&&window.webkit);"undefined"===typeof cr_is_preview||this.uj||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.uj=!0);this.canvas=a;this.xn=document.getElementById("c2canvasdiv");this.n=this.B=null;this.sl="(unavailable)";this.na=!1;this.gf=0;this.ta=null;this.cj=!1;this.bp=this.cp=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.sf&&(window.c2runtime=this);this.uj&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.io&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.I=this.width;this.H=this.height;this.Si=this.width;this.Zg=this.height;this.pg=window.innerWidth;this.og=window.innerHeight;this.L=!0;this.vh=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.A=[];this.Ea=[];this.rg={};this.Wc=[];this.$k={};this.Fd=[];this.Mg=[];this.rk=[];this.Cr=[];this.Dr=[];this.ro=this.Kp=null;this.ef={};this.Fl=this.Ce=!1;this.Ld=
0;this.El=this.Hl=!1;this.Sc=[];this.sh=!1;this.Aj=this.xm="";this.cb=null;this.Md="";this.ji=this.Hp=!1;this.bj=[];this.ff=this.$f=0;this.To=30;this.Rk=this.Kh=0;this.Ig=1;this.tc=new Ua;this.wk=new Ua;this.Nj=this.jj=this.eh=this.cd=this.zf=this.el=this.xj=0;this.bf=null;this.Yi=[];this.Zk=[];this.Zi=-1;this.Wl=[[]];this.Om=this.Fj=0;this.Uj(null);this.Xo=this.Oh=0;this.Pl=!0;this.gh=0;this.jk=[];this.Lm=this.nm=-1;this.kg=!0;this.Dj=0;this.uh=!1;this.bv=0;this.Tg=null;this.sj=!1;this.Zo=new ba;
this.dm=new ba;this.$o=new ba;this.Jf=[];this.bd=new Wa([]);this.Fm=new Wa([]);this.Sf=[];this.kh={};this.ve={};this.me={};this.Lg={};this.sn={};this.xo=this.zj=this.Sa=this.bb=this.wo=this.yj=this.pa=null;this.Jg=this.Kl=!1;this.gl=[null,null];this.kf=0;this.Rd={};this.hi=this.Ie=null;this.Ip="";this.Mj=[];this.Nu()}}function m(a,d){return 128>=d?a[3]:256>=d?a[2]:512>=d?a[1]:a[0]}function g(){try{return!!window.indexedDB}catch(a){return!1}}function t(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function q(a,d,h,e){try{var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=t;c.onerror=e;c.onsuccess=function(c){c=c.target.result;c.onerror=e;c.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:d}).onsuccess=h}}catch(f){e(f)}}function r(a,d,h){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=t;e.onerror=h;e.onsuccess=function(e){e=e.target.result;e.onerror=h;var c=e.transaction(["saves"]).objectStore("saves").get(a);c.onsuccess=function(){c.result?
d(c.result.data):d(null)}}}catch(c){h(c)}}function c(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var d,h={};for(d in a)!a.hasOwnProperty(d)||a[d]instanceof ba||a[d]&&"undefined"!==typeof a[d].ww||"spriteCreatedDestroyCallback"!==d&&(h[d]=a[d]);return h}var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Nu=function(){var a=this;if(this.lo)this.gt(function(d){a.Dh(JSON.parse(d))},function(){alert("Error fetching data.js")});else{var d;this.wh?d=new ActiveXObject("Microsoft.XMLHTTP"):d=new XMLHttpRequest;var h="data.js";if(this.oo||this.wh||this.Jl||this.no)h="data.json";d.open("GET",h,!0);var e=!1;if(!this.Tb&&"response"in d&&"responseType"in d)try{d.responseType="json",e="json"===d.responseType}catch(c){e=!1}if(!e&&"responseType"in
d)try{d.responseType="text"}catch(f){}if("overrideMimeType"in d)try{d.overrideMimeType("application/json; charset=utf-8")}catch(k){}this.wh?d.onreadystatechange=function(){4===d.readyState&&a.Dh(JSON.parse(d.responseText))}:(d.onload=function(){if(e)a.Dh(d.response);else if(a.Vc){var h=d.responseText,h=h.substr(h.indexOf("{"));a.Dh(JSON.parse(h))}else a.Dh(JSON.parse(d.responseText))},d.onerror=function(a){ga("Error requesting "+h+":");ga(a)});d.send()}};b.prototype.Yt=function(){var a=this,d,h,e,
c,f,k,b,n,p;this.uf=(!this.Tb||this.Vc||this.Ee)&&this.lv&&!this.io;0===this.cc&&this.Ll&&(this.uf=!1);this.devicePixelRatio=this.uf?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.wb();0<this.cc&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(d){d.preventDefault();a.tu();fa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",
function(){a.n.ao();a.n.Kf(a.n.width,a.n.height,!0);a.bb=null;a.Sa=null;a.gl[0]=null;a.gl[1]=null;a.uu();a.L=!0;fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.xs&&(this.Uc||this.Vc||!this.Tb)&&(d={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.B=this.canvas.getContext("webgl2",d)||this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(l){}if(this.B){if(d=this.B.getExtension("WEBGL_debug_renderer_info"))this.sl=
this.B.getParameter(d.UNMASKED_RENDERER_WEBGL)+" ["+this.B.getParameter(d.UNMASKED_VENDOR_WEBGL)+"]";this.na&&(this.sl+=" [front-to-back enabled]");this.Tb||(this.sb=document.createElement("canvas"),jQuery(this.sb).appendTo(this.canvas.parentNode),this.sb.oncontextmenu=function(){return!1},this.sb.onselectstart=function(){return!1},this.sb.width=Math.round(this.Si*this.devicePixelRatio),this.sb.height=Math.round(this.Zg*this.devicePixelRatio),jQuery(this.sb).css({width:this.Si+"px",height:this.Zg+
"px"}),this.kp(),this.hm=this.sb.getContext("2d"));this.n=new db(this.B,this.tf,this.na);this.n.Kf(this.canvas.width,this.canvas.height);this.n.Gn=0!==this.os;this.ta=null;d=0;for(h=this.A.length;d<h;d++)for(f=this.A[d],e=0,c=f.O.length;e<c;e++)b=f.O[e],b.Wa=this.n.ql(b.id),b.Yc=this.n.km(b.Wa),this.Jg=this.Jg||this.n.Vh(b.Wa);d=0;for(h=this.Wc.length;d<h;d++){n=this.Wc[d];e=0;for(c=n.O.length;e<c;e++)b=n.O[e],b.Wa=this.n.ql(b.id),b.Yc=this.n.km(b.Wa);n.fd();e=0;for(c=n.Q.length;e<c;e++){p=n.Q[e];
f=0;for(k=p.O.length;f<k;f++)b=p.O[f],b.Wa=this.n.ql(b.id),b.Yc=this.n.km(b.Wa),this.Jg=this.Jg||this.n.Vh(b.Wa);p.fd()}}}else{if(0<this.cc&&this.sf){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.ta=AppMobi.canvas.getContext("2d");try{this.ta.samplingMode=this.qa?"smooth":"sharp",this.ta.globalScale=1,this.ta.HTML5CompatibilityMode=!0,this.ta.imageSmoothingEnabled=this.qa}catch(E){}0!==this.width&&0!==this.height&&(this.ta.width=this.width,
this.ta.height=this.height)}this.ta||(this.Uc?(d={antialias:!!this.qa,alpha:!0},this.ta=this.canvas.getContext("2d",d)):(d={alpha:!0},this.ta=this.canvas.getContext("2d",d)),this.bk(this.ta,this.qa));this.hm=this.sb=null}this.Op=function(d){a.Ob(!1,d)};window==window.top||this.Tb||this.iu||this.wh||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Uc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),
-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.Aj="__c2_continuouspreview",this.ji=!0),this.zu&&!this.tf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var d=window.parent;d&&d.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Hf()});this.Tb||(d=function(a){if(cb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(d){}},
"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.cc&&this.uf&&1<this.devicePixelRatio&&this.setSize(this.Ua,this.Ta,!0);this.Wp();this.St();this.go();this.R={}};b.prototype.setSize=function(a,d,h){var e=0,c=0,f=0,k=0,k=0;if(this.pg!==a||this.og!==d||h){this.pg=a;this.og=d;var b=this.cc;if((f=(document.mozFullScreen||
document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.uh)&&!this.Ee)||0!==this.cc||h)f&&0<this.kf&&(b=this.kf),h=this.devicePixelRatio,4<=b?(f=this.Ua/this.Ta,a/d>f?(f*=d,5===b?(k=f*h/this.Ua,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),f=this.Ua*k/h,k=this.Ta*k/h,e=(a-f)/2,c=(d-k)/2,a=f,d=k):(e=(a-f)/2,a=f)):(k=a/f,5===b?(k=k*h/this.Ta,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),f=this.Ua*k/h,k=this.Ta*k/h,e=(a-f)/2,c=(d-k)/2,a=f):c=(d-k)/2,d=k)):this.uj&&this.uh&&
0===this.On&&(e=Math.floor((a-this.Ua)/2),c=Math.floor((d-this.Ta)/2),a=this.Ua,d=this.Ta),2>b&&(this.Sg=h),this.Si=Math.round(a),this.Zg=Math.round(d),this.width=Math.round(a*h),this.height=Math.round(d*h),this.L=!0,this.hq?(this.I=this.width,this.H=this.height,this.oc=!0):this.width<this.Ua&&this.height<this.Ta||1===b?(this.I=this.width,this.H=this.height,this.oc=!0):(this.I=this.Ua,this.H=this.Ta,this.oc=!1,2===b?(f=this.Ua/this.Ta,b=this.pg/this.og,b<f?this.I=this.H*b:b>f&&(this.H=this.I/b)):
3===b&&(f=this.Ua/this.Ta,b=this.pg/this.og,b>f?this.I=this.H*b:b<f&&(this.H=this.I/b))),this.xn&&!this.Tb&&(jQuery(this.xn).css({width:Math.round(a)+"px",height:Math.round(d)+"px","margin-left":Math.floor(e)+"px","margin-top":Math.floor(c)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(d)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*h),this.canvas.height=Math.round(d*h),this.Vc?(this.canvas.style.left=Math.floor(e)+"px",this.canvas.style.top=
Math.floor(c)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(d)+"px"):this.uf&&!this.Tb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(d)+"px")),this.sb&&(this.sb.width=Math.round(a*h),this.sb.height=Math.round(d*h),this.sb.style.width=this.Si+"px",this.sb.style.height=this.Zg+"px"),this.n&&this.n.Kf(Math.round(a*h),Math.round(d*h)),this.sf&&this.ta&&(this.ta.width=Math.round(a),this.ta.height=Math.round(d)),this.ta&&this.bk(this.ta,
this.qa),this.Wp(),this.qo&&!this.Ee&&window.scrollTo(0,0)}};b.prototype.Wp=function(){if(this.Fr&&0!==this.gm){var a="portrait";2===this.gm&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(d){console&&console.warn&&
console.warn("Failed to lock orientation: ",d)}}};b.prototype.tu=function(){this.n.Lr();this.Kl=!0;var a,d,h;a=0;for(d=this.A.length;a<d;a++)h=this.A[a],h.zg&&h.zg()};b.prototype.uu=function(){this.Kl=!1;var a,d,h;a=0;for(d=this.A.length;a<d;a++)h=this.A[a],h.Rh&&h.Rh()};b.prototype.kp=function(){if(!this.Tb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.uh)&&!this.Ee?jQuery(this.canvas).offset():jQuery(this.canvas).position();
a.position="absolute";jQuery(this.sb).css(a)}};var v=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var d;if(a&&!this.vh)for(fa("[Construct 2] Suspending"),this.vh=!0,-1!==this.nm&&v&&v(this.nm),-1!==this.Lm&&clearTimeout(this.Lm),a=0,d=this.jk.length;a<d;a++)this.jk[a](!0);else if(!a&&this.vh){fa("[Construct 2] Resuming");this.vh=!1;this.xj=Qa();this.zf=
Qa();a=this.Kh=this.jj=0;for(d=this.jk.length;a<d;a++)this.jk[a](!1);this.Ob(!1)}};b.prototype.ke=function(a){return this.Mj[a]};b.prototype.Dh=function(a){a&&a.project||ga("Project model unavailable");a=a.project;this.name=a[0];this.Mn=a[1];this.cc=a[12];this.On=a[12];this.Ua=a[10];this.Ta=a[11];this.fp=this.Ua/2;this.gp=this.Ta/2;this.Tb&&!this.Vc&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.On=
this.cc=3);this.Vm=a[18];this.Je=a[19];if(0===this.Je){var d=new Image;d.crossOrigin="anonymous";this.yp(d,"loading-logo.png");this.Ie={Gj:d}}else if(4===this.Je){d=new Image;d.src="";var h=new Image;h.src="";var e=new Image;e.src="";var c=new Image;c.src="";var f=new Image;f.src="";var k=new Image;k.src="";var b=new Image;b.src="";var n=new Image;n.src="";var p=new Image;p.src="";var l=new Image;l.src="";var E=new Image;E.src="";var x=new Image;x.src="";this.Ie={Gj:[d,h,e,c],Cu:[f,k,b,n],ov:[p,l,
E,x]}}this.Oh=a[21];this.Mj=bc();this.ud=new Y(this);d=0;for(h=a[2].length;d<h;d++)b=a[2][d],e=this.ke(b[0]),eb(b,e.prototype),n=new e(this),n.hk=b[1],n.Ge=b[2],n.Aw=b[5],n.Uo=b[9],n.K&&n.K(),this.plugins.push(n);this.Mj=bc();d=0;for(h=a[3].length;d<h;d++){b=a[3][d];f=this.ke(b[1]);n=null;e=0;for(c=this.plugins.length;e<c;e++)if(this.plugins[e]instanceof f){n=this.plugins[e];break}p=new n.ea(n);p.name=b[0];p.F=b[2];p.Cl=b[3].slice(0);p.nv=b[3].length;p.Gr=b[4];p.kt=b[5];p.X=b[11];p.F?(p.Mh=[],p.Gd=
this.gh++,p.Aa=null):(p.Mh=null,p.Gd=-1,p.Aa=[]);p.aj=null;p.bg=null;p.Hn=null;p.sc=!1;p.$b=null;b[6]?(p.mi=b[6][0],p.lk=b[6][1],p.ni=b[6][2]):(p.mi=null,p.lk=0,p.ni=0);b[7]?p.Zb=b[7]:p.Zb=null;p.index=d;p.j=[];p.Wi=[];p.ae=[new fb(p)];p.ld=0;p.md=null;p.Qr=0;p.Gg=!0;p.sk=gb;p.ot=hb;p.At=ib;p.la=jb;p.Xh=kb;p.Tj=lb;p.If=mb;p.kj=nb;p.il=ob;p.ml=pb;p.jd=qb;p.ol=rb;p.Qi=new Xa(this.Ua,this.Ta);p.Di=!0;p.Ei=!1;p.R={};p.toString=sb;p.Ea=[];e=0;for(c=b[8].length;e<c;e++){l=b[8][e];E=this.ke(l[1]);x=null;
f=0;for(k=this.Ea.length;f<k;f++)if(this.Ea[f]instanceof E){x=this.Ea[f];break}x||(x=new E(this),x.Lj=[],x.Kj=new ba,x.K&&x.K(),this.Ea.push(x),cc&&x instanceof cc&&(this.Kp=x),dc&&x instanceof dc&&(this.ro=x));-1===x.Lj.indexOf(p)&&x.Lj.push(p);f=new x.ea(x,p);f.name=l[0];f.X=l[2];f.K();p.Ea.push(f)}p.global=b[9];p.Gl=b[10];p.O=[];e=0;for(c=b[12].length;e<c;e++)p.O.push({id:b[12][e][0],name:b[12][e][1],Wa:-1,Yc:!1,xb:!0,index:e});p.ok=b[13];this.Vm&&!p.F&&!p.Gl&&n.Ge||p.K();p.name&&(this.types[p.name]=
p);this.A.push(p);n.hk&&(e=new n.Y(p),e.uid=this.Oh++,e.op=this.Xo++,e.pf=0,e.ih=tb,e.toString=ub,e.u=b[14],e.K(),p.j.push(e),this.Rd[e.uid.toString()]=e)}d=0;for(h=a[4].length;d<h;d++)for(f=a[4][d],k=this.A[f[0]],e=1,c=f.length;e<c;e++)b=this.A[f[e]],b.Aa.push(k),k.Mh.push(b);d=0;for(h=a[28].length;d<h;d++){f=a[28][d];k=[];e=0;for(c=f.length;e<c;e++)k.push(this.A[f[e]]);e=0;for(c=k.length;e<c;e++)k[e].sc=!0,k[e].$b=k}if(0<this.gh)for(d=0,h=this.A.length;d<h;d++)if(b=this.A[d],!b.F&&b.Aa.length){b.aj=
Array(this.gh);b.bg=Array(this.gh);b.Hn=Array(this.gh);p=[];e=x=E=l=0;for(c=b.Aa.length;e<c;e++)for(n=b.Aa[e],b.aj[n.Gd]=l,l+=n.nv,b.bg[n.Gd]=E,E+=n.Gr,b.Hn[n.Gd]=x,x+=n.kt,f=0,k=n.O.length;f<k;f++)p.push(va({},n.O[f]));b.O=p.concat(b.O);e=0;for(c=b.O.length;e<c;e++)b.O[e].index=e}d=0;for(h=a[5].length;d<h;d++)b=a[5][d],e=new vb(this,b),this.rg[e.name]=e,this.Wc.push(e);d=0;for(h=a[6].length;d<h;d++)b=a[6][d],e=new wb(this,b),this.$k[e.name]=e,this.Fd.push(e);d=0;for(h=this.Fd.length;d<h;d++)this.Fd[d].Ma();
d=0;for(h=this.Fd.length;d<h;d++)this.Fd[d].Sm();d=0;for(h=this.rk.length;d<h;d++)this.rk[d].Ma();V(this.rk);this.Er=a[7];this.Vb=a[9];this.Sg=1;this.xs=a[13];this.qa=a[14];this.zn=a[15];this.lv=a[17];this.gm=a[20];this.Fr=0<this.gm;this.zu=a[22];this.oc=this.hq=a[23];this.os=a[24];this.Du=a[25];this.na=a[27]&&!this.Fe;this.ik=Date.now();V(this.Mj);this.Yt()};var d=!1,e=0,k=[];b.prototype.Lu=function(a,d){function h(){e--;c.Qo()}var c=this;a.addEventListener("load",h);a.addEventListener("error",h);
k.push([a,d]);this.Qo()};b.prototype.Qo=function(){for(var a;k.length&&100>e;)e++,a=k.shift(),this.yp(a[0],a[1])};b.prototype.vk=function(a,h){a.cocoonLazyLoad=!0;a.onerror=function(h){d=a.un=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",h)};this.Vc?a.src=h:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(h,function(d){a.src=d},function(e){d=a.un=!0;console&&console.error&&console.error("Error extracting image '"+h+"' from expansion file: ",e)}):(a.crossOrigin=
"anonymous",this.Lu(a,h)));this.Mg.push(a)};b.prototype.it=function(a){var d,h;d=0;for(h=this.Mg.length;d<h;d++)if(this.Mg[d].Mr===a)return this.Mg[d];return null};var f=0,w=!1;b.prototype.St=function(){this.Tg&&(f=this.Tg.Dw(this.Er))};b.prototype.qn=function(){var a=f,d=0,h=0,e=!0,c,k,h=0;for(c=this.Mg.length;h<c;h++){k=this.Mg[h];var b=k.Sk;if(!b||0>=b)b=5E4;a+=b;k.src&&(k.complete||k.loaded)&&!k.un?d+=b:e=!1}e&&this.Du&&this.Tg&&(w||(this.Tg.Ew(),w=!0),h=this.Tg.yw(),d+=h,h<f&&(e=!1));this.Zc=
0==a?1:d/a;return e};var u=!1;b.prototype.go=function(){if(this.ta||this.n){var a=this.ta||this.hm;this.sb&&this.kp();var h=window.innerWidth,e=window.innerHeight;this.pg===h&&this.og===e||this.setSize(h,e);this.Zc=0;this.vo=-1;var c=this;if(this.qn()&&(4!==this.Je||u))this.Tt();else{e=Date.now()-this.ik;if(a){var f=this.width,k=this.height,h=this.devicePixelRatio;if(3>this.Je&&(this.Uc||500<=e&&this.vo!=this.Zc)){a.clearRect(0,0,f,k);var e=f/2,k=k/2,f=0===this.Je&&this.Ie.Gj.complete,b=40*h,n=0,
p=80*h,x;if(f){var E=this.Ie.Gj,p=E.width*h;x=E.height*h;b=p/2;n=x/2;a.drawImage(E,A(e-b),A(k-n),p,x)}1>=this.Je?(e=A(e-b)+.5,k=A(k+(n+(f?12*h:0)))+.5,a.fillStyle=d?"red":"DodgerBlue",a.fillRect(e,k,Math.floor(p*this.Zc),6*h),a.strokeStyle="black",a.strokeRect(e,k,p,6*h),a.strokeStyle="white",a.strokeRect(e-1*h,k-1*h,p+2*h,8*h)):2===this.Je&&(a.font=this.Vc?"12pt ArialMT":"12pt Arial",a.fillStyle=d?"#f00":"#999",a.Fw="middle",h=Math.round(100*this.Zc)+"%",f=a.measureText?a.measureText(h):null,a.fillText(h,
e-(f?f.width:0)/2,k));this.vo=this.Zc}else if(4===this.Je){this.vs(a);l?l(function(){c.go()}):setTimeout(function(){c.go()},16);return}}setTimeout(function(){c.go()},this.Uc?10:100)}}};var p=-1,h="undefined"===typeof cr_is_preview?200:0,n=!0,P=!1,E=0,x=0,U="undefined"===typeof cr_is_preview?3E3:0,Q=null,R=null,M=0;b.prototype.vs=function(a){if(!u){for(var e=Math.ceil(this.width),c=Math.ceil(this.height),f=this.Ie.Gj,k=this.Ie.Cu,b=this.Ie.ov,l=0;4>l;++l)if(!f[l].complete||!k[l].complete||!b[l].complete)return;
0===M&&(p=Date.now());var l=Date.now(),q=!1,w=a,g,r;n||P?(a.clearRect(0,0,e,c),Q&&Q.width===e&&Q.height===c||(Q=document.createElement("canvas"),Q.width=e,Q.height=c,R=Q.getContext("2d")),w=R,q=!0,n&&1===M&&(p=Date.now())):a.globalAlpha=1;w.fillStyle="#333333";w.fillRect(0,0,e,c);256<this.Zg?(g=Ca(.22*c,105,.6*e),r=.25*g,w.drawImage(m(k,g),.5*e-g/2,.2*c-r/2,g,r),r=g=Math.min(.395*c,.95*e),w.drawImage(m(f,g),.5*e-g/2,.485*c-r/2,g,r),g=Ca(.22*c,105,.6*e),r=.25*g,w.drawImage(m(b,g),.5*e-g/2,.868*c-r/
2,g,r),w.fillStyle="#3C3C3C",g=e,r=Math.max(.005*c,2),w.fillRect(0,.8*c-r/2,g,r),w.fillStyle=d?"red":"#E0FF65",g=e*this.Zc,w.fillRect(.5*e-g/2,.8*c-r/2,g,r)):(r=g=.55*c,w.drawImage(m(f,g),.5*e-g/2,.45*c-r/2,g,r),w.fillStyle="#3C3C3C",g=e,r=Math.max(.005*c,2),w.fillRect(0,.85*c-r/2,g,r),w.fillStyle=d?"red":"#E0FF65",g=e*this.Zc,w.fillRect(.5*e-g/2,.85*c-r/2,g,r));q&&(n?a.globalAlpha=0===M?0:Math.min((l-p)/300,1):P&&(a.globalAlpha=Math.max(1-(l-x)/300,0)),a.drawImage(Q,0,0,e,c));n&&300<=l-p&&2<=M&&
(n=!1,E=l);!n&&l-E>=U&&!P&&1<=this.Zc&&(P=!0,x=l);if(P&&l-x>=300+h||"undefined"!==typeof cr_is_preview&&1<=this.Zc&&500>Date.now()-p)u=!0,P=n=!1,this.Ie=R=Q=null;++M}};b.prototype.Tt=function(){this.sb&&(this.canvas.parentNode.removeChild(this.sb),this.sb=this.hm=null);this.ik=Date.now();this.zf=Qa();var a,d,h;if(this.Vm)for(a=0,d=this.A.length;a<d;a++)h=this.A[a],h.F||h.Gl||!h.Ca.Ge||h.K();else this.kg=!1;a=0;for(d=this.Wc.length;a<d;a++)this.Wc[a].Nr();2<=this.cc&&(a=this.Ua/this.Ta,d=this.width/
this.height,this.Sg=2!==this.cc&&d>a||2===this.cc&&d<a?this.height/this.Ta:this.width/this.Ua);this.Mn?this.rg[this.Mn].Em():this.Wc[0].Em();this.Vm||(this.Dj=1,this.trigger(Y.prototype.m.dn,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(d=this.A.length;a<d;a++)h=this.A[a],h.su&&h.su();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ob(!1);this.sf&&
AppMobi.webview.execute("onGameReady();")};b.prototype.Ob=function(a,d,h){if(this.pa){var e=Qa();if(h||!this.vh||a){a||(l?this.nm=l(this.Op):this.Lm=setTimeout(this.Op,this.tf?1:16));d=d||e;var c=this.cc;((h=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Ee)||this.uh)&&0<this.kf&&(c=this.kf);if(0<c){var c=window.innerWidth,f=window.innerHeight;this.pg===c&&this.og===f||this.setSize(c,f)}this.Tb||(h?this.cj||(this.cj=!0):this.cj?(this.cj=
!1,0===this.cc&&this.setSize(Math.round(this.cp/this.devicePixelRatio),Math.round(this.bp/this.devicePixelRatio),!0)):(this.cp=this.width,this.bp=this.height));this.kg&&(h=this.qn(),this.Dj=this.Zc,h&&(this.kg=!1,this.Zc=1,this.trigger(Y.prototype.m.dn,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.nu(d);!this.L&&!this.Uc||this.Kl||this.ji||a||(this.L=!1,this.n?this.Bb():this.zc(),this.hi&&(this.canvas&&this.canvas.toDataURL&&(this.Ip=this.canvas.toDataURL(this.hi[0],this.hi[1]),window.cr_onSnapshot&&
window.cr_onSnapshot(this.Ip),this.trigger(Y.prototype.m.Pq,null)),this.hi=null));this.zw||(this.cd++,this.eh++,this.jj++);this.Kh+=Qa()-e}}};b.prototype.nu=function(a){var d,h,e,c,f,k,b,n;1E3<=a-this.zf&&(this.zf+=1E3,1E3<=a-this.zf&&(this.zf=a),this.el=this.jj,this.jj=0,this.Rk=this.Kh,this.Kh=0);d=0;0!==this.xj&&(d=a-this.xj,0>d&&(d=0),this.ff=d/=1E3,.5<this.ff?this.ff=0:this.ff>1/this.To&&(this.ff=1/this.To));this.xj=a;this.$f=this.ff*this.Ig;this.tc.add(this.$f);this.wk.add(d);a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.uh)&&!this.Ee;2<=this.cc||a&&0<this.kf?(d=this.Ua/this.Ta,h=this.width/this.height,e=this.cc,a&&0<this.kf&&(e=this.kf),this.Sg=2!==e&&h>d||2===e&&h<d?this.height/this.Ta:this.width/this.Ua,this.pa&&(this.pa.ym(this.pa.scrollX),this.pa.zm(this.pa.scrollY))):this.Sg=this.uf?this.devicePixelRatio:1;this.wb();this.Ld++;this.ud.Ru();this.Ld--;this.wb();this.Ld++;h=this.Zo.ge();a=0;for(d=h.length;a<d;a++)h[a].Bw();a=
0;for(d=this.A.length;a<d;a++)if(k=this.A[a],!k.F&&(k.Ea.length||k.Aa.length))for(h=0,e=k.j.length;h<e;h++)for(b=k.j[h],c=0,f=b.J.length;c<f;c++)b.J[c].Ob();a=0;for(d=this.A.length;a<d;a++)if(k=this.A[a],!k.F&&(k.Ea.length||k.Aa.length))for(h=0,e=k.j.length;h<e;h++)for(b=k.j[h],c=0,f=b.J.length;c<f;c++)n=b.J[c],n.lp&&n.lp();h=this.dm.ge();a=0;for(d=h.length;a<d;a++)h[a].Ob();this.Ld--;this.Ut();for(a=0;this.bf&&10>a++;)this.Fn(this.bf);a=0;for(d=this.Fd.length;a<d;a++)this.Fd[a].ul=!1;this.pa.hf&&
this.pa.hf.Va();V(this.Jf);this.Pl=!1;this.Ld++;a=0;for(d=this.A.length;a<d;a++)if(k=this.A[a],!k.F&&(k.Ea.length||k.Aa.length))for(h=0,e=k.j.length;h<e;h++)for(b=k.j[h],c=0,f=b.J.length;c<f;c++)n=b.J[c],n.nk&&n.nk();h=this.$o.ge();a=0;for(d=h.length;a<d;a++)h[a].nk();this.Ld--};b.prototype.Hf=function(){var a,d,h,e,c,k,f,b,n;a=0;for(d=this.A.length;a<d;a++)if(f=this.A[a],!f.F)for(h=0,e=f.j.length;h<e;h++)if(b=f.j[h],b.Hf&&b.Hf(),b.J)for(c=0,k=b.J.length;c<k;c++)n=b.J[c],n.Hf&&n.Hf()};b.prototype.Fn=
function(a){var d=this.pa;this.pa.cv();var h,e,c;if(this.n)for(h=0,e=this.A.length;h<e;h++)c=this.A[h],c.F||!c.oi||c.global&&0!==c.j.length||-1!==a.ph.indexOf(c)||c.oi();d==a&&V(this.ud.lc);V(this.Jf);this.rp(!0);a.Em();this.rp(!1);this.Pl=this.L=!0;this.wb()};b.prototype.rp=function(a){var d,h,e,c,f,k,b,n,p;d=0;for(h=this.Ea.length;d<h;d++)e=this.Ea[d],a?e.Ph&&e.Ph():e.Qh&&e.Qh();d=0;for(h=this.A.length;d<h;d++)if(e=this.A[d],e.global||e.Ca.hk)for(c=0,f=e.j.length;c<f;c++)if(k=e.j[c],a?k.Ph&&k.Ph():
k.Qh&&k.Qh(),k.J)for(b=0,n=k.J.length;b<n;b++)p=k.J[b],a?p.Ph&&p.Ph():p.Qh&&p.Qh()};b.prototype.Gm=function(a){this.dm.add(a)};b.prototype.lf=function(a){return a&&-1!==a.Nh?this.ff*a.Nh:this.$f};b.prototype.zc=function(){this.pa.zc(this.ta);this.sf&&this.ta.present()};b.prototype.Bb=function(){this.na&&(this.gf=1,this.pa.ye(this.n));this.pa.Bb(this.n);this.n.Fu()};b.prototype.kn=function(a){a&&this.Yi.push(a)};b.prototype.Mu=function(a){Ba(this.Yi,a)};b.prototype.nj=function(a){a=a.toString();return this.Rd.hasOwnProperty(a)?
this.Rd[a]:null};var X=[];b.prototype.je=function(a){var d,h;d=a.type.name;var e=null;if(this.ef.hasOwnProperty(d)){if(e=this.ef[d],e.contains(a))return}else e=X.length?X.pop():new ba,this.ef[d]=e;e.add(a);this.Ce=!0;if(a.sc)for(d=0,h=a.siblings.length;d<h;d++)this.je(a.siblings[d]);this.Fl&&e.Kg.push(a);this.El||(this.Ld++,this.trigger(Object.getPrototypeOf(a.type.Ca).m.Rq,a),this.Ld--)};b.prototype.wb=function(){if(this.Ce){var a,d,h,e,c,k;this.Fl=!0;h=0;for(c=this.Sc.length;h<c;++h)for(a=this.Sc[h],
d=a.type,d.j.push(a),e=0,k=d.Aa.length;e<k;++e)d.Aa[e].j.push(a),d.Aa[e].Gg=!0;V(this.Sc);this.Kq();Pa(this.ef);this.Ce=this.Fl=!1}};b.prototype.Kq=function(){for(var a in this.ef)this.ef.hasOwnProperty(a)&&this.oq(this.ef[a])};b.prototype.oq=function(a){var d=a.ge(),h=d[0].type,e,c,k,f,b,n;Ra(h.j,a);h.Gg=!0;0===h.j.length&&(h.Ei=!1);e=0;for(c=h.Aa.length;e<c;++e)n=h.Aa[e],Ra(n.j,a),n.Gg=!0;e=0;for(c=this.ud.lc.length;e<c;++e)if(b=this.ud.lc[e],b.kc.hasOwnProperty(h.index)&&Ra(b.kc[h.index].rf,a),
!h.F)for(k=0,f=h.Aa.length;k<f;++k)n=h.Aa[k],b.kc.hasOwnProperty(n.index)&&Ra(b.kc[n.index].rf,a);if(b=d[0].k){if(b.xc)for(k=b.j,e=0,c=k.length;e<c;++e)f=k[e],a.contains(f)&&(f.ma(),b.ub.update(f,f.Xb,null),f.Xb.set(0,0,-1,-1));Ra(b.j,a);b.bi(0)}for(e=0;e<d.length;++e)this.nq(d[e],h);a.clear();X.push(a);this.L=!0};b.prototype.nq=function(a,d){var h,e,c;h=0;for(e=this.Yi.length;h<e;++h)this.Yi[h](a);a.we&&d.Qi.update(a,a.we,null);(h=a.k)&&h.Bg(a,!0);if(a.J)for(h=0,e=a.J.length;h<e;++h)c=a.J[h],c.Sd&&
c.Sd(),c.behavior.Kj.remove(a);this.Zo.remove(a);this.dm.remove(a);this.$o.remove(a);a.Sd&&a.Sd();this.Rd.hasOwnProperty(a.uid.toString())&&delete this.Rd[a.uid.toString()];this.Nj--;100>d.Wi.length&&d.Wi.push(a)};var C=[];b.prototype.cf=function(a,d,h,e,c,k){var f,b,n,p;if(!a)return null;var l=this.A[a[1]],x=l.Ca.Ge;if(this.kg&&x&&!l.Gl||x&&!this.n&&11===a[0][11])return null;var E=d;x||(d=null);var g;l.Wi.length?(g=l.Wi.pop(),g.Kb=!0,l.Ca.Y.call(g,l)):(g=new l.Ca.Y(l),g.Kb=!1);!h||k||this.Rd.hasOwnProperty(a[2].toString())?
g.uid=this.Oh++:g.uid=a[2];this.Rd[g.uid.toString()]=g;g.op=this.Xo++;g.pf=l.j.length;f=0;for(b=this.Sc.length;f<b;++f)this.Sc[f].type===l&&g.pf++;g.ih=tb;g.toString=ub;n=a[3];if(g.Kb)Pa(g.R);else{g.R={};if("undefined"!==typeof cr_is_preview)for(g.eo=[],g.eo.length=n.length,f=0,b=n.length;f<b;f++)g.eo[f]=n[f][1];g.ab=[];g.ab.length=n.length}f=0;for(b=n.length;f<b;f++)g.ab[f]=n[f][0];if(x){var w=a[0];g.x=ha(e)?w[0]:e;g.y=ha(c)?w[1]:c;g.z=w[2];g.width=w[3];g.height=w[4];g.depth=w[5];g.q=w[6];g.opacity=
w[7];g.Hb=w[8];g.Ib=w[9];g.yb=w[10];f=w[11];!this.n&&l.O.length&&(g.yb=f);g.Wg=Za(g.yb);this.B&&$a(g,g.yb,this.B);if(g.Kb){f=0;for(b=w[12].length;f<b;f++)for(n=0,p=w[12][f].length;n<p;n++)g.Fa[f][n]=w[12][f][n];g.ra.set(0,0,0,0);g.we.set(0,0,-1,-1);g.Xb.set(0,0,-1,-1);g.zb.ci(g.ra);V(g.Ik)}else{g.Fa=w[12].slice(0);f=0;for(b=g.Fa.length;f<b;f++)g.Fa[f]=w[12][f].slice(0);g.da=[];g.le=[];g.le.length=l.O.length;g.ra=new T(0,0,0,0);g.we=new T(0,0,-1,-1);g.Xb=new T(0,0,-1,-1);g.zb=new ta;g.Ik=[];g.C=xb;
g.vw=yb;g.Sb=zb;g.ma=Ab;g.kv=Bb;g.cq=Cb;g.od=Db}g.Hg=!1;g.Sp=0;g.Rp=0;g.Qp=null;14===w.length&&(g.Hg=!0,g.Sp=w[13][0],g.Rp=w[13][1],g.Qp=w[13][2]);f=0;for(b=l.O.length;f<b;f++)g.le[f]=!0;g.Zd=!0;g.fd=Eb;g.fd();g.dq=!!g.da.length;g.Hk=!0;g.Nk=!0;l.Di=!0;g.visible=!0;g.Nh=-1;g.k=d;g.gd=d.j.length;g.gf=0;"undefined"===typeof g.fa&&(g.fa=null);this.L=g.Bd=!0}var q;V(C);f=0;for(b=l.Aa.length;f<b;f++)C.push.apply(C,l.Aa[f].Ea);C.push.apply(C,l.Ea);if(g.Kb)for(f=0,b=C.length;f<b;f++){var u=C[f];q=g.J[f];
q.Kb=!0;u.behavior.Y.call(q,u,g);w=a[4][f];n=0;for(p=w.length;n<p;n++)q.u[n]=w[n];q.K();u.behavior.Kj.add(g)}else for(g.J=[],f=0,b=C.length;f<b;f++)u=C[f],q=new u.behavior.Y(u,g),q.Kb=!1,q.u=a[4][f].slice(0),q.K(),g.J.push(q),u.behavior.Kj.add(g);w=a[5];if(g.Kb)for(f=0,b=w.length;f<b;f++)g.u[f]=w[f];else g.u=w.slice(0);this.Sc.push(g);this.Ce=!0;d&&(d.Rg(g,!0),1!==d.Td||1!==d.Ud)&&(l.Ei=!0);this.Nj++;if(l.sc){if(g.sc=!0,g.Kb?V(g.siblings):g.siblings=[],!h&&!k){f=0;for(b=l.$b.length;f<b;f++)if(l.$b[f]!==
l){if(!l.$b[f].md)return null;g.siblings.push(this.cf(l.$b[f].md,E,!1,x?g.x:e,x?g.y:c,!0))}f=0;for(b=g.siblings.length;f<b;f++)for(g.siblings[f].siblings.push(g),n=0;n<b;n++)f!==n&&g.siblings[f].siblings.push(g.siblings[n])}}else g.sc=!1,g.siblings=null;g.K();f=0;for(b=g.J.length;f<b;f++)g.J[f].Bu&&g.J[f].Bu();return g};b.prototype.xt=function(a){var d,h;d=0;for(h=this.pa.Q.length;d<h;d++){var e=this.pa.Q[d];if(bb(e.name,a))return e}return null};b.prototype.yt=function(a){a=A(a);0>a&&(a=0);a>=this.pa.Q.length&&
(a=this.pa.Q.length-1);return this.pa.Q[a]};b.prototype.Pk=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].la().za=!0};b.prototype.Xh=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].Xh()};b.prototype.Tj=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].Tj()};b.prototype.If=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].If()};b.prototype.$p=function(a){if(a.Di){var d,h,e=a.j;d=0;for(h=e.length;d<h;++d)e[d].cq();e=this.Sc;d=0;for(h=e.length;d<h;++d)e[d].type===a&&e[d].cq();a.Di=!1}};
b.prototype.kl=function(a,d,h,e){var c,f,b=a?1!==a.Td||1!==a.Ud:!1;if(d.F)for(a=0,c=d.Mh.length;a<c;++a)f=d.Mh[a],b||f.Ei?za(e,f.j):(this.$p(f),f.Qi.Wj(h,e));else b||d.Ei?za(e,d.j):(this.$p(d),d.Qi.Wj(h,e))};b.prototype.Vn=function(a,d,h,e){var f,c;f=0;for(c=d.length;f<c;++f)this.kl(a,d[f],h,e)};b.prototype.Et=function(a,d,h){var e=this.Kp;e&&this.Vn(a,e.Lj,d,h)};b.prototype.ut=function(a,d,h){var e=this.ro;e&&this.Vn(a,e.Lj,d,h)};b.prototype.Mb=function(a,d){if(!(a&&d&&a!==d&&a.Bd&&d.Bd))return!1;
a.ma();d.ma();var h=a.k,e=d.k,f,c,b,k,n,p,l,g;if(h===e||h.Td===e.Td&&e.Ud===e.Ud&&h.scale===e.scale&&h.q===e.q&&h.Bi===e.Bi){if(!a.ra.Zt(d.ra)||!a.zb.fo(d.zb)||a.Hg&&d.Hg)return!1;if(a.Hg)return this.Np(a,d);if(d.Hg)return this.Np(d,a);l=a.fa&&!a.fa.gg();f=d.fa&&!d.fa.gg();if(!l&&!f)return!0;l?(a.fa.$e(a.width,a.height,a.q),l=a.fa):(this.bd.Eg(a.zb,a.x,a.y,a.width,a.height),l=this.bd);f?(d.fa.$e(d.width,d.height,d.q),g=d.fa):(this.bd.Eg(d.zb,d.x,d.y,d.width,d.height),g=this.bd);return l.qh(g,d.x-
a.x,d.y-a.y)}l=a.fa&&!a.fa.gg();f=d.fa&&!d.fa.gg();l?(a.fa.$e(a.width,a.height,a.q),this.bd.Cp(a.fa)):this.bd.Eg(a.zb,a.x,a.y,a.width,a.height);l=this.bd;f?(d.fa.$e(d.width,d.height,d.q),this.Fm.Cp(d.fa)):this.Fm.Eg(d.zb,d.x,d.y,d.width,d.height);g=this.Fm;f=0;for(c=l.ic;f<c;f++)b=2*f,k=b+1,n=l.oa[b],p=l.oa[k],l.oa[b]=h.Ba(n+a.x,p+a.y,!0),l.oa[k]=h.Ba(n+a.x,p+a.y,!1);l.ma();f=0;for(c=g.ic;f<c;f++)b=2*f,k=b+1,n=g.oa[b],p=g.oa[k],g.oa[b]=e.Ba(n+d.x,p+d.y,!0),g.oa[k]=e.Ba(n+d.x,p+d.y,!1);g.ma();return l.qh(g,
0,0)};var J=new ta;new T(0,0,0,0);var O=[];b.prototype.Np=function(a,d){var h,e,f,c,b=d.ra,k=a.x,n=a.y;a.nt(b,O);var p=d.fa&&!d.fa.gg();h=0;for(e=O.length;h<e;++h)if(f=O[h],c=f.ia,b.$t(c,k,n)&&(J.ci(c),J.offset(k,n),J.fo(d.zb)))if(p)if(d.fa.$e(d.width,d.height,d.q),f.Wd){if(f.Wd.qh(d.fa,d.x-(k+c.left),d.y-(n+c.top)))return V(O),!0}else{if(this.bd.Eg(J,0,0,c.right-c.left,c.bottom-c.top),this.bd.qh(d.fa,d.x,d.y))return V(O),!0}else if(f.Wd){if(this.bd.Eg(d.zb,0,0,d.width,d.height),f.Wd.qh(this.bd,-(k+
c.left),-(n+c.top)))return V(O),!0}else return V(O),!0;V(O);return!1};b.prototype.Pm=function(a,d){if(!d)return!1;var h,e,f,c,b;h=0;for(e=a.Ea.length;h<e;h++)if(a.Ea[h].behavior instanceof d)return!0;if(!a.F)for(h=0,e=a.Aa.length;h<e;h++)for(b=a.Aa[h],f=0,c=b.Ea.length;f<c;f++)if(b.Ea[f].behavior instanceof d)return!0;return!1};b.prototype.Qm=function(a){return this.Pm(a,Ub.Qv)};b.prototype.Rm=function(a){return this.Pm(a,Ub.Rv)};var K=[];b.prototype.Nb=function(a){var d,h,e;a.ma();this.Et(a.k,a.ra,
K);d=0;for(h=K.length;d<h;++d)if(e=K[d],e.R.solidEnabled&&this.Mb(a,e))return V(K),e;V(K);return null};var L=[];b.prototype.vd=function(a,d){var h=null;d&&(h=L,V(h));a.ma();this.ut(a.k,a.ra,K);var e,f,c;e=0;for(f=K.length;e<f;++e)if(c=K[e],c.R.jumpthruEnabled&&this.Mb(a,c))if(d)h.push(c);else return V(K),c;V(K);return h};b.prototype.$c=function(a,d,h,e,f,c){e=e||50;var b=a.x,k=a.y,n,p=null,l=null;for(n=0;n<e;n++)if(a.x=b+d*n,a.y=k+h*n,a.C(),!this.Mb(a,p)&&((p=this.Nb(a))&&(l=p),!p&&(f&&(c?p=this.Mb(a,
c)?c:null:p=this.vd(a),p&&(l=p)),!p)))return l&&this.Vj(a,d,h,l),!0;a.x=b;a.y=k;a.C();return!1};b.prototype.Iu=function(a,d,h,e){e=e||50;var f=a.x,c=a.y,b=null,k=null,n,p,l;for(n=0;n<e;++n)for(p=0;2>p;++p)if(l=2*p-1,a.x=f+d*n*l,a.y=c+h*n*l,a.C(),!this.Mb(a,b))if(b=this.Nb(a))k=b;else return k&&this.Vj(a,d*l,h*l,k),!0;a.x=f;a.y=c;a.C();return!1};b.prototype.Vj=function(a,d,h,e){var f=2,c,b=!1;c=!1;for(var k=a.x,n=a.y;16>=f;)c=1/f,f*=2,a.x+=d*c*(b?1:-1),a.y+=h*c*(b?1:-1),a.C(),this.Mb(a,e)?c=b=!0:(c=
b=!1,k=a.x,n=a.y);c&&(a.x=k,a.y=n,a.C())};b.prototype.Ju=function(a,d){var h=ha(d)?100:d,e=0,f=a.x,c=a.y,b=0,k=0,n=0,p=this.Nb(a);if(!p)return!0;for(;e<=h;){switch(b){case 0:k=0;n=-1;e++;break;case 1:k=1;n=-1;break;case 2:k=1;n=0;break;case 3:n=k=1;break;case 4:k=0;n=1;break;case 5:k=-1;n=1;break;case 6:k=-1;n=0;break;case 7:n=k=-1}b=(b+1)%8;a.x=A(f+k*e);a.y=A(c+n*e);a.C();if(!this.Mb(a,p)&&(p=this.Nb(a),!p))return!0}a.x=f;a.y=c;a.C();return!1};b.prototype.Ag=function(a,d){a.Bd&&d.Bd&&this.Jf.push([a,
d])};b.prototype.Br=function(a,d,h){var e,f,c;e=0;for(f=this.Jf.length;e<f;++e){c=this.Jf[e];if(c[0]===a)c=c[1];else if(c[1]===a)c=c[0];else continue;if(d.F){if(-1===d.Mh.indexOf(d))continue}else if(c.type!==d)continue;-1===h.indexOf(c)&&h.push(c)}};b.prototype.Jr=function(a,d){var h,e,c;h=0;for(e=this.Jf.length;h<e;h++)if(c=this.Jf[h],c[0]===a&&c[1]===d||c[0]===d&&c[1]===a)return!0;return!1};var N=-1;b.prototype.trigger=function(a,d,h){if(!this.pa)return!1;var e=this.pa.hf;if(!e)return!1;var c=!1,
f,b,k;N++;var n=e.Wk;b=0;for(k=n.length;b<k;++b)f=this.Up(a,d,n[b],h),c=c||f;f=this.Up(a,d,e,h);N--;return c||f};b.prototype.Up=function(a,d,h,e){var c=!1,f,b,k,n;if(d)for(k=this.Nm(a,d,d.type.name,h,e),c=c||k,n=d.type.Aa,f=0,b=n.length;f<b;++f)k=this.Nm(a,d,n[f].name,h,e),c=c||k;else k=this.Nm(a,d,"system",h,e),c=c||k;return c};b.prototype.Nm=function(a,d,h,e,c){var f,b=!1,k=!1,k="undefined"!==typeof c,n=(k?e.Jn:e.Vp)[h];if(!n)return b;var p=null;e=0;for(f=n.length;e<f;++e)if(n[e].method==a){p=n[e].dh;
break}if(!p)return b;var l;k?l=p[c]:l=p;if(!l)return null;e=0;for(f=l.length;e<f;e++)a=l[e][0],c=l[e][1],k=this.dt(d,h,a,c),b=b||k;return b};b.prototype.dt=function(a,d,h,e){var c,f,b=!1;this.Om++;var k=this.qb().nc;k&&this.Xh(k.Se);var n=1<this.Om;this.Xh(h.Se);n&&this.Hu();var p=this.Uj(h);p.nc=h;a&&(c=this.types[d].la(),c.za=!1,V(c.j),c.j[0]=a,this.types[d].jd());a=!0;if(h.parent){d=p.Mp;for(c=h.parent;c;)d.push(c),c=c.parent;d.reverse();c=0;for(f=d.length;c<f;c++)if(!d[c].Tu()){a=!1;break}}a&&
(this.eh++,h.Cc?h.Su(e):h.Va(),b=b||p.yf);this.Rj();n&&this.Au();this.If(h.Se);k&&this.If(k.Se);this.Ce&&0===this.Ld&&0===N&&!this.Hl&&this.wb();this.Om--;return b};b.prototype.lj=function(){var a=this.qb();return a.nc.ib[a.Za]};b.prototype.fu=function(){return 0===this.qb().Za};b.prototype.Hu=function(){this.Fj++;this.Fj>=this.Wl.length&&this.Wl.push([])};b.prototype.Au=function(){this.Fj--};b.prototype.Qn=function(){return this.Wl[this.Fj]};b.prototype.Uj=function(a){this.Zi++;this.Zi>=this.Zk.length&&
this.Zk.push(new Fb);var d=this.qb();d.reset(a);return d};b.prototype.Rj=function(){this.Zi--};b.prototype.qb=function(){return this.Zk[this.Zi]};b.prototype.Rn=function(a,d){for(var h,e,c,f,b,k;d;){h=0;for(e=d.Ic.length;h<e;h++)if(k=d.Ic[h],k instanceof Gb&&bb(a,k.name))return k;d=d.parent}h=0;for(e=this.Fd.length;h<e;h++)for(b=this.Fd[h],c=0,f=b.ze.length;c<f;c++)if(k=b.ze[c],k instanceof Gb&&bb(a,k.name))return k;return null};b.prototype.Sn=function(a){var d,h;d=0;for(h=this.Wc.length;d<h;d++)if(this.Wc[d].X===
a)return this.Wc[d];return null};b.prototype.oj=function(a){var d,h;d=0;for(h=this.A.length;d<h;d++)if(this.A[d].X===a)return this.A[d];return null};b.prototype.pt=function(a){var d,h;d=0;for(h=this.Sf.length;d<h;d++)if(this.Sf[d].X===a)return this.Sf[d];return null};b.prototype.Tr=function(a,d){this.hi=[a,d];this.L=!0};b.prototype.Ut=function(){var a=this,d=this.xm,h=this.Md,e=this.Aj,f=!1;this.Hp&&(f=!0,d="__c2_continuouspreview",this.Hp=!1);if(d.length){this.wb();h=this.Xu();if(g()&&!this.Uc)q(d,
h,function(){fa("Saved state to IndexedDB storage ("+h.length+" bytes)");a.Md=h;a.trigger(Y.prototype.m.zk,null);a.Md="";f&&c()},function(e){try{localStorage.setItem("__c2save_"+d,h),fa("Saved state to WebStorage ("+h.length+" bytes)"),a.Md=h,a.trigger(Y.prototype.m.zk,null),a.Md="",f&&c()}catch(k){fa("Failed to save game state: "+e+"; "+k),a.trigger(Y.prototype.m.gn,null)}});else try{localStorage.setItem("__c2save_"+d,h),fa("Saved state to WebStorage ("+h.length+" bytes)"),a.Md=h,this.trigger(Y.prototype.m.zk,
null),a.Md="",f&&c()}catch(k){fa("Error saving to WebStorage: "+k),a.trigger(Y.prototype.m.gn,null)}this.Aj=this.xm="";this.cb=null}if(e.length){if(g()&&!this.Uc)r(e,function(d){d?(a.cb=d,fa("Loaded state from IndexedDB storage ("+a.cb.length+" bytes)")):(a.cb=localStorage.getItem("__c2save_"+e)||"",fa("Loaded state from WebStorage ("+a.cb.length+" bytes)"));a.ji=!1;a.cb||(a.cb=null,a.trigger(Y.prototype.m.Ci,null))},function(){a.cb=localStorage.getItem("__c2save_"+e)||"";fa("Loaded state from WebStorage ("+
a.cb.length+" bytes)");a.ji=!1;a.cb||(a.cb=null,a.trigger(Y.prototype.m.Ci,null))});else{try{this.cb=localStorage.getItem("__c2save_"+e)||"",fa("Loaded state from WebStorage ("+this.cb.length+" bytes)")}catch(b){this.cb=null}this.ji=!1;a.cb||(a.cb=null,a.trigger(Y.prototype.m.Ci,null))}this.xm=this.Aj=""}null!==this.cb&&(this.wb(),this.mu(this.cb)?(this.Md=this.cb,this.trigger(Y.prototype.m.cr,null),this.Md=""):a.trigger(Y.prototype.m.Ci,null),this.cb=null)};b.prototype.Xu=function(){var d,h,e,c,
f,k,b,n={c2save:!0,version:1,rt:{time:this.tc.U,walltime:this.wk.U,timescale:this.Ig,tickcount:this.cd,execcount:this.eh,next_uid:this.Oh,running_layout:this.pa.X,start_time_offset:Date.now()-this.ik},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};d=0;for(h=this.A.length;d<h;d++)if(f=this.A[d],!f.F&&!this.Qm(f)){k={instances:[]};Oa(f.R)&&(k.ex=a(f.R));e=0;for(c=f.j.length;e<c;e++)k.instances.push(this.wm(f.j[e]));n.types[f.X.toString()]=k}d=0;for(h=this.Wc.length;d<h;d++)e=this.Wc[d],
n.layouts[e.X.toString()]=e.eb();c=n.events.groups;d=0;for(h=this.Sf.length;d<h;d++)e=this.Sf[d],c[e.X.toString()]=this.kh[e.jh].fg;h=n.events.cnds;for(b in this.ve)this.ve.hasOwnProperty(b)&&(d=this.ve[b],Oa(d.R)&&(h[b]={ex:a(d.R)}));h=n.events.acts;for(b in this.me)this.me.hasOwnProperty(b)&&(d=this.me[b],Oa(d.R)&&(h[b]={ex:a(d.R)}));h=n.events.vars;for(b in this.Lg)this.Lg.hasOwnProperty(b)&&(d=this.Lg[b],d.vj||d.parent&&!d.xh||(h[b]=d.data));n.system=this.ud.eb();return JSON.stringify(n)};b.prototype.qp=
function(){var a,d,h,e,c,f;this.Rd={};a=0;for(d=this.A.length;a<d;a++)if(h=this.A[a],!h.F)for(e=0,c=h.j.length;e<c;e++)f=h.j[e],this.Rd[f.uid.toString()]=f};b.prototype.mu=function(a){var d;try{d=JSON.parse(a)}catch(h){return!1}if(!d.c2save||1<d.version)return!1;this.sh=!0;a=d.rt;this.tc.reset();this.tc.U=a.time;this.wk.reset();this.wk.U=a.walltime||0;this.Ig=a.timescale;this.cd=a.tickcount;this.eh=a.execcount;this.ik=Date.now()-a.start_time_offset;var e=a.running_layout;if(e!==this.pa.X)if(e=this.Sn(e))this.Fn(e);
else return;var c,f,b,k,n,p,l;p=d.types;for(f in p)if(p.hasOwnProperty(f)&&(k=this.oj(parseInt(f,10)))&&!k.F&&!this.Qm(k)){p[f].ex?k.R=p[f].ex:Pa(k.R);n=k.j;b=p[f].instances;e=0;for(c=pa(n.length,b.length);e<c;e++)this.Bj(n[e],b[e]);e=b.length;for(c=n.length;e<c;e++)this.je(n[e]);e=n.length;for(c=b.length;e<c;e++){n=null;if(k.Ca.Ge&&(n=this.pa.mj(b[e].w.l),!n))continue;n=this.cf(k.md,n,!1,0,0,!0);this.Bj(n,b[e])}k.Gg=!0}this.wb();this.qp();c=d.layouts;for(f in c)c.hasOwnProperty(f)&&(e=this.Sn(parseInt(f,
10)))&&e.rb(c[f]);c=d.events.groups;for(f in c)c.hasOwnProperty(f)&&(e=this.pt(parseInt(f,10)))&&this.kh[e.jh]&&this.kh[e.jh].Yu(c[f]);e=d.events.cnds;for(f in this.ve)this.ve.hasOwnProperty(f)&&(e.hasOwnProperty(f)?this.ve[f].R=e[f].ex:this.ve[f].R={});e=d.events.acts;for(f in this.me)this.me.hasOwnProperty(f)&&(e.hasOwnProperty(f)?this.me[f].R=e[f].ex:this.me[f].R={});e=d.events.vars;for(f in e)e.hasOwnProperty(f)&&this.Lg.hasOwnProperty(f)&&(this.Lg[f].data=e[f]);this.Oh=a.next_uid;this.sh=!1;
e=0;for(c=this.bj.length;e<c;++e)n=this.bj[e],this.trigger(Object.getPrototypeOf(n.type.Ca).m.an,n);V(this.bj);this.ud.rb(d.system);e=0;for(c=this.A.length;e<c;e++)if(k=this.A[e],!k.F&&!this.Qm(k))for(d=0,f=k.j.length;d<f;d++){n=k.j[d];if(k.sc)for(p=n.ih(),V(n.siblings),a=0,b=k.$b.length;a<b;a++)l=k.$b[a],k!==l&&n.siblings.push(l.j[p]);n.zd&&n.zd();if(n.J)for(a=0,b=n.J.length;a<b;a++)p=n.J[a],p.zd&&p.zd()}return this.L=!0};b.prototype.wm=function(d,h){var e,c,f,k,b;k=d.type;f=k.Ca;var n={};h?n.c2=
!0:n.uid=d.uid;Oa(d.R)&&(n.ex=a(d.R));if(d.ab&&d.ab.length)for(n.ivs={},e=0,c=d.ab.length;e<c;e++)n.ivs[d.type.Cl[e].toString()]=d.ab[e];if(f.Ge){f={x:d.x,y:d.y,w:d.width,h:d.height,l:d.k.X,zi:d.od()};0!==d.q&&(f.a=d.q);1!==d.opacity&&(f.o=d.opacity);.5!==d.Hb&&(f.hX=d.Hb);.5!==d.Ib&&(f.hY=d.Ib);0!==d.yb&&(f.bm=d.yb);d.visible||(f.v=d.visible);d.Bd||(f.ce=d.Bd);-1!==d.Nh&&(f.mts=d.Nh);if(k.O.length)for(f.fx=[],e=0,c=k.O.length;e<c;e++)b=k.O[e],f.fx.push({name:b.name,active:d.le[b.index],params:d.Fa[b.index]});
n.w=f}if(d.J&&d.J.length)for(n.behs={},e=0,c=d.J.length;e<c;e++)k=d.J[e],k.eb&&(n.behs[k.type.X.toString()]=k.eb());d.eb&&(n.data=d.eb());return n};b.prototype.tt=function(a,d){var h,e;h=0;for(e=a.Cl.length;h<e;h++)if(a.Cl[h]===d)return h;return-1};b.prototype.mt=function(a,d){var h,e;h=0;for(e=a.J.length;h<e;h++)if(a.J[h].type.X===d)return h;return-1};b.prototype.Bj=function(a,d,h){var e,f,c,k,b;b=a.type;var n=b.Ca;if(h){if(!d.c2)return}else a.uid=d.uid;d.ex?a.R=d.ex:Pa(a.R);if(f=d.ivs)for(e in f)f.hasOwnProperty(e)&&
(c=this.tt(b,parseInt(e,10)),0>c||c>=a.ab.length||(k=f[e],null===k&&(k=NaN),a.ab[c]=k));if(n.Ge){c=d.w;a.k.X!==c.l&&(f=a.k,a.k=this.pa.mj(c.l),a.k?(f.Bg(a,!0),a.k.Rg(a,!0),a.C(),a.k.bi(0)):(a.k=f,h||this.je(a)));a.x=c.x;a.y=c.y;a.width=c.w;a.height=c.h;a.gd=c.zi;a.q=c.hasOwnProperty("a")?c.a:0;a.opacity=c.hasOwnProperty("o")?c.o:1;a.Hb=c.hasOwnProperty("hX")?c.hX:.5;a.Ib=c.hasOwnProperty("hY")?c.hY:.5;a.visible=c.hasOwnProperty("v")?c.v:!0;a.Bd=c.hasOwnProperty("ce")?c.ce:!0;a.Nh=c.hasOwnProperty("mts")?
c.mts:-1;a.yb=c.hasOwnProperty("bm")?c.bm:0;a.Wg=Za(a.yb);this.B&&$a(a,a.yb,this.B);a.C();if(c.hasOwnProperty("fx"))for(h=0,f=c.fx.length;h<f;h++)k=b.ml(c.fx[h].name),0>k||(a.le[k]=c.fx[h].active,a.Fa[k]=c.fx[h].params);a.fd()}if(b=d.behs)for(e in b)b.hasOwnProperty(e)&&(h=this.mt(a,parseInt(e,10)),0>h||a.J[h].rb(b[e]));d.data&&a.rb(d.data)};b.prototype.Kn=function(a,d,h){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(d,h)},h)};b.prototype.gt=function(a,
d){this.Kn("data.js",function(h){var e=new FileReader;e.onload=function(d){a(d.target.result)};e.onerror=d;e.readAsText(h)},d)};var F=[],D=0;b.prototype.$l=function(){if(F.length&&!(8<=D)){D++;var a=F.shift();this.Wr(a.filename,a.dv,a.As)}};b.prototype.et=function(a,d,h){var e=this;F.push({filename:a,dv:function(a){D--;e.$l();d(a)},As:function(a){D--;e.$l();h(a)}});this.$l()};b.prototype.Wr=function(a,d,h){this.Kn(a,function(a){var h=new FileReader;h.onload=function(a){d(a.target.result)};h.readAsArrayBuffer(a)},
h)};b.prototype.ht=function(a,d,h){var e="",c=a.toLowerCase(),f=c.substr(c.length-4),c=c.substr(c.length-5);".mp4"===f?e="video/mp4":".webm"===c?e="video/webm":".m4a"===f?e="audio/mp4":".mp3"===f&&(e="audio/mpeg");this.et(a,function(a){a=URL.createObjectURL(new Blob([a],{type:e}));d(a)},h)};b.prototype.au=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};b.prototype.yp=function(a,d){this.lo&&!this.au(d)?this.ht(d,function(d){a.src=d},function(a){alert("Failed to load image: "+
a)}):a.src=d};b.prototype.bk=function(a,d){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=d:(a.webkitImageSmoothingEnabled=d,a.mozImageSmoothingEnabled=d,a.msImageSmoothingEnabled=d)};Hb=function(a){return new b(document.getElementById(a))};Ib=function(a,d){return new b({dc:!0,width:a,height:d})};window.cr_createRuntime=Hb;window.cr_createDCRuntime=Ib;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");
a.Ug=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var b=document.getElementById("c2canvas");return b?b.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(b,m){var g=window.cr_getC2Runtime();g&&g.Tr(b,m)};window.cr_sizeCanvas=function(b,m){if(0!==b&&0!==m){var g=window.cr_getC2Runtime();g&&g.setSize(b,m)}};window.cr_setSuspended=function(b){var m=window.cr_getC2Runtime();m&&m.setSuspended(b)};
(function(){function b(a,e){this.b=a;this.hf=null;this.scrollX=this.b.Ua/2;this.scrollY=this.b.Ta/2;this.scale=1;this.q=0;this.dg=!0;this.name=e[0];this.xu=e[1];this.wu=e[2];this.width=e[1];this.height=e[2];this.Xp=e[3];this.Fp=e[4];this.X=e[5];var c=e[6],f,b;this.Q=[];this.ph=[];f=0;for(b=c.length;f<b;f++){var l=new Jb(this,c[f]);l.Yo=f;this.Q.push(l)}c=e[7];this.De=[];f=0;for(b=c.length;f<b;f++){var l=c[f],p=this.b.A[l[1]];p.md||(p.md=l);this.De.push(l);-1===this.ph.indexOf(p)&&this.ph.push(p)}this.O=
[];this.da=[];this.Zd=!0;this.Fa=[];f=0;for(b=e[8].length;f<b;f++)this.O.push({id:e[8][f][0],name:e[8][f][1],Wa:-1,Yc:!1,xb:!0,index:f}),this.Fa.push(e[8][f][2].slice(0));this.fd();this.Ne=new T(0,0,1,1);this.om=new T(0,0,1,1);this.Me={}}function m(a,e){return a.gd-e.gd}function g(a,e){this.Ra=a;this.b=a.b;this.j=[];this.scale=1;this.q=0;this.Dd=!1;this.de=new T(0,0,0,0);this.Tp=new ta;this.ja=this.ca=this.ka=this.ba=0;this.Nf=!1;this.ie=-1;this.Qk=0;this.name=e[0];this.index=e[1];this.X=e[2];this.visible=
e[3];this.Pc=e[4];this.ed=e[5];this.Td=e[6];this.Ud=e[7];this.opacity=e[8];this.ij=e[9];this.xc=e[10];this.Bi=e[11];this.yb=e[12];this.ws=e[13];this.Wg="source-over";this.Ab=this.Db=0;this.ub=null;this.Nd=t();this.ad=!0;this.qg=new T(0,0,-1,-1);this.nb=new T(0,0,-1,-1);this.xc&&(this.ub=new Ya(this.b.Ua,this.b.Ta));this.rd=!1;var c=e[14],f,b;this.Lp=[];this.rc=[];this.Yg=[];f=0;for(b=c.length;f<b;f++){var l=c[f],p=this.b.A[l[1]];p.md||(p.md=l,p.Qr=this.index);this.rc.push(l);-1===this.Ra.ph.indexOf(p)&&
this.Ra.ph.push(p)}ya(this.Lp,this.rc);this.O=[];this.da=[];this.Zd=!0;this.Fa=[];f=0;for(b=e[15].length;f<b;f++)this.O.push({id:e[15][f][0],name:e[15][f][1],Wa:-1,Yc:!1,xb:!0,index:f}),this.Fa.push(e[15][f][2].slice(0));this.fd();this.Ne=new T(0,0,1,1);this.om=new T(0,0,1,1)}function t(){return a.length?a.pop():[]}function q(d){V(d);a.push(d)}b.prototype.Wu=function(a){var e=a.type.X.toString();this.Me.hasOwnProperty(e)||(this.Me[e]=[]);this.Me[e].push(this.b.wm(a))};b.prototype.Xn=function(){var a=
this.Q[0];return!a.ed&&1===a.opacity&&!a.ij&&a.visible};b.prototype.fd=function(){V(this.da);this.Zd=!0;var a,e,c;a=0;for(e=this.O.length;a<e;a++)c=this.O[a],c.xb&&(this.da.push(c),c.Yc||(this.Zd=!1))};b.prototype.ll=function(a){var e,c,f;e=0;for(c=this.O.length;e<c;e++)if(f=this.O[e],f.name===a)return f;return null};var r=[],c=!0;b.prototype.Em=function(){this.Fp&&(this.hf=this.b.$k[this.Fp],this.hf.Sm());this.b.pa=this;this.width=this.xu;this.height=this.wu;this.scrollX=this.b.Ua/2;this.scrollY=
this.b.Ta/2;var a,e,b,f,l,g,p;a=0;for(b=this.b.A.length;a<b;a++)if(e=this.b.A[a],!e.F)for(l=e.j,e=0,f=l.length;e<f;e++)if(g=l[e],g.k){var h=g.k.Yo;h>=this.Q.length&&(h=this.Q.length-1);g.k=this.Q[h];-1===g.k.j.indexOf(g)&&g.k.j.push(g);g.k.Nf=!0}if(!c)for(a=0,b=this.Q.length;a<b;++a)this.Q[a].j.sort(m);V(r);this.Hr();a=0;for(b=this.Q.length;a<b;a++)g=this.Q[a],g.Or(),g.tk();l=!1;if(!this.dg){for(p in this.Me)if(this.Me.hasOwnProperty(p)&&(e=this.b.oj(parseInt(p,10)))&&!e.F&&this.b.Rm(e)){f=this.Me[p];
a=0;for(b=f.length;a<b;a++){g=null;if(e.Ca.Ge&&(g=this.mj(f[a].w.l),!g))continue;g=this.b.cf(e.md,g,!1,0,0,!0);this.b.Bj(g,f[a]);l=!0;r.push(g)}V(f)}a=0;for(b=this.Q.length;a<b;a++)this.Q[a].j.sort(m),this.Q[a].Nf=!0}l&&(this.b.wb(),this.b.qp());for(a=0;a<r.length;a++)if(g=r[a],g.type.sc)for(b=g.ih(),e=0,f=g.type.$b.length;e<f;e++)p=g.type.$b[e],g.type!==p&&(p.j.length>b?g.siblings.push(p.j[b]):p.md&&(l=this.b.cf(p.md,g.k,!0,g.x,g.y,!0),this.b.wb(),p.sk(),g.siblings.push(l),r.push(l)));a=0;for(b=
this.De.length;a<b;a++)g=this.De[a],e=this.b.A[g[1]],e.sc||this.b.cf(this.De[a],null,!0);this.b.bf=null;this.b.wb();if(this.b.ta&&!this.b.Tb)for(a=0,b=this.b.A.length;a<b;a++)p=this.b.A[a],!p.F&&p.j.length&&p.Uh&&p.Uh(this.b.ta);if(this.b.sh)ya(this.b.bj,r);else for(a=0,b=r.length;a<b;a++)g=r[a],this.b.trigger(Object.getPrototypeOf(g.type.Ca).m.an,g);V(r);this.b.sh||this.b.trigger(Y.prototype.m.br,null);this.dg=!1};b.prototype.Nr=function(){var a,e,c,f,b;e=a=0;for(c=this.De.length;a<c;a++)f=this.De[a],
b=this.b.A[f[1]],b.global?b.sc||this.b.cf(f,null,!0):(this.De[e]=f,e++);xa(this.De,e)};b.prototype.cv=function(){this.b.sh||this.b.trigger(Y.prototype.m.$q,null);this.b.El=!0;V(this.b.ud.lc);var a,e,b,f,l,g;if(!this.dg)for(a=0,e=this.Q.length;a<e;a++)for(this.Q[a].Um(),l=this.Q[a].j,b=0,f=l.length;b<f;b++)g=l[b],g.type.global||this.b.Rm(g.type)&&this.Wu(g);a=0;for(e=this.Q.length;a<e;a++){l=this.Q[a].j;b=0;for(f=l.length;b<f;b++)g=l[b],g.type.global||this.b.je(g);this.b.wb();V(l);this.Q[a].Nf=!0}a=
0;for(e=this.b.A.length;a<e;a++)if(l=this.b.A[a],!(l.global||l.Ca.Ge||l.Ca.hk||l.F)){b=0;for(f=l.j.length;b<f;b++)this.b.je(l.j[b]);this.b.wb()}c=!1;this.b.El=!1};new T(0,0,0,0);b.prototype.zc=function(a){var e,c=a,f=!1,b=!this.b.oc;b&&(this.b.zj||(this.b.zj=document.createElement("canvas"),e=this.b.zj,e.width=this.b.I,e.height=this.b.H,this.b.xo=e.getContext("2d"),f=!0),e=this.b.zj,c=this.b.xo,e.width!==this.b.I&&(e.width=this.b.I,f=!0),e.height!==this.b.H&&(e.height=this.b.H,f=!0),f&&this.b.bk(c,
this.b.qa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.zn&&!this.Xn()&&c.clearRect(0,0,this.b.I,this.b.H);var l,p,f=0;for(l=this.Q.length;f<l;f++)p=this.Q[f],p.visible&&0<p.opacity&&11!==p.yb&&(p.j.length||!p.ed)?p.zc(c):p.tk();b&&a.drawImage(e,0,0,this.b.width,this.b.height)};b.prototype.ye=function(a){a.xp(!0);this.b.Sa||(this.b.Sa=a.ac(this.b.I,this.b.H,this.b.qa));if(this.b.Sa.Ze!==this.b.I||this.b.Sa.Ye!==this.b.H)a.deleteTexture(this.b.Sa),this.b.Sa=a.ac(this.b.I,this.b.H,
this.b.qa);a.Gc(this.b.Sa);this.b.oc||a.Kf(this.b.I,this.b.H);var e,c;for(e=this.Q.length-1;0<=e;--e)c=this.Q[e],c.visible&&1===c.opacity&&c.Zd&&0===c.yb&&(c.j.length||!c.ed)?c.ye(a):c.tk();a.xp(!1)};b.prototype.Bb=function(a){var e=0<this.da.length||this.b.Jg||!this.b.oc||this.b.na;if(e){this.b.Sa||(this.b.Sa=a.ac(this.b.I,this.b.H,this.b.qa));if(this.b.Sa.Ze!==this.b.I||this.b.Sa.Ye!==this.b.H)a.deleteTexture(this.b.Sa),this.b.Sa=a.ac(this.b.I,this.b.H,this.b.qa);a.Gc(this.b.Sa);this.b.oc||a.Kf(this.b.I,
this.b.H)}else this.b.Sa&&(a.Gc(null),a.deleteTexture(this.b.Sa),this.b.Sa=null);this.b.zn&&!this.Xn()&&a.clear(0,0,0,0);var c,f,b;c=0;for(f=this.Q.length;c<f;c++)b=this.Q[c],b.visible&&0<b.opacity&&(b.j.length||!b.ed)?b.Bb(a):b.tk();e&&(0===this.da.length||1===this.da.length&&this.b.oc?(1===this.da.length?(e=this.da[0].index,a.Yb(this.da[0].Wa),a.Dg(null,1/this.b.I,1/this.b.H,0,0,1,1,this.scale,this.q,0,0,this.b.I/2,this.b.H/2,this.b.tc.U,this.Fa[e]),a.Sj(this.da[0].Wa)&&(this.b.L=!0)):a.Yb(0),this.b.oc||
a.Kf(this.b.width,this.b.height),a.Gc(null),a.wp(!1),a.Xd(1),a.Lb(this.b.Sa),a.up(),a.Fc(),a.wc(),e=this.b.width/2,c=this.b.height/2,a.Yh(-e,c,e,c,e,-c,-e,-c),a.Lb(null),a.wp(!0)):this.qm(a,null,null,null))};b.prototype.hh=function(){return 0<this.da.length||this.b.Jg||!this.b.oc||this.b.na?this.b.Sa:null};b.prototype.Tn=function(){var a=this.Q[0].fc(),e,c,f;e=1;for(c=this.Q.length;e<c;e++)f=this.Q[e],(0!==f.Td||0!==f.Ud)&&f.fc()<a&&(a=f.fc());return a};b.prototype.ym=function(a){if(!this.Xp){var e=
1/this.Tn()*this.b.I/2;a>this.width-e&&(a=this.width-e);a<e&&(a=e)}this.scrollX!==a&&(this.scrollX=a,this.b.L=!0)};b.prototype.zm=function(a){if(!this.Xp){var e=1/this.Tn()*this.b.H/2;a>this.height-e&&(a=this.height-e);a<e&&(a=e)}this.scrollY!==a&&(this.scrollY=a,this.b.L=!0)};b.prototype.Hr=function(){this.ym(this.scrollX);this.zm(this.scrollY)};b.prototype.qm=function(a,e,c,f){var b=c?c.da:e?e.da:this.da,l=1,p=0,h=0,n=0,g=this.b.I,E=this.b.H;c?(l=c.k.fc(),p=c.k.ec(),h=c.k.ba,n=c.k.ca,g=c.k.ka,E=
c.k.ja):e&&(l=e.fc(),p=e.ec(),h=e.ba,n=e.ca,g=e.ka,E=e.ja);var x=this.b.gl,q,m,r,t,v=0,C=1,J,O,K=this.b.I,L=this.b.H,N=K/2,F=L/2,D=e?e.Ne:this.Ne,y=e?e.om:this.om,z=0,B=0,G=0,I=0,S=K,da=K,H=L,la=L,ea=r=0;t=c?c.k.ec():0;if(c){q=0;for(m=b.length;q<m;q++)r+=a.Bt(b[q].Wa),ea+=a.Ct(b[q].Wa);I=c.ra;z=e.Ba(I.left,I.top,!0,!0);G=e.Ba(I.left,I.top,!1,!0);S=e.Ba(I.right,I.bottom,!0,!0);H=e.Ba(I.right,I.bottom,!1,!0);0!==t&&(q=e.Ba(I.right,I.top,!0,!0),m=e.Ba(I.right,I.top,!1,!0),B=e.Ba(I.left,I.bottom,!0,!0),
I=e.Ba(I.left,I.bottom,!1,!0),t=Math.min(z,S,q,B),S=Math.max(z,S,q,B),z=t,t=Math.min(G,H,m,I),H=Math.max(G,H,m,I),G=t);z-=r;G-=ea;S+=r;H+=ea;y.left=z/K;y.top=1-G/L;y.right=S/K;y.bottom=1-H/L;B=z=A(z);I=G=A(G);da=S=ra(S);la=H=ra(H);B-=r;I-=ea;da+=r;la+=ea;0>z&&(z=0);0>G&&(G=0);S>K&&(S=K);H>L&&(H=L);0>B&&(B=0);0>I&&(I=0);da>K&&(da=K);la>L&&(la=L);D.left=z/K;D.top=1-G/L;D.right=S/K;D.bottom=1-H/L}else D.left=y.left=0,D.top=y.top=0,D.right=y.right=1,D.bottom=y.bottom=1;ea=c&&(a.Vh(b[0].Wa)||0!==r||0!==
ea||1!==c.opacity||c.type.Ca.Uo)||e&&!c&&1!==e.opacity;a.up();if(ea){x[v]||(x[v]=a.ac(K,L,this.b.qa));if(x[v].Ze!==K||x[v].Ye!==L)a.deleteTexture(x[v]),x[v]=a.ac(K,L,this.b.qa);a.Yb(0);a.Gc(x[v]);O=la-I;a.clearRect(B,L-I-O,da-B,O);c?c.Bb(a):(a.Lb(this.b.bb),a.Xd(e.opacity),a.Fc(),a.translate(-N,-F),a.wc(),a.Ec(z,H,S,H,S,G,z,G,D));y.left=y.top=0;y.right=y.bottom=1;c&&(t=D.top,D.top=D.bottom,D.bottom=t);v=1;C=0}a.Xd(1);r=b.length-1;var ua=a.lm(b[r].Wa)||!e&&!c&&!this.b.oc;q=t=0;for(m=b.length;q<m;q++){x[v]||
(x[v]=a.ac(K,L,this.b.qa));if(x[v].Ze!==K||x[v].Ye!==L)a.deleteTexture(x[v]),x[v]=a.ac(K,L,this.b.qa);a.Yb(b[q].Wa);t=b[q].index;a.Sj(b[q].Wa)&&(this.b.L=!0);0!=q||ea?(a.Dg(f,1/K,1/L,y.left,y.top,y.right,y.bottom,l,p,h,n,(h+g)/2,(n+E)/2,this.b.tc.U,c?c.Fa[t]:e?e.Fa[t]:this.Fa[t]),a.Lb(null),q!==r||ua?(a.Gc(x[v]),O=la-I,J=L-I-O,a.clearRect(B,J,da-B,O)):(c?a.Re(c.Db,c.Ab):e&&a.Re(e.Db,e.Ab),a.Gc(f)),a.Lb(x[C]),a.Fc(),a.translate(-N,-F),a.wc(),a.Ec(z,H,S,H,S,G,z,G,D),q!==r||ua||a.Lb(null)):(a.Gc(x[v]),
O=la-I,J=L-I-O,a.clearRect(B,J,da-B,O),c?(c.mb&&c.mb.D?(J=c.mb.D,C=1/J.width,J=1/J.height):(C=1/c.width,J=1/c.height),a.Dg(f,C,J,y.left,y.top,y.right,y.bottom,l,p,h,n,(h+g)/2,(n+E)/2,this.b.tc.U,c.Fa[t]),c.Bb(a)):(a.Dg(f,1/K,1/L,0,0,1,1,l,p,h,n,(h+g)/2,(n+E)/2,this.b.tc.U,e?e.Fa[t]:this.Fa[t]),a.Lb(e?this.b.bb:this.b.Sa),a.Fc(),a.translate(-N,-F),a.wc(),a.Ec(z,H,S,H,S,G,z,G,D)),y.left=y.top=0,y.right=y.bottom=1,c&&!ua&&(t=H,H=G,G=t));v=0===v?1:0;C=0===v?1:0}ua&&(a.Yb(0),c?a.Re(c.Db,c.Ab):e?a.Re(e.Db,
e.Ab):this.b.oc||(a.Kf(this.b.width,this.b.height),N=this.b.width/2,F=this.b.height/2,G=z=0,S=this.b.width,H=this.b.height),a.Gc(f),a.Lb(x[C]),a.Fc(),a.translate(-N,-F),a.wc(),c&&1===b.length&&!ea?a.Ec(z,G,S,G,S,H,z,H,D):a.Ec(z,H,S,H,S,G,z,G,D),a.Lb(null))};b.prototype.mj=function(a){var e,c;e=0;for(c=this.Q.length;e<c;e++)if(this.Q[e].X===a)return this.Q[e];return null};b.prototype.eb=function(){var a,e,c,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.q,w:this.width,h:this.height,fv:this.dg,
persist:this.Me,fx:[],layers:{}};a=0;for(e=this.O.length;a<e;a++)c=this.O[a],f.fx.push({name:c.name,active:c.xb,params:this.Fa[c.index]});a=0;for(e=this.Q.length;a<e;a++)c=this.Q[a],f.layers[c.X.toString()]=c.eb();return f};b.prototype.rb=function(a){var e,c,f,b;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.q=a.a;this.width=a.w;this.height=a.h;this.Me=a.persist;"undefined"!==typeof a.fv&&(this.dg=a.fv);var l=a.fx;e=0;for(c=l.length;e<c;e++)if(f=this.ll(l[e].name))f.xb=l[e].active,this.Fa[f.index]=
l[e].params;this.fd();e=a.layers;for(b in e)e.hasOwnProperty(b)&&(a=this.mj(parseInt(b,10)))&&a.rb(e[b])};vb=b;g.prototype.fd=function(){V(this.da);this.Zd=!0;var a,e,c;a=0;for(e=this.O.length;a<e;a++)c=this.O[a],c.xb&&(this.da.push(c),c.Yc||(this.Zd=!1))};g.prototype.ll=function(a){var e,c,f;e=0;for(c=this.O.length;e<c;e++)if(f=this.O[e],f.name===a)return f;return null};g.prototype.Or=function(){var a,e,c,f,b,l;e=a=0;for(c=this.rc.length;a<c;a++){f=this.rc[a];b=this.b.A[f[1]];l=this.b.Rm(b);b=!0;
if(!l||this.Ra.dg){f=this.b.cf(f,this,!0);if(!f)continue;r.push(f);f.type.global&&(b=!1,this.Yg.push(f.uid))}b&&(this.rc[e]=this.rc[a],e++)}this.rc.length=e;this.b.wb();!this.b.n&&this.O.length&&(this.yb=this.ws);this.Wg=Za(this.yb);this.b.B&&$a(this,this.yb,this.b.B);this.ad=!0};g.prototype.Bg=function(a,e){var c=Aa(this.j,a);0>c||(e&&this.xc&&a.Xb&&a.Xb.right>=a.Xb.left&&(a.ma(),this.ub.update(a,a.Xb,null),a.Xb.set(0,0,-1,-1)),c===this.j.length-1?this.j.pop():(wa(this.j,c),this.bi(c)),this.ad=!0)};
g.prototype.Rg=function(a,e){a.gd=this.j.length;this.j.push(a);e&&this.xc&&a.Xb&&a.C();this.ad=!0};g.prototype.Eu=function(a){this.j.unshift(a);this.bi(0)};g.prototype.ru=function(a,e,c){var f=a.od();e=e.od();wa(this.j,f);f<e&&e--;c&&e++;e===this.j.length?this.j.push(a):this.j.splice(e,0,a);this.bi(f<e?f:e)};g.prototype.bi=function(a){-1===this.ie?this.ie=a:a<this.ie&&(this.ie=a);this.ad=this.Nf=!0};g.prototype.Um=function(){if(this.Nf){-1===this.ie&&(this.ie=0);var a,e,c;if(this.xc)for(a=this.ie,
e=this.j.length;a<e;++a)c=this.j[a],c.gd=a,this.ub.ou(c.Xb);else for(a=this.ie,e=this.j.length;a<e;++a)this.j[a].gd=a;this.Nf=!1;this.ie=-1}};g.prototype.fc=function(a){return this.zt()*(this.b.oc||a?this.b.Sg:1)};g.prototype.zt=function(){return(this.scale*this.Ra.scale-1)*this.Bi+1};g.prototype.ec=function(){return this.Dd?0:Fa(this.Ra.q+this.q)};var a=[],l=[],v=[];g.prototype.pl=function(){this.Um();this.ub.Wj(this.ba,this.ca,this.ka,this.ja,v);if(!v.length)return t();if(1===v.length){var a=t();
ya(a,v[0]);V(v);return a}for(var e=!0;1<v.length;){for(var a=v,c=void 0,f=void 0,b=void 0,g=void 0,p=void 0,c=0,f=a.length;c<f-1;c+=2){var b=a[c],g=a[c+1],p=t(),h=b,n=g,m=p,E=0,x=0,U=0,r=h.length,R=n.length,M=void 0,X=void 0;for(m.length=r+R;E<r&&x<R;++U)M=h[E],X=n[x],M.gd<X.gd?(m[U]=M,++E):(m[U]=X,++x);for(;E<r;++E,++U)m[U]=h[E];for(;x<R;++x,++U)m[U]=n[x];e||(q(b),q(g));l.push(p)}1===f%2&&(e?(b=t(),ya(b,a[f-1]),l.push(b)):l.push(a[f-1]));ya(a,l);V(l);e=!1}a=v[0];V(v);return a};g.prototype.zc=function(a){this.rd=
this.ij||1!==this.opacity||0!==this.yb;var e=this.b.canvas,c=a,f=!1;this.rd&&(this.b.yj||(this.b.yj=document.createElement("canvas"),e=this.b.yj,e.width=this.b.I,e.height=this.b.H,this.b.wo=e.getContext("2d"),f=!0),e=this.b.yj,c=this.b.wo,e.width!==this.b.I&&(e.width=this.b.I,f=!0),e.height!==this.b.H&&(e.height=this.b.H,f=!0),f&&this.b.bk(c,this.b.qa),this.ed&&c.clearRect(0,0,this.b.I,this.b.H));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.ed||(c.fillStyle="rgb("+this.Pc[0]+","+
this.Pc[1]+","+this.Pc[2]+")",c.fillRect(0,0,this.b.I,this.b.H));c.save();this.Dd=!0;var f=this.qe(!0),b=this.qe(!1);this.Dd=!1;this.b.Vb&&(f=Math.round(f),b=Math.round(b));this.Yj(f,b,c);var l=this.fc();c.scale(l,l);c.translate(-f,-b);this.xc?(this.nb.left=this.ub.Qb(this.ba),this.nb.top=this.ub.Rb(this.ca),this.nb.right=this.ub.Qb(this.ka),this.nb.bottom=this.ub.Rb(this.ja),this.ad||!this.nb.ah(this.qg)?(q(this.Nd),f=this.pl(),this.ad=!1,this.qg.Vf(this.nb)):f=this.Nd):f=this.j;for(var p,h=null,
b=0,l=f.length;b<l;++b)p=f[b],p!==h&&(this.qs(p,c),h=p);this.xc&&(this.Nd=f);c.restore();this.rd&&(a.globalCompositeOperation=this.Wg,a.globalAlpha=this.opacity,a.drawImage(e,0,0))};g.prototype.qs=function(a,e){if(a.visible&&0!==a.width&&0!==a.height){a.ma();var c=a.ra;c.right<this.ba||c.bottom<this.ca||c.left>this.ka||c.top>this.ja||(e.globalCompositeOperation=a.Wg,a.zc(e))}};g.prototype.tk=function(){this.Dd=!0;var a=this.qe(!0),c=this.qe(!1);this.Dd=!1;this.b.Vb&&(a=Math.round(a),c=Math.round(c));
this.Yj(a,c,null)};g.prototype.Yj=function(a,c,b){var f=this.fc();this.ba=a;this.ca=c;this.ka=a+1/f*this.b.I;this.ja=c+1/f*this.b.H;this.ba>this.ka&&(a=this.ba,this.ba=this.ka,this.ka=a);this.ca>this.ja&&(a=this.ca,this.ca=this.ja,this.ja=a);a=this.ec();0!==a&&(b&&(b.translate(this.b.I/2,this.b.H/2),b.rotate(-a),b.translate(this.b.I/-2,this.b.H/-2)),this.de.set(this.ba,this.ca,this.ka,this.ja),this.de.offset((this.ba+this.ka)/-2,(this.ca+this.ja)/-2),this.Tp.Dp(this.de,a),this.Tp.tn(this.de),this.de.offset((this.ba+
this.ka)/2,(this.ca+this.ja)/2),this.ba=this.de.left,this.ca=this.de.top,this.ka=this.de.right,this.ja=this.de.bottom)};g.prototype.ye=function(a){if(this.rd=this.ij){this.b.bb||(this.b.bb=a.ac(this.b.I,this.b.H,this.b.qa));if(this.b.bb.Ze!==this.b.I||this.b.bb.Ye!==this.b.H)a.deleteTexture(this.b.bb),this.b.bb=a.ac(this.b.I,this.b.H,this.b.qa);a.Gc(this.b.bb)}this.Dd=!0;var c=this.qe(!0),b=this.qe(!1);this.Dd=!1;this.b.Vb&&(c=Math.round(c),b=Math.round(b));this.Yj(c,b,null);c=this.fc();a.Fc();a.scale(c,
c);a.Zj(-this.ec());a.translate((this.ba+this.ka)/-2,(this.ca+this.ja)/-2);a.wc();this.xc?(this.nb.left=this.ub.Qb(this.ba),this.nb.top=this.ub.Rb(this.ca),this.nb.right=this.ub.Qb(this.ka),this.nb.bottom=this.ub.Rb(this.ja),this.ad||!this.nb.ah(this.qg)?(q(this.Nd),c=this.pl(),this.ad=!1,this.qg.Vf(this.nb)):c=this.Nd):c=this.j;for(var f,l=null,b=c.length-1;0<=b;--b)f=c[b],f!==l&&(this.ts(c[b],a),l=f);this.xc&&(this.Nd=c);this.ed||(this.Qk=this.b.gf++,a.ck(this.Qk),a.vp(1,1,1),a.Nn(),a.Ou())};g.prototype.Bb=
function(a){var c=0,b=0;if(this.rd=this.ij||1!==this.opacity||0<this.da.length||0!==this.yb){this.b.bb||(this.b.bb=a.ac(this.b.I,this.b.H,this.b.qa));if(this.b.bb.Ze!==this.b.I||this.b.bb.Ye!==this.b.H)a.deleteTexture(this.b.bb),this.b.bb=a.ac(this.b.I,this.b.H,this.b.qa);a.Gc(this.b.bb);this.ed&&a.clear(0,0,0,0)}this.ed||(this.b.na?(a.ck(this.Qk),a.vp(this.Pc[0]/255,this.Pc[1]/255,this.Pc[2]/255),a.Nn(),a.Zu()):a.clear(this.Pc[0]/255,this.Pc[1]/255,this.Pc[2]/255,1));this.Dd=!0;var f=this.qe(!0),
c=this.qe(!1);this.Dd=!1;this.b.Vb&&(f=Math.round(f),c=Math.round(c));this.Yj(f,c,null);f=this.fc();a.Fc();a.scale(f,f);a.Zj(-this.ec());a.translate((this.ba+this.ka)/-2,(this.ca+this.ja)/-2);a.wc();this.xc?(this.nb.left=this.ub.Qb(this.ba),this.nb.top=this.ub.Rb(this.ca),this.nb.right=this.ub.Qb(this.ka),this.nb.bottom=this.ub.Rb(this.ja),this.ad||!this.nb.ah(this.qg)?(q(this.Nd),c=this.pl(),this.ad=!1,this.qg.Vf(this.nb)):c=this.Nd):c=this.j;var l,g,p=null,b=0;for(l=c.length;b<l;++b)g=c[b],g!==
p&&(this.rs(c[b],a),p=g);this.xc&&(this.Nd=c);this.rd&&(c=this.da.length?this.da[0].Wa:0,b=this.da.length?this.da[0].index:0,0===this.da.length||1===this.da.length&&!a.lm(c)&&1===this.opacity?(1===this.da.length?(a.Yb(c),a.Dg(this.Ra.hh(),1/this.b.I,1/this.b.H,0,0,1,1,f,this.ec(),this.ba,this.ca,(this.ba+this.ka)/2,(this.ca+this.ja)/2,this.b.tc.U,this.Fa[b]),a.Sj(c)&&(this.b.L=!0)):a.Yb(0),a.Gc(this.Ra.hh()),a.Xd(this.opacity),a.Lb(this.b.bb),a.Re(this.Db,this.Ab),a.Fc(),a.wc(),f=this.b.I/2,c=this.b.H/
2,a.Yh(-f,c,f,c,f,-c,-f,-c),a.Lb(null)):this.Ra.qm(a,this,null,this.Ra.hh()))};g.prototype.rs=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.ma();var b=a.ra;b.right<this.ba||b.bottom<this.ca||b.left>this.ka||b.top>this.ja||(c.ck(a.gf),a.dq?this.us(a,c):(c.Yb(0),c.Re(a.Db,a.Ab),a.Bb(c)))}};g.prototype.ts=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.ma();var b=a.ra;b.right<this.ba||b.bottom<this.ca||b.left>this.ka||b.top>this.ja||(a.gf=this.b.gf++,0===a.yb&&1===a.opacity&&a.Zd&&
a.ye&&(c.ck(a.gf),a.ye(c)))}};g.prototype.us=function(a,c){var b=a.da[0].Wa,f=a.da[0].index,l=this.fc();if(1!==a.da.length||c.lm(b)||c.Gu(b)||(a.q||a.k.ec())&&c.Vh(b)||1!==a.opacity||a.type.Ca.Uo)this.Ra.qm(c,this,a,this.rd?this.b.bb:this.Ra.hh()),c.Fc(),c.scale(l,l),c.Zj(-this.ec()),c.translate((this.ba+this.ka)/-2,(this.ca+this.ja)/-2),c.wc();else{c.Yb(b);c.Re(a.Db,a.Ab);c.Sj(b)&&(this.b.L=!0);var g=0,p=0,h=0,n=0;c.Vh(b)&&(n=a.ra,g=this.Ba(n.left,n.top,!0,!0),p=this.Ba(n.left,n.top,!1,!0),h=this.Ba(n.right,
n.bottom,!0,!0),n=this.Ba(n.right,n.bottom,!1,!0),g=g/windowWidth,p=1-p/windowHeight,h=h/windowWidth,n=1-n/windowHeight);var q;a.mb&&a.mb.D?(q=a.mb.D,b=1/q.width,q=1/q.height):(b=1/a.width,q=1/a.height);c.Dg(this.rd?this.b.bb:this.Ra.hh(),b,q,g,p,h,n,l,this.ec(),this.ba,this.ca,(this.ba+this.ka)/2,(this.ca+this.ja)/2,this.b.tc.U,a.Fa[f]);a.Bb(c)}};g.prototype.qe=function(a){var c=0,b=0,f=this.b.devicePixelRatio;this.b.uf&&(c*=f,b*=f);var f=this.b.fp,l=this.b.gp,f=(this.Ra.scrollX-f)*this.Td+f,l=(this.Ra.scrollY-
l)*this.Ud+l,g,p,h=1/this.fc(!1);g=f-this.b.I*h/2;p=l-this.b.H*h/2;g+=c*h;p+=b*h;b=this.ec();0!==b&&(g-=f,p-=l,c=Math.cos(b),b=Math.sin(b),h=g*c-p*b,p=p*c+g*b,g=h+f,p+=l);return a?g:p};g.prototype.Ba=function(a,c,b,f){var l=this.b.fp,g=this.b.gp,p=(this.Ra.scrollX-l)*this.Td+l,h=(this.Ra.scrollY-g)*this.Ud+g,g=p,l=h,n=this.ec();if(0!==n){a-=p;c-=h;var q=Math.cos(-n),n=Math.sin(-n),E=a*q-c*n;c=c*q+a*n;a=E+p;c+=h}p=1/this.fc(!f);f?(g-=this.b.I*p/2,l-=this.b.H*p/2):(g-=this.b.width*p/2,l-=this.b.height*
p/2);g=(a-g)/p;l=(c-l)/p;a=this.b.devicePixelRatio;this.b.uf&&!f&&(g/=a,l/=a);return b?g:l};g.prototype.eb=function(){var a,c,b,f={s:this.scale,a:this.q,vl:this.ba,vt:this.ca,vr:this.ka,vb:this.ja,v:this.visible,bc:this.Pc,t:this.ed,px:this.Td,py:this.Ud,o:this.opacity,zr:this.Bi,fx:[],cg:this.Yg,instances:[]};a=0;for(c=this.O.length;a<c;a++)b=this.O[a],f.fx.push({name:b.name,active:b.xb,params:this.Fa[b.index]});return f};g.prototype.rb=function(a){var c,b,f;this.scale=a.s;this.q=a.a;this.ba=a.vl;
this.ca=a.vt;this.ka=a.vr;this.ja=a.vb;this.visible=a.v;this.Pc=a.bc;this.ed=a.t;this.Td=a.px;this.Ud=a.py;this.opacity=a.o;this.Bi=a.zr;this.Yg=a.cg||[];ya(this.rc,this.Lp);var l=new ba;c=0;for(f=this.Yg.length;c<f;++c)l.add(this.Yg[c]);b=c=0;for(f=this.rc.length;c<f;++c)l.contains(this.rc[c][2])||(this.rc[b]=this.rc[c],++b);xa(this.rc,b);b=a.fx;c=0;for(f=b.length;c<f;c++)if(a=this.ll(b[c].name))a.xb=b[c].active,this.Fa[a.index]=b[c].params;this.fd();this.j.sort(m);this.Nf=!0};Jb=g})();
(function(){function b(a,c){var d,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(d=0;d<e;d++)if(a[d]!==c[d])return!1;return!0}}function m(a,c){return a.index-c.index}function g(a){var c,d,e,f;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(m);a.length>=w.length&&(w.length=a.length+1);w[a.length]||(w[a.length]=[]);f=w[a.length];c=0;for(d=f.length;c<d;c++)if(e=f[c],b(a,e))return e;f.push(a);return a}
function t(a,c){this.b=a;this.Vp={};this.Jn={};this.ul=!1;this.$n=new ba;this.Wk=[];this.Fk=[];this.name=c[0];var d=c[1];this.ze=[];var e,b;e=0;for(b=d.length;e<b;e++)this.bo(d[e],null,this.ze)}function q(a){this.type=a;this.j=[];this.Z=[];this.za=!0}function r(a,c,d){this.sheet=a;this.parent=c;this.b=a.b;this.Da=[];this.Se=[];this.Yn=this.qk=this.Mm=this.Al=this.group=this.Jp=!1;this.ib=[];this.Mc=[];this.Ic=[];this.jh="";this.fg=this.Al=this.group=!1;this.Ri=null;d[1]&&(this.jh=d[1][1].toLowerCase(),
this.group=!0,this.Al=!!d[1][0],this.Ri=[],this.fg=this.Al,this.b.Sf.push(this),this.b.kh[this.jh]=this);this.Cc=d[2];this.X=d[4];this.group||(this.b.sn[this.X.toString()]=this);var e=d[5];a=0;for(c=e.length;a<c;a++){var b=new Kb(this,e[a]);b.index=a;this.ib.push(b);this.ln(b.type)}e=d[6];a=0;for(c=e.length;a<c;a++)b=new Lb(this,e[a]),b.index=a,this.Mc.push(b);if(8===d.length)for(d=d[7],a=0,c=d.length;a<c;a++)this.sheet.bo(d[a],this,this.Ic);this.wj=!1;this.ib.length&&(this.wj=null==this.ib[0].type&&
this.ib[0].pb==Y.prototype.m.Ym)}function c(a,c){var d,e,b;if(a&&(-1===c.indexOf(a)&&c.push(a),a.sc))for(d=0,e=a.$b.length;d<e;d++)b=a.$b[d],a!==b&&-1===c.indexOf(b)&&c.push(b)}function a(a,c){this.mc=a;this.sheet=a.sheet;this.b=a.b;this.T=[];this.Ga=[];this.R={};this.index=-1;this.Pg=!1;this.pb=this.b.ke(c[1]);this.trigger=0<c[3];this.In=2===c[3];this.qj=c[5];this.lu=c[6];this.X=c[7];this.b.ve[this.X.toString()]=this;-1===c[0]?(this.type=null,this.Va=this.vm,this.Xe=null,this.Rc=-1):(this.type=this.b.A[c[0]],
this.Va=this.lu?this.Uu:this.um,c[2]?(this.Xe=this.type.kj(c[2]),this.Rc=this.type.il(c[2])):(this.Xe=null,this.Rc=-1),this.mc.parent&&this.mc.parent.dk());this.In&&(this.Va=this.Vu);if(10===c.length){var d,e,b=c[9];d=0;for(e=b.length;d<e;d++){var f=new Mb(this,b[d]);this.T.push(f)}this.Ga.length=b.length}}function l(a,c){this.mc=a;this.sheet=a.sheet;this.b=a.b;this.T=[];this.Ga=[];this.R={};this.index=-1;this.Pg=!1;this.pb=this.b.ke(c[1]);-1===c[0]?(this.type=null,this.Va=this.vm,this.Xe=null,this.Rc=
-1):(this.type=this.b.A[c[0]],this.Va=this.um,c[2]?(this.Xe=this.type.kj(c[2]),this.Rc=this.type.il(c[2])):(this.Xe=null,this.Rc=-1));this.X=c[3];this.b.me[this.X.toString()]=this;if(6===c.length){var d,e,b=c[5];d=0;for(e=b.length;d<e;d++){var f=new Mb(this,b[d]);this.T.push(f)}this.Ga.length=b.length}}function v(){p++;u.length===p&&u.push(new Nb);return u[p]}function d(a,c){this.Dc=a;this.mc=a.mc;this.sheet=a.sheet;this.b=a.b;this.type=c[0];this.nd=null;this.$d=0;this.get=null;this.An=0;this.Ra=
null;this.key=0;this.object=null;this.index=0;this.qi=this.Lf=this.qi=this.Lf=this.Ln=this.jf=this.ri=null;this.Kc=!1;var d,e,b;switch(c[0]){case 0:case 7:this.nd=new Ob(this,c[1]);this.$d=0;this.get=this.Jt;break;case 1:this.nd=new Ob(this,c[1]);this.$d=0;this.get=this.Kt;break;case 5:this.nd=new Ob(this,c[1]);this.$d=0;this.get=this.Ot;break;case 3:case 8:this.An=c[1];this.get=this.Ht;break;case 6:this.Ra=this.b.rg[c[1]];this.get=this.Pt;break;case 9:this.key=c[1];this.get=this.Nt;break;case 4:this.object=
this.b.A[c[1]];this.get=this.Qt;this.mc.ln(this.object);this.Dc instanceof Lb?this.mc.dk():this.mc.parent&&this.mc.parent.dk();break;case 10:this.index=c[1];a.type&&a.type.F?(this.get=this.Lt,this.Kc=!0):this.get=this.Mt;break;case 11:this.ri=c[1];this.jf=null;this.get=this.It;break;case 2:case 12:this.Ln=c[1];this.get=this.Gt;break;case 13:for(this.get=this.Rt,this.Lf=[],this.qi=[],d=1,e=c.length;d<e;d++)b=new Mb(this.Dc,c[d]),this.Lf.push(b),this.qi.push(0)}}function e(a,c,d){this.sheet=a;this.parent=
c;this.b=a.b;this.Da=[];this.name=d[1];this.si=d[2];this.zl=d[3];this.xh=!!d[4];this.vj=!!d[5];this.X=d[6];this.b.Lg[this.X.toString()]=this;this.data=this.zl;this.parent?(this.Ef=this.xh||this.vj?-1:this.b.bv++,this.b.Dr.push(this)):(this.Ef=-1,this.b.Cr.push(this))}function k(a,c,d){this.sheet=a;this.parent=c;this.b=a.b;this.Da=[];this.oh=null;this.Wt=d[1];this.xb=!0}function f(){this.Mp=[];this.reset(null)}var w=[];t.prototype.toString=function(){return this.name};t.prototype.bo=function(a,c,d){switch(a[0]){case 0:a=
new Pb(this,c,a);if(a.Cc)for(d.push(a),d=0,c=a.ib.length;d<c;d++)a.ib[d].trigger&&this.co(a,d);else a.po()?this.co(a,0):d.push(a);break;case 1:a=new Gb(this,c,a);d.push(a);break;case 2:a=new Qb(this,c,a),d.push(a)}};t.prototype.Ma=function(){var a,c;a=0;for(c=this.ze.length;a<c;a++)this.ze[a].Ma(a<c-1&&this.ze[a+1].wj)};t.prototype.Sm=function(){V(this.Wk);V(this.Fk);this.jn(this);V(this.Fk)};t.prototype.jn=function(a){var c,d,e,b,f=a.Wk,k=a.Fk,l=this.$n.ge();c=0;for(d=l.length;c<d;++c)e=l[c],b=e.oh,
!e.xb||a===b||-1<k.indexOf(b)||(k.push(b),b.jn(a),f.push(b))};t.prototype.Va=function(a){this.b.Cw||(this.ul=!0,a||(this.b.Hl=!0));var c,d;c=0;for(d=this.ze.length;c<d;c++){var e=this.ze[c];e.Va();this.b.Pk(e.Da);this.b.Ce&&this.b.wb()}a||(this.b.Hl=!1)};t.prototype.co=function(a,c){a.Cc||this.b.rk.push(a);var d,e,b=a.ib[c],f;b.type?f=b.type.name:f="system";var k=(d=b.In)?this.Jn:this.Vp;k[f]||(k[f]=[]);f=k[f];k=b.pb;if(d){if(b.T.length&&(b=b.T[0],1===b.type&&2===b.nd.type)){b=b.nd.value.toLowerCase();
d=0;for(e=f.length;d<e;d++)if(f[d].method==k){d=f[d].dh;d[b]?d[b].push([a,c]):d[b]=[[a,c]];return}d={};d[b]=[[a,c]];f.push({method:k,dh:d})}}else{d=0;for(e=f.length;d<e;d++)if(f[d].method==k){f[d].dh.push([a,c]);return}Z&&k===Z.prototype.m.Qf?f.unshift({method:k,dh:[[a,c]]}):f.push({method:k,dh:[[a,c]]})}};wb=t;q.prototype.Wn=function(){return this.za?this.type.j.length:this.j.length};q.prototype.pc=function(){return this.za?this.type.j:this.j};q.prototype.Th=function(a){a&&(a.b.qb().nc.Cc?(this.za&&
(V(this.j),ya(this.Z,a.type.j),this.za=!1),a=this.Z.indexOf(a),-1!==a&&(this.j.push(this.Z[a]),this.Z.splice(a,1))):(this.za=!1,V(this.j),this.j[0]=a))};fb=q;window._c2hh_="440ACBCEF1197AE71D17882BCBDF4E5697D4CD18";r.prototype.Ma=function(a){var c,d=this.parent;if(this.group)for(this.qk=!0;d;){if(!d.group){this.qk=!1;break}d=d.parent}this.Mm=!this.po()&&(!this.parent||this.parent.group&&this.parent.qk);this.Yn=!!a;this.Se=this.Da.slice(0);for(d=this.parent;d;){a=0;for(c=d.Da.length;a<c;a++)this.Ar(d.Da[a]);
d=d.parent}this.Da=g(this.Da);this.Se=g(this.Se);a=0;for(c=this.ib.length;a<c;a++)this.ib[a].Ma();a=0;for(c=this.Mc.length;a<c;a++)this.Mc[a].Ma();a=0;for(c=this.Ic.length;a<c;a++)this.Ic[a].Ma(a<c-1&&this.Ic[a+1].wj)};r.prototype.Yu=function(a){if(this.fg!==!!a){this.fg=!!a;var c;a=0;for(c=this.Ri.length;a<c;++a)this.Ri[a].Zp();0<c&&this.b.pa.hf&&this.b.pa.hf.Sm()}};r.prototype.ln=function(a){c(a,this.Da)};r.prototype.Ar=function(a){c(a,this.Se)};r.prototype.dk=function(){this.Jp=!0;this.parent&&
this.parent.dk()};r.prototype.po=function(){return this.ib.length?this.ib[0].trigger:!1};r.prototype.Va=function(){var a,c,d=!1,e=this.b,b=this.b.qb();b.nc=this;var f=this.ib;this.wj||(b.Xk=!1);if(this.Cc){0===f.length&&(d=!0);b.Za=0;for(a=f.length;b.Za<a;b.Za++)c=f[b.Za],c.trigger||(c=c.Va())&&(d=!0);(b.yf=d)&&this.$j()}else{b.Za=0;for(a=f.length;b.Za<a;b.Za++)if(c=f[b.Za].Va(),!c){b.yf=!1;this.Mm&&e.Ce&&e.wb();return}b.yf=!0;this.$j()}this.ys(b)};r.prototype.ys=function(a){a.yf&&this.Yn&&(a.Xk=
!0);this.Mm&&this.b.Ce&&this.b.wb()};r.prototype.Su=function(a){this.b.qb().nc=this;this.ib[a].Va()&&(this.$j(),this.b.qb().yf=!0)};r.prototype.$j=function(){var a=this.b.qb(),c;a.yc=0;for(c=this.Mc.length;a.yc<c;a.yc++)if(this.Mc[a.yc].Va())return;this.sp()};r.prototype.Pu=function(){var a=this.b.qb(),c;for(c=this.Mc.length;a.yc<c;a.yc++)if(this.Mc[a.yc].Va())return;this.sp()};r.prototype.sp=function(){if(this.Ic.length){var a,c,d,e,b=this.Ic.length-1;this.b.Uj(this);if(this.Jp)for(a=0,c=this.Ic.length;a<
c;a++)d=this.Ic[a],(e=!this.qk||!this.group&&a<b)&&this.b.Tj(d.Da),d.Va(),e?this.b.If(d.Da):this.b.Pk(d.Da);else for(a=0,c=this.Ic.length;a<c;a++)this.Ic[a].Va();this.b.Rj()}};r.prototype.Tu=function(){var a=this.b.qb();a.nc=this;var c=!1,d;a.Za=0;for(d=this.ib.length;a.Za<d;a.Za++)if(this.ib[a.Za].Va())c=!0;else if(!this.Cc)return!1;return this.Cc?c:!0};r.prototype.Qu=function(){this.b.eh++;var a=this.b.qb().Za,c=this.b.Uj(this);if(!this.Cc)for(c.Za=a+1,a=this.ib.length;c.Za<a;c.Za++)if(!this.ib[c.Za].Va()){this.b.Rj();
return}this.$j();this.b.Rj()};r.prototype.hu=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=c;--c)if(this.ib[c].type===a.type)return!1;return!0};Pb=r;a.prototype.Ma=function(){var a,c,d;a=0;for(c=this.T.length;a<c;a++)d=this.T[a],d.Ma(),d.Kc&&(this.Pg=!0)};a.prototype.Vu=function(){return!0};a.prototype.vm=function(){var a,c;a=0;for(c=this.T.length;a<c;a++)this.Ga[a]=this.T[a].get();return Na(this.pb.apply(this.b.ud,this.Ga),this.qj)};a.prototype.Uu=function(){var a,c;a=0;for(c=this.T.length;a<
c;a++)this.Ga[a]=this.T[a].get();a=this.pb.apply(this.Xe?this.Xe:this.type,this.Ga);this.type.jd();return a};a.prototype.um=function(){var a,c,d,e,b,f,k,l,p=this.type,g=p.la(),q=this.mc.Cc&&!this.trigger;c=0;var m=p.sc,r=p.F,w=p.Gd,u=this.Rc,t=-1<u,v=this.Pg,D=this.T,y=this.Ga,z=this.qj,B=this.pb,G;if(v)for(c=0,b=D.length;c<b;++c)f=D[c],f.Kc||(y[c]=f.get(0));else for(c=0,b=D.length;c<b;++c)y[c]=D[c].get(0);if(g.za){V(g.j);V(g.Z);G=p.j;a=0;for(e=G.length;a<e;++a){l=G[a];if(v)for(c=0,b=D.length;c<b;++c)f=
D[c],f.Kc&&(y[c]=f.get(a));t?(c=0,r&&(c=l.type.bg[w]),c=B.apply(l.J[u+c],y)):c=B.apply(l,y);(k=Na(c,z))?g.j.push(l):q&&g.Z.push(l)}p.finish&&p.finish(!0);g.za=!1;p.jd();return g.Wn()}d=0;G=(k=q&&!this.mc.hu(this))?g.Z:g.j;var I=!1;a=0;for(e=G.length;a<e;++a){l=G[a];if(v)for(c=0,b=D.length;c<b;++c)f=D[c],f.Kc&&(y[c]=f.get(a));t?(c=0,r&&(c=l.type.bg[w]),c=B.apply(l.J[u+c],y)):c=B.apply(l,y);if(Na(c,z))if(I=!0,k){if(g.j.push(l),m)for(c=0,b=l.siblings.length;c<b;c++)f=l.siblings[c],f.type.la().j.push(f)}else{G[d]=
l;if(m)for(c=0,b=l.siblings.length;c<b;c++)f=l.siblings[c],f.type.la().j[d]=f;d++}else if(k){G[d]=l;if(m)for(c=0,b=l.siblings.length;c<b;c++)f=l.siblings[c],f.type.la().Z[d]=f;d++}else if(q&&(g.Z.push(l),m))for(c=0,b=l.siblings.length;c<b;c++)f=l.siblings[c],f.type.la().Z.push(f)}xa(G,d);if(m)for(r=p.$b,a=0,e=r.length;a<e;a++)l=r[a].la(),k?xa(l.Z,d):xa(l.j,d);d=I;if(k&&!I)for(a=0,e=g.j.length;a<e;a++){l=g.j[a];if(v)for(c=0,b=D.length;c<b;c++)f=D[c],f.Kc&&(y[c]=f.get(a));c=t?B.apply(l.J[u],y):B.apply(l,
y);if(Na(c,z)){I=!0;break}}p.finish&&p.finish(d||q);return q?I:g.Wn()};Kb=a;l.prototype.Ma=function(){var a,c,d;a=0;for(c=this.T.length;a<c;a++)d=this.T[a],d.Ma(),d.Kc&&(this.Pg=!0)};l.prototype.vm=function(){var a=this.b,c,d,b=this.T,e=this.Ga;c=0;for(d=b.length;c<d;++c)e[c]=b[c].get();return this.pb.apply(a.ud,e)};l.prototype.um=function(){var a=this.type,c=this.Rc,d=a.Gd,b=this.Pg,e=this.T,f=this.Ga,k=this.pb,l=a.la().pc(),a=a.F,p=-1<c,g,q,m,r,w,u;if(b)for(q=0,r=e.length;q<r;++q)w=e[q],w.Kc||(f[q]=
w.get(0));else for(q=0,r=e.length;q<r;++q)f[q]=e[q].get(0);g=0;for(m=l.length;g<m;++g){u=l[g];if(b)for(q=0,r=e.length;q<r;++q)w=e[q],w.Kc&&(f[q]=w.get(g));p?(q=0,a&&(q=u.type.bg[d]),k.apply(u.J[c+q],f)):k.apply(u,f)}return!1};Lb=l;var u=[],p=-1;d.prototype.Ma=function(){var a,c;if(11===this.type)this.jf=this.b.Rn(this.ri,this.mc.parent);else if(13===this.type)for(a=0,c=this.Lf.length;a<c;a++)this.Lf[a].Ma();this.nd&&this.nd.Ma()};d.prototype.pu=function(a){this.Kc||!a||a.Ca.hk||(this.Kc=!0)};d.prototype.Bp=
function(){this.Kc=!0};d.prototype.Jt=function(a){this.$d=a||0;a=v();this.nd.get(a);p--;return a.data};d.prototype.Kt=function(a){this.$d=a||0;a=v();this.nd.get(a);p--;return ja(a.data)?a.data:""};d.prototype.Qt=function(){return this.object};d.prototype.Ht=function(){return this.An};d.prototype.Ot=function(a){this.$d=a||0;a=v();this.nd.get(a);p--;return a.kb()?this.b.yt(a.data):this.b.xt(a.data)};d.prototype.Pt=function(){return this.Ra};d.prototype.Nt=function(){return this.key};d.prototype.Mt=
function(){return this.index};d.prototype.Lt=function(a){a=a||0;var c=this.Dc.type,d=null,d=c.la(),b=d.pc();if(b.length)d=b[a%b.length].type;else if(d.Z.length)d=d.Z[a%d.Z.length].type;else if(c.j.length)d=c.j[a%c.j.length].type;else return 0;return this.index+d.aj[c.Gd]};d.prototype.It=function(){return this.jf};d.prototype.Gt=function(){return this.Ln};d.prototype.Rt=function(){var a,c;a=0;for(c=this.Lf.length;a<c;a++)this.qi[a]=this.Lf[a].get();return this.qi};Mb=d;e.prototype.Ma=function(){this.Da=
g(this.Da)};e.prototype.Yd=function(a){var c=this.b.Qn();this.parent&&!this.xh&&c?(this.Ef>=c.length&&(c.length=this.Ef+1),c[this.Ef]=a):this.data=a};e.prototype.nf=function(){var a=this.b.Qn();return!this.parent||this.xh||!a||this.vj?this.data:this.Ef>=a.length||"undefined"===typeof a[this.Ef]?this.zl:a[this.Ef]};e.prototype.Va=function(){!this.parent||this.xh||this.vj||this.Yd(this.zl)};Gb=e;k.prototype.toString=function(){return"include:"+this.oh.toString()};k.prototype.Ma=function(){this.oh=this.b.$k[this.Wt];
this.sheet.$n.add(this);this.Da=g(this.Da);for(var a=this.parent;a;)a.group&&a.Ri.push(this),a=a.parent;this.Zp()};k.prototype.Va=function(){this.parent&&this.b.Xh(this.b.A);this.oh.ul||this.oh.Va(!0);this.parent&&this.b.If(this.b.A)};k.prototype.Zp=function(){for(var a=this.parent;a;){if(a.group&&!a.fg){this.xb=!1;return}a=a.parent}this.xb=!0};Qb=k;f.prototype.reset=function(a){this.nc=a;this.yc=this.Za=0;V(this.Mp);this.Xk=this.yf=!1};Fb=f})();
(function(){function b(c,a){this.Dc=c;this.b=c.b;this.type=a[0];this.get=[this.Qs,this.Ms,this.Zs,this.ct,this.Bs,this.$s,this.Us,this.Js,this.Ts,this.Ys,this.Cs,this.Xs,this.Ks,this.Vs,this.Rs,this.Ss,this.Ns,this.Os,this.Is,this.bt,this.Ws,this.Ps,this.Hs,this.Ls][this.type];var b=null;this.Qd=this.T=this.Ga=this.pb=this.mk=this.second=this.first=this.value=null;this.Rc=-1;this.Tc=null;this.fq=-1;this.jf=this.ri=null;this.Cg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Ob(c,a[1]);break;case 18:this.first=new Ob(c,a[1]);this.second=new Ob(c,a[2]);this.mk=new Ob(c,a[3]);break;case 19:this.pb=this.b.ke(a[1]);this.pb!==Y.prototype.ob.random&&this.pb!==Y.prototype.ob.Kr||this.Dc.Bp();this.Ga=[];this.T=[];3===a.length?(b=a[2],this.Ga.length=b.length+1):this.Ga.length=1;break;case 20:this.Qd=this.b.A[a[1]];this.Rc=-1;this.pb=this.b.ke(a[2]);this.Cg=a[3];Tb.Function&&this.pb===Tb.Function.prototype.ob.yv&&this.Dc.Bp();a[4]?this.Tc=new Ob(c,a[4]):this.Tc=null;this.Ga=
[];this.T=[];6===a.length?(b=a[5],this.Ga.length=b.length+1):this.Ga.length=1;break;case 21:this.Qd=this.b.A[a[1]];this.Cg=a[2];a[3]?this.Tc=new Ob(c,a[3]):this.Tc=null;this.fq=a[4];break;case 22:this.Qd=this.b.A[a[1]];this.Qd.kj(a[2]);this.Rc=this.Qd.il(a[2]);this.pb=this.b.ke(a[3]);this.Cg=a[4];a[5]?this.Tc=new Ob(c,a[5]):this.Tc=null;this.Ga=[];this.T=[];7===a.length?(b=a[6],this.Ga.length=b.length+1):this.Ga.length=1;break;case 23:this.ri=a[1],this.jf=null}this.Dc.pu(this.Qd);4<=this.type&&17>=
this.type&&(this.first=new Ob(c,a[1]),this.second=new Ob(c,a[2]));if(b){var g,d;g=0;for(d=b.length;g<d;g++)this.T.push(new Ob(c,b[g]))}}function m(){++r;q.length===r&&q.push(new Nb);return q[r]}function g(c,a,b){var g,d;g=0;for(d=c.length;g<d;++g)c[g].get(b),a[g+1]=b.data}function t(c,a){this.type=c||Rb.Pf;this.data=a||0;this.Gf=null;this.type==Rb.Pf&&(this.data=Math.floor(this.data))}b.prototype.Ma=function(){23===this.type&&(this.jf=this.Dc.b.Rn(this.ri,this.Dc.mc.parent));this.first&&this.first.Ma();
this.second&&this.second.Ma();this.mk&&this.mk.Ma();this.Tc&&this.Tc.Ma();if(this.T){var c,a;c=0;for(a=this.T.length;c<a;c++)this.T[c].Ma()}};var q=[],r=-1;b.prototype.bt=function(c){var a=this.T,b=this.Ga;b[0]=c;c=m();g(a,b,c);--r;this.pb.apply(this.b.ud,b)};b.prototype.Ws=function(c){var a=this.Qd,b=this.Ga,q=this.T,d=this.Tc,e=this.pb,k=this.Dc.$d,f=a.la(),w=f.pc();if(!w.length)if(f.Z.length)w=f.Z;else{this.Cg?c.jc(""):c.wa(0);return}b[0]=c;c.Gf=a;c=m();g(q,b,c);d&&(d.get(c),c.kb()&&(k=c.data,
w=a.j));--r;a=w.length;if(k>=a||k<=-a)k%=a;0>k&&(k+=a);e.apply(w[k],b)};b.prototype.Hs=function(c){var a=this.Qd,b=this.Ga,q=this.T,d=this.Tc,e=this.Rc,k=this.pb,f=this.Dc.$d,w=a.la(),u=w.pc();if(!u.length)if(w.Z.length)u=w.Z;else{this.Cg?c.jc(""):c.wa(0);return}b[0]=c;c.Gf=a;c=m();g(q,b,c);d&&(d.get(c),c.kb()&&(f=c.data,u=a.j));--r;q=u.length;if(f>=q||f<=-q)f%=q;0>f&&(f+=q);f=u[f];u=0;a.F&&(u=f.type.bg[a.Gd]);k.apply(f.J[e+u],b)};b.prototype.Ps=function(c){var a=this.Tc,b=this.Qd,g=this.fq,d=this.Dc.$d,
e=b.la(),k=e.pc();if(!k.length)if(e.Z.length)k=e.Z;else{this.Cg?c.jc(""):c.wa(0);return}if(a){e=m();a.get(e);if(e.kb()){d=e.data;k=b.j;0!==k.length&&(d%=k.length,0>d&&(d+=k.length));d=b.ol(d);b=d.ab[g];ja(b)?c.jc(b):c.V(b);--r;return}--r}a=k.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=k[d];k=0;b.F&&(k=d.type.aj[b.Gd]);b=d.ab[g+k];ja(b)?c.jc(b):c.V(b)};b.prototype.Qs=function(c){c.type=Rb.Pf;c.data=this.value};b.prototype.Ms=function(c){c.type=Rb.Of;c.data=this.value};b.prototype.Zs=function(c){c.type=
Rb.String;c.data=this.value};b.prototype.ct=function(c){this.first.get(c);c.kb()&&(c.data=-c.data)};b.prototype.Bs=function(c){this.first.get(c);var a=m();this.second.get(a);c.kb()&&a.kb()&&(c.data+=a.data,a.hg()&&c.ug());--r};b.prototype.$s=function(c){this.first.get(c);var a=m();this.second.get(a);c.kb()&&a.kb()&&(c.data-=a.data,a.hg()&&c.ug());--r};b.prototype.Us=function(c){this.first.get(c);var a=m();this.second.get(a);c.kb()&&a.kb()&&(c.data*=a.data,a.hg()&&c.ug());--r};b.prototype.Js=function(c){this.first.get(c);
var a=m();this.second.get(a);c.kb()&&a.kb()&&(c.data/=a.data,c.ug());--r};b.prototype.Ts=function(c){this.first.get(c);var a=m();this.second.get(a);c.kb()&&a.kb()&&(c.data%=a.data,a.hg()&&c.ug());--r};b.prototype.Ys=function(c){this.first.get(c);var a=m();this.second.get(a);c.kb()&&a.kb()&&(c.data=Math.pow(c.data,a.data),a.hg()&&c.ug());--r};b.prototype.Cs=function(c){this.first.get(c);var a=m();this.second.get(a);a.jg()||c.jg()?this.Es(c,a):this.Ds(c,a);--r};b.prototype.Es=function(c,a){c.jg()&&
a.jg()?this.Gs(c,a):this.Fs(c,a)};b.prototype.Gs=function(c,a){c.data+=a.data};b.prototype.Fs=function(c,a){c.jg()?c.data+=(Math.round(1E10*a.data)/1E10).toString():c.jc(c.data.toString()+a.data)};b.prototype.Ds=function(c,a){c.wa(c.data&&a.data?1:0)};b.prototype.Xs=function(c){this.first.get(c);var a=m();this.second.get(a);c.kb()&&a.kb()&&(c.data||a.data?c.wa(1):c.wa(0));--r};b.prototype.Is=function(c){this.first.get(c);c.data?this.second.get(c):this.mk.get(c)};b.prototype.Ks=function(c){this.first.get(c);
var a=m();this.second.get(a);c.wa(c.data===a.data?1:0);--r};b.prototype.Vs=function(c){this.first.get(c);var a=m();this.second.get(a);c.wa(c.data!==a.data?1:0);--r};b.prototype.Rs=function(c){this.first.get(c);var a=m();this.second.get(a);c.wa(c.data<a.data?1:0);--r};b.prototype.Ss=function(c){this.first.get(c);var a=m();this.second.get(a);c.wa(c.data<=a.data?1:0);--r};b.prototype.Ns=function(c){this.first.get(c);var a=m();this.second.get(a);c.wa(c.data>a.data?1:0);--r};b.prototype.Os=function(c){this.first.get(c);
var a=m();this.second.get(a);c.wa(c.data>=a.data?1:0);--r};b.prototype.Ls=function(c){var a=this.jf.nf();ia(a)?c.V(a):c.jc(a)};Ob=b;t.prototype.hg=function(){return this.type===Rb.Of};t.prototype.kb=function(){return this.type===Rb.Pf||this.type===Rb.Of};t.prototype.jg=function(){return this.type===Rb.String};t.prototype.ug=function(){this.hg()||(this.jg()&&(this.data=parseFloat(this.data)),this.type=Rb.Of)};t.prototype.wa=function(c){this.type=Rb.Pf;this.data=Math.floor(c)};t.prototype.V=function(c){this.type=
Rb.Of;this.data=c};t.prototype.jc=function(c){this.type=Rb.String;this.data=c};t.prototype.$u=function(c){ia(c)?(this.type=Rb.Of,this.data=c):ja(c)?(this.type=Rb.String,this.data=c.toString()):(this.type=Rb.Pf,this.data=0)};Nb=t;Rb={Pf:0,Of:1,String:2}})();function Y(b){this.b=b;this.lc=[]}
Y.prototype.eb=function(){var b={},m,g,t,q,r,c,a,l;b.waits=[];var v=b.waits,d;m=0;for(g=this.lc.length;m<g;m++){c=this.lc[m];d={t:c.time,st:c.av,s:c.Gp,ev:c.bh.X,sm:[],sols:{}};c.bh.Mc[c.yc]&&(d.act=c.bh.Mc[c.yc].X);t=0;for(q=c.Da.length;t<q;t++)d.sm.push(c.Da[t].X);for(r in c.kc)if(c.kc.hasOwnProperty(r)){a=this.b.A[parseInt(r,10)];l={sa:c.kc[r].tp,insts:[]};t=0;for(q=c.kc[r].rf.length;t<q;t++)l.insts.push(c.kc[r].rf[t].uid);d.sols[a.X.toString()]=l}v.push(d)}return b};
Y.prototype.rb=function(b){b=b.waits;var m,g,t,q,r,c,a,l,v,d,e;V(this.lc);m=0;for(g=b.length;m<g;m++)if(c=b[m],l=this.b.sn[c.ev.toString()]){v=-1;t=0;for(q=l.Mc.length;t<q;t++)if(l.Mc[t].X===c.act){v=t;break}if(-1!==v){a={kc:{},Da:[],Dn:!1};a.time=c.t;a.av=c.st||"";a.Gp=!!c.s;a.bh=l;a.yc=v;t=0;for(q=c.sm.length;t<q;t++)(l=this.b.oj(c.sm[t]))&&a.Da.push(l);for(r in c.sols)if(c.sols.hasOwnProperty(r)&&(l=this.b.oj(parseInt(r,10)))){v=c.sols[r];d={tp:v.sa,rf:[]};t=0;for(q=v.insts.length;t<q;t++)(e=this.b.nj(v.insts[t]))&&
d.rf.push(e);a.kc[l.index.toString()]=d}this.lc.push(a)}}};
(function(){function b(){}function m(){}function g(){}var t=Y.prototype;b.prototype.br=function(){return!0};b.prototype.$q=function(){return!0};b.prototype.xr=function(){var c=this.b.lj().R;"undefined"===typeof c.TriggerOnce_lastTick&&(c.TriggerOnce_lastTick=-1);var a=c.TriggerOnce_lastTick,b=this.b.cd;c.TriggerOnce_lastTick=b;return this.b.Pl||a!==b-1};b.prototype.qq=function(c,a,b){return Sb(c.nf(),a,b)};b.prototype.Dq=function(c){return(c=this.b.kh[c.toLowerCase()])&&c.fg};b.prototype.Ym=function(){var c=
this.b.qb();return c.Xk?!1:!c.yf};b.prototype.dn=function(){return!0};b.prototype.Pq=function(){return!0};b.prototype.zk=function(){return!0};b.prototype.gn=function(){return!0};b.prototype.cr=function(){return!0};b.prototype.Ci=function(){return!0};b.prototype.lq=function(c,a,b){return Ja(W(c),W(b))<=W(a)};b.prototype.Bq=function(c,a){return La(W(c),W(a))};b.prototype.zq=function(c,a,b){c=Ha(c);a=Ha(a);b=Ha(b);return La(b,a)?La(c,a)&&!La(c,b):!(!La(c,a)&&La(c,b))};t.m=new b;m.prototype.wq=function(c){this.b.kg||
this.b.bf||(this.b.bf=c)};m.prototype.kr=function(c,a){c&&c.visible!==a&&(c.visible=a,this.b.L=!0)};m.prototype.mr=function(c,a){0===c.si?ia(a)?c.Yd(a):c.Yd(parseFloat(a)):1===c.si&&c.Yd(a.toString())};m.prototype.kq=function(c,a){0===c.si?ia(a)?c.Yd(c.nf()+a):c.Yd(c.nf()+parseFloat(a)):1===c.si&&c.Yd(c.nf()+a.toString())};m.prototype.ur=function(c,a){0===c.si&&(ia(a)?c.Yd(c.nf()-a):c.Yd(c.nf()-parseFloat(a)))};var q=[],r=[];m.prototype.xq=function(c){if(!this.b.kg&&!this.b.bf)for(var a in this.b.rg)if(this.b.rg.hasOwnProperty(a)&&
bb(a,c)){this.b.bf=this.b.rg[a];break}};t.M=new m;g.prototype["int"]=function(c,a){ja(a)?(c.wa(parseInt(a,10)),isNaN(c.data)&&(c.data=0)):c.wa(a)};g.prototype["float"]=function(c,a){ja(a)?(c.V(parseFloat(a)),isNaN(c.data)&&(c.data=0)):c.V(a)};g.prototype.random=function(c,a,b){void 0===b?c.V(Math.random()*a):c.V(Math.random()*(b-a)+a)};g.prototype.sqrt=function(c,a){c.V(Math.sqrt(a))};g.prototype.abs=function(c,a){c.V(Math.abs(a))};g.prototype.round=function(c,a){c.wa(Math.round(a))};g.prototype.floor=
function(c,a){c.wa(Math.floor(a))};g.prototype.ceil=function(c,a){c.wa(Math.ceil(a))};g.prototype.sin=function(c,a){c.V(Math.sin(W(a)))};g.prototype.cos=function(c,a){c.V(Math.cos(W(a)))};g.prototype.tan=function(c,a){c.V(Math.tan(W(a)))};g.prototype.asin=function(c,a){c.V(Da(Math.asin(a)))};g.prototype.acos=function(c,a){c.V(Da(Math.acos(a)))};g.prototype.atan=function(c,a){c.V(Da(Math.atan(a)))};g.prototype.exp=function(c,a){c.V(Math.exp(a))};g.prototype.log10=function(c,a){c.V(Math.log(a)/Math.LN10)};
g.prototype.max=function(c){var a=arguments[1];"number"!==typeof a&&(a=0);var b,g,d;b=2;for(g=arguments.length;b<g;b++)d=arguments[b],"number"===typeof d&&a<d&&(a=d);c.V(a)};g.prototype.min=function(c){var a=arguments[1];"number"!==typeof a&&(a=0);var b,g,d;b=2;for(g=arguments.length;b<g;b++)d=arguments[b],"number"===typeof d&&a>d&&(a=d);c.V(a)};g.prototype.$f=function(c){c.V(this.b.$f)};g.prototype.Ig=function(c){c.V(this.b.Ig)};g.prototype.time=function(c){c.V(this.b.tc.U)};g.prototype.cd=function(c){c.wa(this.b.cd)};
g.prototype.Nj=function(c){c.wa(this.b.Nj)};g.prototype.el=function(c){c.wa(this.b.el)};g.prototype.q=function(c,a,b,g,d){c.V(Da(Ia(a,b,g,d)))};g.prototype.left=function(c,a,b){c.jc(ja(a)?a.substr(0,b):"")};g.prototype.right=function(c,a,b){c.jc(ja(a)?a.substr(a.length-b):"")};g.prototype.replace=function(c,a,b,g){ja(a)&&ja(b)&&ja(g)?c.jc(a.replace(new RegExp(Va(b),"gi"),g)):c.jc(ja(a)?a:"")};g.prototype.trim=function(c,a){c.jc(ja(a)?a.trim():"")};g.prototype.Kr=function(c){var a=A(Math.random()*
(arguments.length-1));c.$u(arguments[a+1])};g.prototype.Rk=function(c){c.V(this.b.Rk/1E3)};g.prototype.Dj=function(c){c.V(this.b.Dj)};t.ob=new g;t.Ru=function(){var c,a,b,g,d,e,k=this.b.qb();c=0;for(b=this.lc.length;c<b;c++){g=this.lc[c];if(-1===g.time){if(!g.Gp)continue}else if(g.time>this.b.tc.U)continue;k.nc=g.bh;k.yc=g.yc;k.Za=0;for(a in g.kc)g.kc.hasOwnProperty(a)&&(d=this.b.A[parseInt(a,10)].la(),e=g.kc[a],d.za=e.tp,ya(d.j,e.rf),d=e,V(d.rf),r.push(d));g.bh.Pu();this.b.Pk(g.Da);g.Dn=!0}a=c=0;
for(b=this.lc.length;c<b;c++)g=this.lc[c],this.lc[a]=g,g.Dn?(Pa(g.kc),V(g.Da),q.push(g)):a++;xa(this.lc,a)}})();
(function(){eb=function(b,g){var t=b[1],q=b[3],r=b[4],c=b[5],a=b[6],l=b[7],v=b[8];g.m||(g.m={});g.M||(g.M={});g.ob||(g.ob={});var d=g.m,e=g.M,k=g.ob;q&&(d.rq=function(a,c){return Sb(this.x,a,c)},d.Cv=function(a,c){return Sb(this.y,a,c)},d.Iq=function(){var a=this.k;this.ma();var c=this.ra;return!(c.right<a.ba||c.bottom<a.ca||c.left>a.ka||c.top>a.ja)},d.Hv=function(){this.ma();var a=this.ra,c=this.b.pa;return 0>a.right||0>a.bottom||a.left>c.width||a.top>c.height},d.Tv=function(a,c,d){var b=this.la(),
e=b.pc();if(!e.length)return!1;var k=e[0],g=k,l=Ma(k.x,k.y,c,d),q,m,r;q=1;for(m=e.length;q<m;q++)if(k=e[q],r=Ma(k.x,k.y,c,d),0===a&&r<l||1===a&&r>l)l=r,g=k;b.Th(g);return!0},e.kw=function(a){this.x!==a&&(this.x=a,this.C())},e.lw=function(a){this.y!==a&&(this.y=a,this.C())},e.gw=function(a,c){if(this.x!==a||this.y!==c)this.x=a,this.y=c,this.C()},e.hw=function(a,c){var d=a.At(this);if(d){var b;d.nl?(b=d.nl(c,!0),d=d.nl(c,!1)):(b=d.x,d=d.y);if(this.x!==b||this.y!==d)this.x=b,this.y=d,this.C()}},e.Mv=
function(a){0!==a&&(this.x+=Math.cos(this.q)*a,this.y+=Math.sin(this.q)*a,this.C())},e.Lv=function(a,c){0!==c&&(this.x+=Math.cos(W(a))*c,this.y+=Math.sin(W(a))*c,this.C())},k.yr=function(a){a.V(this.x)},k.rw=function(a){a.V(this.y)},k.$f=function(a){a.V(this.b.lf(this))});r&&(d.Bv=function(a,c){return Sb(this.width,a,c)},d.zv=function(a,c){return Sb(this.height,a,c)},e.pr=function(a){this.width!==a&&(this.width=a,this.C())},e.ew=function(a){this.height!==a&&(this.height=a,this.C())},e.iw=function(a,
c){if(this.width!==a||this.height!==c)this.width=a,this.height=c,this.C()},k.qw=function(a){a.V(this.width)},k.Ev=function(a){a.V(this.height)},k.vv=function(a){this.ma();a.V(this.ra.left)},k.xv=function(a){this.ma();a.V(this.ra.top)},k.wv=function(a){this.ma();a.V(this.ra.right)},k.uv=function(a){this.ma();a.V(this.ra.bottom)});c&&(d.lq=function(a,c){return Ja(this.q,W(c))<=W(a)},d.Bq=function(a){return La(this.q,W(a))},d.zq=function(a,c){var d=Ha(a),b=Ha(c),e=Fa(this.q);return La(b,d)?La(e,d)&&
!La(e,b):!(!La(e,d)&&La(e,b))},e.aw=function(a){a=W(Ea(a));isNaN(a)||this.q===a||(this.q=a,this.C())},e.Xv=function(a){0===a||isNaN(a)||(this.q+=W(a),this.q=Fa(this.q),this.C())},e.Yv=function(a){0===a||isNaN(a)||(this.q-=W(a),this.q=Fa(this.q),this.C())},e.Zv=function(a,c){var d=Ka(this.q,W(c),W(a));isNaN(d)||this.q===d||(this.q=d,this.C())},e.$v=function(a,c,d){a=Ka(this.q,Math.atan2(d-this.y,c-this.x),W(a));isNaN(a)||this.q===a||(this.q=a,this.C())},e.jw=function(a,c){var d=Math.atan2(c-this.y,
a-this.x);isNaN(d)||this.q===d||(this.q=d,this.C())},k.tv=function(a){a.V(Ga(this.q))});t||(d.pq=function(a,c,d){return Sb(this.ab[a],c,d)},d.Aq=function(a){return this.ab[a]},d.Uv=function(a,c){var d=this.la(),b=d.pc();if(!b.length)return!1;var e=b[0],k=e,g=e.ab[c],l,q,m;l=1;for(q=b.length;l<q;l++)if(e=b[l],m=e.ab[c],0===a&&m<g||1===a&&m>g)g=m,k=e;d.Th(k);return!0},d.Sv=function(a){var c,d,b,e,k;if(this.b.lj().qj){k=this.la();if(k.za)for(k.za=!1,V(k.j),V(k.Z),b=this.j,c=0,d=b.length;c<d;c++)e=b[c],
e.uid===a?k.Z.push(e):k.j.push(e);else{b=c=0;for(d=k.j.length;c<d;c++)e=k.j[c],k.j[b]=e,e.uid===a?k.Z.push(e):b++;xa(k.j,b)}this.jd();return!!k.j.length}e=this.b.nj(a);if(!e)return!1;k=this.la();if(!k.za&&-1===k.j.indexOf(e))return!1;if(this.F)for(a=e.type.Aa,c=0,d=a.length;c<d;c++){if(a[c]===this)return k.Th(e),this.jd(),!0}else if(e.type===this)return k.Th(e),this.jd(),!0;return!1},d.an=function(){return!0},d.Rq=function(){return!0},e.jr=function(a,c){var d=this.ab;ia(d[a])?d[a]=ia(c)?c:parseFloat(c):
ja(d[a])&&(d[a]=ja(c)?c:c.toString())},e.sv=function(a,c){var d=this.ab;ia(d[a])?d[a]=ia(c)?d[a]+c:d[a]+parseFloat(c):ja(d[a])&&(d[a]=ja(c)?d[a]+c:d[a]+c.toString())},e.mw=function(a,c){var d=this.ab;ia(d[a])&&(d[a]=ia(c)?d[a]-c:d[a]-parseFloat(c))},e.ir=function(a,c){this.ab[a]=c?1:0},e.ow=function(a){this.ab[a]=1-this.ab[a]},e.tq=function(){this.b.je(this)},e.Lq||(e.Lq=function(a){var c,d;try{c=JSON.parse(a)}catch(b){return}this.b.Bj(this,c,!0);this.zd&&this.zd();if(this.J)for(a=0,c=this.J.length;a<
c;++a)d=this.J[a],d.zd&&d.zd()}),k.Dv=function(a){var c=a.Gf.j.length,d,b,e;d=0;for(b=this.b.Sc.length;d<b;d++)e=this.b.Sc[d],a.Gf.F?0<=e.type.Aa.indexOf(a.Gf)&&c++:e.type===a.Gf&&c++;a.wa(c)},k.Wv=function(a){a.wa(a.Gf.la().pc().length)},k.pw=function(a){a.wa(this.uid)},k.Fv=function(a){a.wa(this.ih())},k.mq||(k.mq=function(a){a.jc(JSON.stringify(this.b.wm(this,!0)))}));a&&(d.Iv=function(){return this.visible},e.hn=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.L=!0)},d.Av=function(a,c){return Sb(ab(100*
this.opacity),a,c)},e.fw=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.L=!0)},k.Opacity=function(a){a.V(ab(100*this.opacity))});l&&(d.Gv=function(a){return a?this.k===a:!1},d.Vv=function(a){var c=this.la(),d=c.pc();if(!d.length)return!1;var b=d[0],e=b,k,g;k=1;for(g=d.length;k<g;k++)if(b=d[k],0===a){if(b.k.index>e.k.index||b.k.index===e.k.index&&b.od()>e.od())e=b}else if(b.k.index<e.k.index||b.k.index===e.k.index&&b.od()<e.od())e=b;c.Th(e);return!0},e.Pv=function(){var a=
this.k,c=a.j;c.length&&c[c.length-1]===this||(a.Bg(this,!1),a.Rg(this,!1),this.b.L=!0)},e.Nv=function(){var a=this.k,c=a.j;c.length&&c[0]===this||(a.Bg(this,!1),a.Eu(this),this.b.L=!0)},e.Ov=function(a){a&&a!=this.k&&(this.k.Bg(this,!0),this.k=a,a.Rg(this,!0),this.b.L=!0)},e.uw=function(a,c){var d=0===a;if(c){var b=c.ot(this);b&&b.uid!==this.uid&&(this.k.index!==b.k.index&&(this.k.Bg(this,!0),this.k=b.k,b.k.Rg(this,!0)),this.k.ru(this,b,d),this.b.L=!0)}},k.Kv=function(a){a.wa(this.k.Yo)},k.Jv=function(a){a.jc(this.k.name)},
k.sw=function(a){a.wa(this.od())});v&&(e.bw=function(a,c){if(this.b.n){var d=this.type.ml(c);if(!(0>d)){var b=1===a;this.le[d]!==b&&(this.le[d]=b,this.fd(),this.b.L=!0)}}},e.dw=function(a,c,d){if(this.b.n){var b=this.type.ml(a);0>b||(a=this.type.O[b],b=this.Fa[b],c=Math.floor(c),0>c||c>=b.length||(1===this.b.n.Dt(a.Wa,c)&&(d/=100),b[c]!==d&&(b[c]=d,a.xb&&(this.b.L=!0))))}})};xb=function(){this.Nk=this.Hk=!0;this.type.Di=!0;this.b.L=!0;var b,g,t=this.Ik;b=0;for(g=t.length;b<g;++b)t[b](this);this.k.xc&&
this.ma()};yb=function(b){b&&this.Ik.push(b)};Ab=function(){if(this.Hk){var b=this.ra,g=this.zb;b.set(this.x,this.y,this.x+this.width,this.y+this.height);b.offset(-this.Hb*this.width,-this.Ib*this.height);this.q?(b.offset(-this.x,-this.y),g.Dp(b,this.q),g.offset(this.x,this.y),g.tn(b)):g.ci(b);b.normalize();this.Hk=!1;this.kv()}};var b=new T(0,0,0,0);Bb=function(){if(this.k.xc){var m=this.k.ub,g=this.ra;b.set(m.Qb(g.left),m.Rb(g.top),m.Qb(g.right),m.Rb(g.bottom));this.Xb.ah(b)||(this.Xb.right<this.Xb.left?
m.update(this,null,b):m.update(this,this.Xb,b),this.Xb.Vf(b),this.k.ad=!0)}};Cb=function(){if(this.Nk&&this.Bd){this.ma();var m=this.type.Qi,g=this.ra;b.set(m.Qb(g.left),m.Rb(g.top),m.Qb(g.right),m.Rb(g.bottom));this.we.ah(b)||(this.we.right<this.we.left?m.update(this,null,b):m.update(this,this.we,b),this.we.Vf(b),this.Nk=!1)}};zb=function(b,g){return this.ra.Sb(b,g)&&this.zb.Sb(b,g)?this.Hg?this.gv(b,g):this.fa&&!this.fa.gg()?(this.fa.$e(this.width,this.height,this.q),this.fa.Sb(b-this.x,g-this.y)):
!0:!1};tb=function(){this.type.sk();return this.pf};Db=function(){this.k.Um();return this.gd};Eb=function(){V(this.da);var b,g,t,q=!0;b=0;for(g=this.le.length;b<g;b++)this.le[b]&&(t=this.type.O[b],this.da.push(t),t.Yc||(q=!1));this.dq=!!this.da.length;this.Zd=q};ub=function(){return"Inst"+this.op};hb=function(b){if(b&&b.sc&&b.type!=this){var g,t,q;g=0;for(t=b.siblings.length;g<t;g++)if(q=b.siblings[g],q.type==this)return q}b=this.la().pc();return b.length?b[0]:null};ib=function(b){var g=this.la().pc();
return g.length?g[b.ih()%g.length]:null};gb=function(){if(this.Gg&&!this.F){var b,g;b=0;for(g=this.j.length;b<g;b++)this.j[b].pf=b;var t=b,q=this.b.Sc;b=0;for(g=q.length;b<g;++b)q[b].type===this&&(q[b].pf=t++);this.Gg=!1}};rb=function(b){if(b<this.j.length)return this.j[b];b-=this.j.length;var g=this.b.Sc,t,q;t=0;for(q=g.length;t<q;++t)if(g[t].type===this){if(0===b)return g[t];--b}return null};jb=function(){return this.ae[this.ld]};kb=function(){this.ld++;this.ld===this.ae.length?this.ae.push(new fb(this)):
(this.ae[this.ld].za=!0,V(this.ae[this.ld].Z))};lb=function(){this.ld++;this.ld===this.ae.length&&this.ae.push(new fb(this));var b=this.ae[this.ld],g=this.ae[this.ld-1];g.za?b.za=!0:(b.za=!1,ya(b.j,g.j));V(b.Z)};mb=function(){this.ld--};nb=function(b){var g,t,q,r,c,a=0;if(!this.F)for(g=0,t=this.Aa.length;g<t;g++)for(c=this.Aa[g],q=0,r=c.Ea.length;q<r;q++){if(b===c.Ea[q].name)return this.R.lastBehIndex=a,c.Ea[q];a++}g=0;for(t=this.Ea.length;g<t;g++){if(b===this.Ea[g].name)return this.R.lastBehIndex=
a,this.Ea[g];a++}return null};ob=function(b){return this.kj(b)?this.R.lastBehIndex:-1};pb=function(b){var g,t;g=0;for(t=this.O.length;g<t;g++)if(this.O[g].name===b)return g;return-1};qb=function(){if(this.sc&&!this.F){var b,g,t,q,r,c,a;this.sk();c=this.la();var l=c.za,v=(b=this.b.qb())&&b.nc&&b.nc.Cc;b=0;for(g=this.$b.length;b<g;b++)if(r=this.$b[b],r!==this&&(r.sk(),a=r.la(),a.za=l,!l)){V(a.j);t=0;for(q=c.j.length;t<q;++t)a.j[t]=r.ol(c.j[t].pf);if(v)for(V(a.Z),t=0,q=c.Z.length;t<q;++t)a.Z[t]=r.ol(c.Z[t].pf)}}};
sb=function(){return"Type"+this.X};Sb=function(b,g,t){if("undefined"===typeof b||"undefined"===typeof t)return!1;switch(g){case 0:return b===t;case 1:return b!==t;case 2:return b<t;case 3:return b<=t;case 4:return b>t;case 5:return b>=t;default:return!1}}})();var ac={};function ec(b){this.b=b}
(function(){function b(){}var m=ec.prototype;m.ea=function(b){this.Ca=b;this.b=b.b};m.ea.prototype.K=function(){};m.Y=function(b){this.type=b;this.b=b.b;this.ng=Array(256);this.pi=Array(256);this.ee=0};var g=m.Y.prototype;g.K=function(){var b=this;this.b.Tb||(jQuery(document).keydown(function(g){b.em(g)}),jQuery(document).keyup(function(g){b.fm(g)}))};var t=[32,33,34,35,36,37,38,39,40,44];g.em=function(b){var g=!1;window!=window.top&&-1<t.indexOf(b.which)&&(b.preventDefault(),g=!0,b.stopPropagation());
if(this.ng[b.which])this.pi[b.which]&&!g&&b.preventDefault();else{this.ng[b.which]=!0;this.ee=b.which;this.b.sj=!0;this.b.trigger(ec.prototype.m.Oq,this);var c=this.b.trigger(ec.prototype.m.Xq,this),a=this.b.trigger(ec.prototype.m.Yq,this);this.b.sj=!1;if(c||a)this.pi[b.which]=!0,g||b.preventDefault()}};g.fm=function(b){this.ng[b.which]=!1;this.ee=b.which;this.b.sj=!0;this.b.trigger(ec.prototype.m.$m,this);var g=this.b.trigger(ec.prototype.m.cn,this),c=this.b.trigger(ec.prototype.m.bn,this);this.b.sj=
!1;if(g||c||this.pi[b.which])this.pi[b.which]=!0,b.preventDefault()};g.Hf=function(){var b;for(b=0;256>b;++b)if(this.ng[b]){this.ng[b]=!1;this.ee=b;this.b.trigger(ec.prototype.m.$m,this);var g=this.b.trigger(ec.prototype.m.cn,this),c=this.b.trigger(ec.prototype.m.bn,this);if(g||c)this.pi[b]=!0}};g.eb=function(){return{triggerKey:this.ee}};g.rb=function(b){this.ee=b.triggerKey};b.prototype.Fq=function(b){return this.ng[b]};b.prototype.Xq=function(b){return b===this.ee};b.prototype.Oq=function(){return!0};
b.prototype.$m=function(){return!0};b.prototype.cn=function(b){return b===this.ee};b.prototype.Yq=function(b){return b===this.ee};b.prototype.bn=function(b){return b===this.ee};m.m=new b;m.M=new function(){};m.ob=new function(){}})();function Z(b){this.b=b}
(function(){function b(){if(0===this.Vk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var c=a.getContext("2d");this.Fg?c.drawImage(this.D,this.xg,this.yg,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.D,0,0,this.width,this.height);this.Vk=a.toDataURL("image/png")}return this.Vk}function m(){}function g(a){a[0]=0;a[1]=0;a[2]=0;k.push(a)}function t(a,c){return a<c?""+a+","+c:""+c+","+a}function q(a,c,b,d){c=c.uid;b=b.uid;var e=t(c,b);if(a.hasOwnProperty(e))a[e][2]=
d;else{var f=k.length?k.pop():[0,0,0];f[0]=c;f[1]=b;f[2]=d;a[e]=f}}function r(a,c,b){c=t(c.uid,b.uid);a.hasOwnProperty(c)&&(g(a[c]),delete a[c])}function c(a,c,b){c=t(c.uid,b.uid);if(a.hasOwnProperty(c))return f=a[c][2],!0;f=-2;return!1}function a(){}var l=Z.prototype;l.ea=function(a){this.Ca=a;this.b=a.b};var v=l.ea.prototype;v.K=function(){if(!this.F){var a,c,d,e,f,h,k,g,l;this.Nc=[];this.mh=!1;a=0;for(c=this.Zb.length;a<c;a++){f=this.Zb[a];k={};k.name=f[0];k.speed=f[1];k.loop=f[2];k.rm=f[3];k.tm=
f[4];k.hp=f[5];k.X=f[6];k.frames=[];d=0;for(e=f[7].length;d<e;d++)h=f[7][d],g={},g.mi=h[0],g.lk=h[1],g.xg=h[2],g.yg=h[3],g.width=h[4],g.height=h[5],g.duration=h[6],g.Hb=h[7],g.Ib=h[8],g.xl=h[9],g.Qj=h[10],g.ip=h[11],g.Fg=0!==g.width,g.Vk="",g.xw=b,l={left:0,top:0,right:1,bottom:1},g.Dm=l,g.P=null,(l=this.b.it(h[0]))?g.D=l:(g.D=new Image,g.D.Mr=h[0],g.D.Sk=h[1],g.D.Ir=null,this.b.vk(g.D,h[0])),k.frames.push(g),this.Nc.push(g);this.Zb[a]=k}}};v.aq=function(){var a,c,b;a=0;for(c=this.j.length;a<c;a++)b=
this.j[a],b.Ti=b.mb.P};v.zg=function(){if(!this.F){var a,c,b;a=0;for(c=this.Nc.length;a<c;++a)b=this.Nc[a],b.D.Ir=null,b.P=null;this.mh=!1;this.aq()}};v.Rh=function(){if(!this.F&&this.j.length){var a,c,b;a=0;for(c=this.Nc.length;a<c;++a)b=this.Nc[a],b.P=this.b.n.sg(b.D,!1,this.b.qa,b.ip);this.aq()}};v.Cj=function(){if(!this.F&&!this.mh&&this.b.n){var a,c,b;a=0;for(c=this.Nc.length;a<c;++a)b=this.Nc[a],b.P=this.b.n.sg(b.D,!1,this.b.qa,b.ip);this.mh=!0}};v.oi=function(){if(!this.F&&!this.j.length&&
this.mh){var a,c,b;a=0;for(c=this.Nc.length;a<c;++a)b=this.Nc[a],this.b.n.deleteTexture(b.P),b.P=null;this.mh=!1}};var d=[];v.Uh=function(a){var c,b,e;V(d);c=0;for(b=this.Nc.length;c<b;++c)e=this.Nc[c].D,-1===d.indexOf(e)&&(a.drawImage(e,0,0),d.push(e))};l.Y=function(a){this.type=a;this.b=a.b;a=this.type.Zb[0].frames[0].Qj;this.Kb?this.fa.di(a):this.fa=new Wa(a)};var e=l.Y.prototype;e.K=function(){this.visible=0===this.u[0];this.yl=this.Il=!1;this.Bd=0!==this.u[3];this.ua=this.Pn(this.u[1])||this.type.Zb[0];
this.G=this.u[2];0>this.G&&(this.G=0);this.G>=this.ua.frames.length&&(this.G=this.ua.frames.length-1);var a=this.ua.frames[this.G];this.fa.di(a.Qj);this.Hb=a.Hb;this.Ib=a.Ib;this.Wf=this.ua.speed;this.xe=this.ua.tm;1===this.type.Zb.length&&1===this.type.Zb[0].frames.length||0===this.Wf||(this.b.Gm(this),this.Il=!0);this.Kb?this.hd.reset():this.hd=new Ua;this.Hd=this.hd.U;this.We=!0;this.Ad=0;this.Ve=!0;this.Tf=this.mn="";this.yn=0;this.Ok=-1;this.type.Cj();var c,b,d,e,f,h,k,a=0;for(c=this.type.Zb.length;a<
c;a++)for(e=this.type.Zb[a],b=0,d=e.frames.length;b<d;b++)f=e.frames[b],0===f.width&&(f.width=f.D.width,f.height=f.D.height),f.Fg&&(k=f.D,h=f.Dm,h.left=f.xg/k.width,h.top=f.yg/k.height,h.right=(f.xg+f.width)/k.width,h.bottom=(f.yg+f.height)/k.height,0===f.xg&&0===f.yg&&f.width===k.width&&f.height===k.height&&(f.Fg=!1));this.mb=this.ua.frames[this.G];this.Ti=this.mb.P};e.eb=function(){var a={a:this.ua.X,f:this.G,cas:this.Wf,fs:this.Hd,ar:this.Ad,at:this.hd.U,rt:this.xe};this.We||(a.ap=this.We);this.Ve||
(a.af=this.Ve);return a};e.rb=function(a){var c=this.lt(a.a);c&&(this.ua=c);this.G=a.f;0>this.G&&(this.G=0);this.G>=this.ua.frames.length&&(this.G=this.ua.frames.length-1);this.Wf=a.cas;this.Hd=a.fs;this.Ad=a.ar;this.hd.reset();this.hd.U=a.at;this.We=a.hasOwnProperty("ap")?a.ap:!0;this.Ve=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.xe=a.rt:this.xe=this.ua.tm;this.mb=this.ua.frames[this.G];this.Ti=this.mb.P;this.fa.di(this.mb.Qj);this.Hb=this.mb.Hb;this.Ib=this.mb.Ib};e.Gk=function(a){this.G=
a?0:this.ua.frames.length-1;this.We=!1;this.mn=this.ua.name;this.yl=!0;this.b.trigger(Z.prototype.m.Nq,this);this.b.trigger(Z.prototype.m.Mq,this);this.yl=!1;this.Ad=0};e.Ug=function(){return this.hd.U};e.Ob=function(){this.hd.add(this.b.lf(this));this.Tf.length&&this.En();0<=this.Ok&&this.Ur();var a=this.hd.U,c=this.ua,b=c.frames[this.G],d=b.duration/this.Wf;this.We&&a>=this.Hd+d&&(this.Ve?this.G++:this.G--,this.Hd+=d,this.G>=c.frames.length&&(c.hp?(this.Ve=!1,this.G=c.frames.length-2):c.loop?this.G=
this.xe:(this.Ad++,this.Ad>=c.rm?this.Gk(!1):this.G=this.xe)),0>this.G&&(c.hp?(this.G=1,this.Ve=!0,c.loop||(this.Ad++,this.Ad>=c.rm&&this.Gk(!0))):c.loop?this.G=this.xe:(this.Ad++,this.Ad>=c.rm?this.Gk(!0):this.G=this.xe)),0>this.G?this.G=0:this.G>=c.frames.length&&(this.G=c.frames.length-1),a>this.Hd+c.frames[this.G].duration/this.Wf&&(this.Hd=a),a=c.frames[this.G],this.Qf(b,a),this.b.L=!0)};e.Pn=function(a){var c,b,d;c=0;for(b=this.type.Zb.length;c<b;c++)if(d=this.type.Zb[c],bb(d.name,a))return d;
return null};e.lt=function(a){var c,b,d;c=0;for(b=this.type.Zb.length;c<b;c++)if(d=this.type.Zb[c],d.X===a)return d;return null};e.En=function(){var a=this.ua.frames[this.G],c=this.Pn(this.Tf);this.Tf="";!c||bb(c.name,this.ua.name)&&this.We||(this.ua=c,this.Wf=c.speed,this.xe=c.tm,0>this.G&&(this.G=0),this.G>=this.ua.frames.length&&(this.G=this.ua.frames.length-1),1===this.yn&&(this.G=0),this.We=!0,this.Hd=this.hd.U,this.Ve=!0,this.Qf(a,this.ua.frames[this.G]),this.b.L=!0)};e.Ur=function(){var a=
this.ua.frames[this.G],c=this.G;this.G=A(this.Ok);0>this.G&&(this.G=0);this.G>=this.ua.frames.length&&(this.G=this.ua.frames.length-1);c!==this.G&&(this.Qf(a,this.ua.frames[this.G]),this.Hd=this.hd.U,this.b.L=!0);this.Ok=-1};e.Qf=function(a,c){var b=a.width,d=a.height,e=c.width,f=c.height;b!=e&&(this.width*=e/b);d!=f&&(this.height*=f/d);this.Hb=c.Hb;this.Ib=c.Ib;this.fa.di(c.Qj);this.C();this.mb=c;this.Ti=c.P;b=0;for(d=this.J.length;b<d;b++)e=this.J[b],e.dp&&e.dp(a,c);this.b.trigger(Z.prototype.m.Qf,
this)};e.zc=function(a){a.globalAlpha=this.opacity;var c=this.mb,b=c.Fg,d=c.D,e=this.x,f=this.y,h=this.width,k=this.height;if(0===this.q&&0<=h&&0<=k)e-=this.Hb*h,f-=this.Ib*k,this.b.Vb&&(e=Math.round(e),f=Math.round(f)),b?a.drawImage(d,c.xg,c.yg,c.width,c.height,e,f,h,k):a.drawImage(d,e,f,h,k);else{this.b.Vb&&(e=Math.round(e),f=Math.round(f));a.save();var g=0<h?1:-1,l=0<k?1:-1;a.translate(e,f);1===g&&1===l||a.scale(g,l);a.rotate(this.q*g*l);e=0-this.Hb*na(h);f=0-this.Ib*na(k);b?a.drawImage(d,c.xg,
c.yg,c.width,c.height,e,f,na(h),na(k)):a.drawImage(d,e,f,na(h),na(k));a.restore()}};e.ye=function(a){this.Bb(a)};e.Bb=function(a){a.Lb(this.Ti);a.Xd(this.opacity);var c=this.mb,b=this.zb;if(this.b.Vb){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;c.Fg?a.Ec(b.xa+d,b.ya+e,b.Na+d,b.Oa+e,b.Ka+d,b.La+e,b.Ia+d,b.Ja+e,c.Dm):a.Yh(b.xa+d,b.ya+e,b.Na+d,b.Oa+e,b.Ka+d,b.La+e,b.Ia+d,b.Ja+e)}else c.Fg?a.Ec(b.xa,b.ya,b.Na,b.Oa,b.Ka,b.La,b.Ia,b.Ja,c.Dm):a.Yh(b.xa,b.ya,b.Na,b.Oa,b.Ka,b.La,b.Ia,b.Ja)};
e.qt=function(a){var c=this.mb,b,d;b=0;for(d=c.xl.length;b<d;b++)if(bb(a,c.xl[b][0]))return b;return-1};e.nl=function(a,c){var b=this.mb,d=b.xl,e;ja(a)?e=this.qt(a):e=a-1;e=A(e);if(0>e||e>=d.length)return c?this.x:this.y;var f=(d[e][1]-b.Hb)*this.width,d=d[e][2],d=(d-b.Ib)*this.height,b=Math.cos(this.q);e=Math.sin(this.q);var h=f*b-d*e,d=d*b+f*e,f=h+this.x,d=d+this.y;return c?f:d};var k=[],f=-2,w=[];m.prototype.Qq=function(a){if(!a)return!1;var b=this.b,d=b.lj(),e=d.type,h=null;d.R.collmemory?h=d.R.collmemory:
(h={},d.R.collmemory=h);d.R.spriteCreatedDestroyCallback||(d.R.spriteCreatedDestroyCallback=!0,b.kn(function(a){var c=d.R.collmemory;a=a.uid;var b,e;for(b in c)c.hasOwnProperty(b)&&(e=c[b],e[0]===a||e[1]===a)&&(g(c[b]),delete c[b])}));var k=e.la(),l=a.la(),k=k.pc(),p,n,m,t,v,u,P,D=this.b.cd,y=D-1,z=b.qb().nc;for(n=0;n<k.length;n++){m=k[n];l.za?(m.ma(),this.b.kl(m.k,a,m.ra,w),p=w,this.b.Br(m,a,p)):p=l.pc();for(t=0;t<p.length;t++)v=p[t],b.Mb(m,v)||b.Jr(m,v)?(u=c(h,m,v),u=!u||f<y,q(h,m,v,D),u&&(b.Tj(z.Da),
u=e.la(),P=a.la(),u.za=!1,P.za=!1,e===a?(u.j.length=2,u.j[0]=m,u.j[1]=v,e.jd()):(u.j.length=1,P.j.length=1,u.j[0]=m,P.j[0]=v,e.jd(),a.jd()),z.Qu(),b.If(z.Da))):r(h,m,v);V(w)}return!1};var u=null,p=new ba,h=!1,n=[],P=new T(0,0,0,0);v.finish=function(a){if(h){if(a){var c=this.b.qb().nc.Cc;a=u.la();var b=p.ge(),d,e;if(a.za){a.za=!1;V(a.j);d=0;for(e=b.length;d<e;++d)a.j[d]=b[d];if(c)for(V(a.Z),d=0,e=u.j.length;d<e;++d)b=u.j[d],p.contains(b)||a.Z.push(b)}else if(c)for(c=a.j.length,d=0,e=b.length;d<e;++d)a.j[c+
d]=b[d],Ba(a.Z,b[d]);else ya(a.j,b);u.jd()}p.clear();h=!1}};m.prototype.Jq=function(a){if(a){var c=!1,b,d,e,f=this.b.lj(),k=f.type,f=f.qj;b=a.la();d=this.b.qb().nc.Cc;var g;b.za?(this.ma(),P.Vf(this.ra),P.offset(0,0),this.b.kl(this.k,a,P,n),g=n):g=d?this.b.fu()&&!b.Z.length&&b.j.length?b.j:b.Z:b.j;u=a;h=k!==a&&!f;b=0;for(d=g.length;b<d;b++)if(e=g[b],this.b.Mb(this,e)){c=!0;if(f)break;k!==a&&p.add(e)}V(n);a=c}else a=!1;return a};m.prototype.yq=function(a){return this.Tf.length?bb(this.Tf,a):bb(this.ua.name,
a)};m.prototype.Mq=function(a){return bb(this.mn,a)};m.prototype.Nq=function(){return!0};m.prototype.Qf=function(){return!0};l.m=new m;a.prototype.hr=function(a,c){this.Tf=a;this.yn=c;this.Il||(this.b.Gm(this),this.Il=!0);this.yl||this.En()};a.prototype.lr=function(a){a=na(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.C())};l.M=new a;l.ob=new function(){}})();function fc(b){this.b=b}
(function(){function b(a,c){return a.length?a.pop():new c}function m(a,b,d){if(d){var e;d=0;for(e=b.length;d<e;d++)a.length<c&&a.push(b[d]);V(b)}else for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a.length<c&&a.push(b[e]),delete b[e])}function g(c,d,e){var g=c.Jb;e=e.replace(/\s\s*$/,"");d>=g.length&&g.push(b(a,Object));d=g[d];d.text=e;d.width=c.cm(e);c.be=oa(c.be,d.width)}function t(){}var q=fc.prototype;q.K=function(){};q.ea=function(a){this.Ca=a;this.b=a.b};var r=q.ea.prototype;r.K=function(){this.F||
(this.D=new Image,this.b.vk(this.D,this.mi),this.P=null)};r.zg=function(){this.F||(this.P=null)};r.Rh=function(){if(!this.F&&this.j.length){this.P||(this.P=this.b.n.sg(this.D,!1,this.b.qa,this.ni));var a,c;a=0;for(c=this.j.length;a<c;a++)this.j[a].P=this.P}};r.oi=function(){this.F||this.j.length||!this.P||(this.b.n.deleteTexture(this.P),this.P=null)};r.Uh=function(a){a.drawImage(this.D,0,0)};q.Y=function(a){this.type=a;this.b=a.b};r=q.Y.prototype;r.Sd=function(){m(a,this.Jb,!0);m(l,this.Oi,!1);m(v,
this.Pi,!1);Pa(this.ue)};r.K=function(){this.D=this.type.D;this.Ni=this.u[0];this.re=this.u[1];this.characterSet=this.u[2];this.text=this.u[3];this.te=this.u[4];this.visible=0===this.u[5];this.Jd=this.u[6]/2;this.fe=this.u[7]/2;this.Ai=0===this.u[9];this.Uf=this.u[10];this.lineHeight=this.u[11];this.wd=this.be=0;this.Kb?(V(this.Jb),Pa(this.Oi),Pa(this.Pi),Pa(this.ue)):(this.Jb=[],this.Oi={},this.Pi={},this.ue={});this.vc=!0;this.Bf=this.width;this.b.n&&(this.type.P||(this.type.P=this.b.n.sg(this.type.D,
!1,this.b.qa,this.type.ni)),this.P=this.type.P);this.rr()};r.eb=function(){var a={t:this.text,csc:this.te,csp:this.Uf,lh:this.lineHeight,tw:this.be,th:this.wd,lrt:this.Af,ha:this.Jd,va:this.fe,cw:{}},c;for(c in this.ue)a.cw[c]=this.ue[c];return a};r.rb=function(a){this.text=a.t;this.te=a.csc;this.Uf=a.csp;this.lineHeight=a.lh;this.be=a.tw;this.wd=a.th;this.Af=a.lrt;a.hasOwnProperty("ha")&&(this.Jd=a.ha);a.hasOwnProperty("va")&&(this.fe=a.va);for(var c in a.cw)this.ue[c]=a.cw[c];this.vc=!0;this.Bf=
this.width};var c=1E3,a=[],l=[],v=[];r.rr=function(){for(var a=this.D,c=a.width,d=a.height,a=this.Ni,e=this.re,g=a/c,h=e/d,n=this.characterSet,c=Math.floor(c/a),d=Math.floor(d/e),q=0;q<n.length&&!(q>=c*d);q++){var r=q%c,m=Math.floor(q/c),t=n.charAt(q);if(this.b.n){var Q=this.Pi,R=r*g,M=m*h,r=(r+1)*g,m=(m+1)*h;void 0===Q[t]&&(Q[t]=b(v,T));Q[t].left=R;Q[t].top=M;Q[t].right=r;Q[t].bottom=m}else Q=this.Oi,r=r*a,m=m*e,R=a,M=e,void 0===Q[t]&&(Q[t]=b(l,Object)),Q[t].x=r,Q[t].y=m,Q[t].uk=R,Q[t].pj=M}};var d=
[];q.Bk=function(a){V(d);for(var c="",b,e=0;e<a.length;)if(b=a.charAt(e),"\n"===b)c.length&&(d.push(c),c=""),d.push("\n"),++e;else if(" "===b||"\t"===b||"-"===b){do c+=a.charAt(e),e++;while(e<a.length&&(" "===a.charAt(e)||"\t"===a.charAt(e)));d.push(c);c=""}else e<a.length&&(c+=b,e++);c.length&&d.push(c)};q.Ck=function(c){var d=c.text,e=c.Jb;if(d&&d.length){var g=c.width;if(2>=g)m(a,e,!0);else{var l=c.te,h=c.Uf;if(d.length*(c.Ni*l+h)-h<=g&&-1===d.indexOf("\n")&&(h=c.cm(d),h<=g)){m(a,e,!0);e.push(b(a,
Object));e[0].text=d;e[0].width=h;c.be=h;c.wd=c.re*l+c.lineHeight;return}this.Dk(c);c.wd=e.length*(c.re*l+c.lineHeight)}}else m(a,e,!0)};q.Dk=function(b){var e=b.Ai,l=b.text,q=b.Jb,p=b.width;e&&(this.Bk(l),l=d);var h="",n,r,m,t=0,v=!1;for(m=0;m<l.length;m++)"\n"===l[m]?(!0===v?v=!1:(g(b,t,h),t++),h=""):(v=!1,n=h,h+=l[m],r=b.cm(h.replace(/\s\s*$/,"")),r>p&&(""===n?(g(b,t,h),h="",v=!0):(g(b,t,n),h=l[m]),t++,e||" "!==h||(h="")));h.replace(/\s\s*$/,"").length&&(g(b,t,h),t++);for(m=t;m<q.length;m++)a.length<
c&&a.push(q[m]);q.length=t};r.cm=function(a){for(var c=this.Uf,b=a.length,d=0,e=0;e<b;e++)d+=this.jl(a.charAt(e))*this.te+c;return d-(0<d?c:0)};r.jl=function(a){var c=this.ue;return void 0!==c[a]?c[a]:this.Ni};r.pp=function(){if(this.vc||this.width!==this.Bf)this.wd=this.be=0,this.type.Ca.Ck(this),this.vc=!1,this.Bf=this.width};r.zc=function(a){var c=this.D;if(""!==this.text&&null!=c&&(this.pp(),!(this.height<this.re*this.te+this.lineHeight))){a.globalAlpha=this.opacity;var c=this.x,b=this.y;this.b.Vb&&
(c=Math.round(c),b=Math.round(b));var d=this.k.ba,e=this.k.ca,h=this.k.ka,g=this.k.ja;a.save();a.translate(c,b);a.rotate(this.q);for(var l=this.q,q=this.Jd,r=this.te,m=this.re*r,t=this.lineHeight,v=this.Uf,M=this.Jb,X,C=-(this.Hb*this.width),J=-(this.Ib*this.height),J=J+this.fe*oa(0,this.height-this.wd),O,K,L,N=0;N<M.length;N++){var F=M[N].text;X=q*oa(0,this.width-M[N].width);O=C+X;J+=t;if(0===l&&b+J+m<e)J+=m;else{for(var D=0;D<F.length;D++){K=F.charAt(D);X=this.jl(K);var y=this.Oi[K];if(0===l&&c+
O+X*r+v<d)O+=X*r+v;else{if(O+X*r>this.width+1E-5)break;void 0!==y&&(K=O,L=J,0===l&&1===r&&(K=Math.round(K),L=Math.round(L)),a.drawImage(this.D,y.x,y.y,y.uk,y.pj,K,L,y.uk*r,y.pj*r));O+=X*r+v;if(0===l&&c+O>h)break}}J+=m;if(0===l&&(J+m+t>this.height||b+J>g))break}}a.restore()}};var e=new ta;r.Bb=function(a){a.Lb(this.P);a.Xd(this.opacity);if(this.text&&(this.pp(),!(this.height<this.re*this.te+this.lineHeight))){this.ma();var c=this.zb,b=0,d=0;this.b.Vb&&(b=Math.round(this.x)-this.x,d=Math.round(this.y)-
this.y);var g=this.k.ba,h=this.k.ca,l=this.k.ka,q=this.k.ja,r=this.q,m=this.Jd,t=this.fe,v=this.te,R=this.re*v,M=this.lineHeight,X=this.Uf,C=this.Jb,J=this.wd,O,K,L;0!==r&&(K=Math.cos(r),L=Math.sin(r));for(var b=c.xa+b,c=c.ya+d,N,t=t*oa(0,this.height-J),F,D,J=0;J<C.length;J++)if(d=C[J].text,N=O=m*oa(0,this.width-C[J].width),t+=M,0===r&&c+t+R<h)t+=R;else{for(var y=0;y<d.length;y++){var z=d.charAt(y);O=this.jl(z);z=this.Pi[z];if(0===r&&b+N+O*v+X<g)N+=O*v+X;else{if(N+O*v>this.width+1E-5)break;if(void 0!==
z){var B=this.Ni*v,G=this.re*v;F=N;D=t;0===r&&1===v&&(F=Math.round(F),D=Math.round(D));e.xa=F;e.ya=D;e.Na=F+B;e.Oa=D;e.Ia=F;e.Ja=D+G;e.Ka=F+B;e.La=D+G;0!==r&&(F=e,D=K,B=L,G=void 0,G=F.xa*D-F.ya*B,F.ya=F.ya*D+F.xa*B,F.xa=G,G=F.Na*D-F.Oa*B,F.Oa=F.Oa*D+F.Na*B,F.Na=G,G=F.Ia*D-F.Ja*B,F.Ja=F.Ja*D+F.Ia*B,F.Ia=G,G=F.Ka*D-F.La*B,F.La=F.La*D+F.Ka*B,F.Ka=G);e.offset(b,c);a.Ec(e.xa,e.ya,e.Na,e.Oa,e.Ka,e.La,e.Ia,e.Ja,z)}N+=O*v+X;if(0===r&&b+N>l)break}}t+=R;if(0===r&&(t+R+M>this.height||c+t>q))break}}};q.m=new function(){};
t.prototype.Ak=function(a){ia(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.vc=!0,this.b.L=!0)};r.Ug=function(a,c){var b=parseInt(c,10);this.ue[a]!==b&&(this.ue[a]=b,this.vc=!0,this.b.L=!0)};q.M=new t;q.ob=new function(){}})();function gc(b){this.b=b}
(function(){function b(){return a.length?a.pop():{}}function m(c){var b,d;b=0;for(d=c.length;b<d;b++)a.push(c[b]);V(c)}function g(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function t(){}var q=gc.prototype;q.K=function(){q.M.pr=function(a){this.width!==a&&(this.width=a,this.vc=!0,this.C())}};q.ea=function(a){this.Ca=a;this.b=a.b};var r=q.ea.prototype;r.K=function(){};r.zg=function(){if(!this.F){var a,c,b;a=0;for(c=this.j.length;a<c;a++)b=this.j[a],b.pd=null,b.Ff=null,
b.hc=null}};q.Y=function(a){this.type=a;this.b=a.b;this.Kb?V(this.Jb):this.Jb=[];this.vc=!0};r=q.Y.prototype;r.K=function(){this.text=this.u[0];this.visible=0===this.u[1];this.font=this.u[2];this.color=this.u[3];this.Jd=this.u[4];this.fe=this.u[5];this.Ai=0===this.u[7];this.Bf=this.Pd=this.width;this.Od=this.height;this.Ql=this.u[8];this.hj=this.ag="";this.wd=this.be=this.Wh=0;this.yu();this.hc=this.Ff=this.pd=null;this.Wo=!1;this.Af=this.b.cd;this.Kb?this.Ne.set(0,0,1,1):this.Ne=new T(0,0,1,1);this.b.n&&
this.b.Gm(this)};r.yu=function(){var a=this.font.split(" "),c;for(c=0;c<a.length;c++)if("pt"===a[c].substr(a[c].length-2,2)){this.Wh=parseInt(a[c].substr(0,a[c].length-2));this.mm=Math.ceil(this.Wh/72*96)+4;0<c&&(this.hj=a[c-1]);this.ag=a[c+1];for(c+=2;c<a.length;c++)this.ag+=" "+a[c];break}};r.eb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Jd,va:this.fe,wr:this.Ai,lho:this.Ql,fn:this.ag,fs:this.hj,ps:this.Wh,pxh:this.mm,tw:this.be,th:this.wd,lrt:this.Af}};r.rb=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.Jd=a.ha;this.fe=a.va;this.Ai=a.wr;this.Ql=a.lho;this.ag=a.fn;this.hj=a.fs;this.Wh=a.ps;this.mm=a.pxh;this.be=a.tw;this.wd=a.th;this.Af=a.lrt;this.vc=!0;this.Bf=this.Pd=this.width;this.Od=this.height};r.Ob=function(){if(this.b.n&&this.hc&&300<=this.b.cd-this.Af){var a=this.k;this.ma();var c=this.ra;if(c.right<a.ba||c.bottom<a.ca||c.left>a.ka||c.top>a.ja)this.b.n.deleteTexture(this.hc),this.pd=this.Ff=this.hc=null}};r.Sd=function(){this.pd=this.Ff=null;this.b.n&&
this.hc&&this.b.n.deleteTexture(this.hc);this.hc=null};r.Ug=function(){this.font=this.hj+" "+this.Wh.toString()+"pt "+this.ag;this.vc=!0;this.b.L=!0};r.zc=function(a,c){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=c?1:this.opacity;var b=1;c&&(b=Math.abs(this.k.fc()),a.save(),a.scale(b,b));if(this.vc||this.width!==this.Bf)this.type.Ca.Ck(this.text,this.Jb,a,this.width,this.Ai),this.vc=!1,this.Bf=this.width;this.ma();var b=c?0:this.zb.xa,e=c?0:this.zb.ya;this.b.Vb&&(b=
b+.5|0,e=e+.5|0);0===this.q||c||(a.save(),a.translate(b,e),a.rotate(this.q),e=b=0);var g=e+this.height,f=this.mm,f=f+this.Ql,q,r;1===this.fe?e+=Math.max(this.height/2-this.Jb.length*f/2,0):2===this.fe&&(e+=Math.max(this.height-this.Jb.length*f-2,0));for(r=0;r<this.Jb.length&&!(q=b,1===this.Jd?q=b+(this.width-this.Jb[r].width)/2:2===this.Jd&&(q=b+(this.width-this.Jb[r].width)),a.fillText(this.Jb[r].text,q,e),e+=f,e>=g-f);r++);(0!==this.q||c)&&a.restore();this.Af=this.b.cd};r.Bb=function(a){if(!(1>
this.width||1>this.height)){var c=this.vc||this.Wo;this.Wo=!1;var b=this.k.fc(),e=this.k.ec(),g=this.Ne,f=b*this.width,q=b*this.height,r=Math.ceil(f),p=Math.ceil(q),h=Math.abs(r),n=Math.abs(p),m=this.b.I/2,t=this.b.H/2;this.Ff||(this.pd=document.createElement("canvas"),this.pd.width=h,this.pd.height=n,this.Pd=h,this.Od=n,c=!0,this.Ff=this.pd.getContext("2d"));if(h!==this.Pd||n!==this.Od)this.pd.width=h,this.pd.height=n,this.hc&&(a.deleteTexture(this.hc),this.hc=null),c=!0;c&&(this.Ff.clearRect(0,
0,h,n),this.zc(this.Ff,!0),this.hc||(this.hc=a.ac(h,n,this.b.qa,this.b.tf)),a.gq(this.pd,this.hc,this.b.tf));this.Pd=h;this.Od=n;a.Lb(this.hc);a.Xd(this.opacity);a.Fc();a.translate(-m,-t);a.wc();var x=this.zb,c=this.k.Ba(x.xa,x.ya,!0,!0),h=this.k.Ba(x.xa,x.ya,!1,!0),n=this.k.Ba(x.Na,x.Oa,!0,!0),m=this.k.Ba(x.Na,x.Oa,!1,!0),t=this.k.Ba(x.Ka,x.La,!0,!0),U=this.k.Ba(x.Ka,x.La,!1,!0),Q=this.k.Ba(x.Ia,x.Ja,!0,!0),x=this.k.Ba(x.Ia,x.Ja,!1,!0);if(this.b.Vb||0===this.q&&0===e)var R=(c+.5|0)-c,M=(h+.5|0)-
h,c=c+R,h=h+M,n=n+R,m=m+M,t=t+R,U=U+M,Q=Q+R,x=x+M;0===this.q&&0===e?(n=c+r,m=h,t=n,U=h+p,Q=c,x=U,g.right=1,g.bottom=1):(g.right=f/r,g.bottom=q/p);a.Ec(c,h,n,m,t,U,Q,x,g);a.Fc();a.scale(b,b);a.Zj(-this.k.ec());a.translate((this.k.ba+this.k.ka)/-2,(this.k.ca+this.k.ja)/-2);a.wc();this.Af=this.b.cd}};var c=[];q.Bk=function(a){V(c);for(var b="",d,e=0;e<a.length;)if(d=a.charAt(e),"\n"===d)b.length&&(c.push(b),b=""),c.push("\n"),++e;else if(" "===d||"\t"===d||"-"===d){do b+=a.charAt(e),e++;while(e<a.length&&
(" "===a.charAt(e)||"\t"===a.charAt(e)));c.push(b);b=""}else e<a.length&&(b+=d,e++);b.length&&c.push(b)};var a=[];q.Ck=function(a,c,d,e,g){if(a&&a.length)if(2>=e)m(c);else{if(100>=a.length&&-1===a.indexOf("\n")){var f=d.measureText(a).width;if(f<=e){m(c);c.push(b());c[0].text=a;c[0].width=f;return}}this.Dk(a,c,d,e,g)}else m(c)};q.Dk=function(l,q,d,e,k){k&&(this.Bk(l),l=c);var f="",r,m,p,h=0;for(p=0;p<l.length;p++)"\n"===l[p]?(h>=q.length&&q.push(b()),f=g(f),m=q[h],m.text=f,m.width=d.measureText(f).width,
h++,f=""):(r=f,f+=l[p],m=d.measureText(f).width,m>=e&&(h>=q.length&&q.push(b()),r=g(r),m=q[h],m.text=r,m.width=d.measureText(r).width,h++,f=l[p],k||" "!==f||(f="")));f.length&&(h>=q.length&&q.push(b()),f=g(f),m=q[h],m.text=f,m.width=d.measureText(f).width,h++);for(p=h;p<q.length;p++)a.push(q[p]);q.length=h};q.m=new function(){};t.prototype.Ak=function(a){ia(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.vc=!0,this.b.L=!0)};q.M=new t;q.ob=new function(){}})();
function hc(b){this.b=b}
(function(){var b=hc.prototype;b.ea=function(b){this.Ca=b;this.b=b.b};var m=b.ea.prototype;m.K=function(){this.F||(this.D=new Image,this.D.Sk=this.lk,this.b.vk(this.D,this.mi),this.P=this.pattern=null)};m.zg=function(){this.F||(this.P=null)};m.Rh=function(){if(!this.F&&this.j.length){this.P||(this.P=this.b.n.sg(this.D,!0,this.b.qa,this.ni));var b,m;b=0;for(m=this.j.length;b<m;b++)this.j[b].P=this.P}};m.Cj=function(){this.F||this.P||!this.b.n||(this.P=this.b.n.sg(this.D,!0,this.b.qa,this.ni))};m.oi=
function(){this.F||this.j.length||!this.P||(this.b.n.deleteTexture(this.P),this.P=null)};m.Uh=function(b){b.drawImage(this.D,0,0)};b.Y=function(b){this.type=b;this.b=b.b};m=b.Y.prototype;m.K=function(){this.visible=0===this.u[0];this.Ne=new T(0,0,0,0);this.Zn=!1;this.D=this.type.D;this.b.n?(this.type.Cj(),this.P=this.type.P):(this.type.pattern||(this.type.pattern=this.b.ta.createPattern(this.type.D,"repeat")),this.pattern=this.type.pattern)};m.zd=function(){this.Zn=!1;this.D=this.type.D};m.Sd=function(){this.b.n&&
this.Zn&&this.P&&(this.b.n.deleteTexture(this.P),this.P=null)};m.zc=function(b){b.globalAlpha=this.opacity;b.save();b.fillStyle=this.pattern;var m=this.x,q=this.y;this.b.Vb&&(m=Math.round(m),q=Math.round(q));var r=-(this.Hb*this.width),c=-(this.Ib*this.height),a=r%this.D.width,l=c%this.D.height;0>a&&(a+=this.D.width);0>l&&(l+=this.D.height);b.translate(m,q);b.rotate(this.q);b.translate(a,l);b.fillRect(r-a,c-l,this.width,this.height);b.restore()};m.ye=function(b){this.Bb(b)};m.Bb=function(b){b.Lb(this.P);
b.Xd(this.opacity);var m=this.Ne;m.right=this.width/this.D.width;m.bottom=this.height/this.D.height;var q=this.zb;if(this.b.Vb){var r=Math.round(this.x)-this.x,c=Math.round(this.y)-this.y;b.Ec(q.xa+r,q.ya+c,q.Na+r,q.Oa+c,q.Ka+r,q.La+c,q.Ia+r,q.Ja+c,m)}else b.Ec(q.xa,q.ya,q.Na,q.Oa,q.Ka,q.La,q.Ia,q.Ja,m)};b.m=new function(){};b.M=new function(){};b.ob=new function(){}})();function ic(b){this.b=b}
(function(){function b(){this.pk=this.id=-1;this.pn=this.Zf=this.ti=this.nh=!1;this.ia=new T(0,0,0,0)}function m(a){1E4>k.length&&k.push(a)}function g(){this.id=-1;this.ia=new T(0,0,0,0);this.Wd=null}function t(a){1E4>f.length&&f.push(a)}function q(a,c,b){var d;return w.length?(d=w.pop(),d.e=a,d.x=c,d.y=b,d.left=d.x*d.e.Ya*d.e.gb,d.top=d.y*d.e.hb*d.e.fb,d.clear(),d.Zh=!1,d):new r(a,c,b)}function r(a,c,b){this.e=a;this.x=c;this.y=b;this.left=this.x*this.e.Ya*this.e.gb;this.top=this.y*this.e.hb*this.e.fb;
this.xd=[];this.tb=[];this.Gb=[];this.Zh=!1;var d,e;a=0;for(c=this.e.hb;a<c;++a){e=[];b=0;for(d=this.e.Ya;b<d;++b)e.push(-1);this.xd.push(e)}}var c=ic.prototype;c.ea=function(a){this.Ca=a;this.b=a.b};var a=c.ea.prototype;a.K=function(){var a,c,b;if(!this.F&&(this.D=new Image,this.D.Sk=this.lk,this.b.vk(this.D,this.mi),this.df=[],this.Uk=!1,this.dd=[],this.Pp=!1,this.ok&&this.ok.length))for(a=0,c=this.ok.length;a<c;++a)(b=this.ok[a])?this.dd.push({Wd:b,fj:[[[null,null],[null,null]],[[null,null],[null,
null]]]}):this.dd.push(null)};a.oe=function(a,c,b,d,e,f){if(!(0>a||a>=this.dd.length)&&this.dd[a]){var g=this.dd[a].fj;a=new Wa(this.dd[a].Wd);a.$e(c,b,0);f&&a.Sr();d&&a.qu(c/2);e&&a.jt(b/2);g[d?1:0][e?1:0][f?1:0]=a}};a.Un=function(a){if(-1===a)return null;var c=a&e;return 0>c||c>=this.dd.length||!this.dd[c]?null:this.dd[c].fj[a&l?1:0][a&v?1:0][a&d?1:0]};a.fl=function(){var a,c,b=this.b.n;if(b)for(a=0,c=this.df.length;a<c;++a)b.deleteTexture(this.df[a]);V(this.df);this.Uk=!1};a.Yl=function(a,c,b,
d,e,f,g){if(!(this.Uk||0>=a||0>=c)){this.fl();var k=this.D.width,l=this.D.height,q;for(q=d;q+c<=l;q+=c+f)for(d=b;d+a<=k;d+=a+e)this.df.push(this.sq(d,q,a,c,g));this.Uk=!0}};a.sq=function(a,c,b,d,e){if(this.b.n)return this.yk(a,c,b,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=this.yk(a,c,b,d,!1,!1,!1,e);return{fj:f,x:a,y:c,uk:b,pj:d}};a.Zm=function(a,c,b,d,e){if(0>a||a>=this.df.length)return null;a=this.df[a];var f=a.fj;c=c?1:0;b=b?1:0;d=d?1:0;var g=f[c][b][d];
if(g)return g;g=this.yk(a.x,a.y,a.uk,a.pj,0!==c,0!==b,0!==d,e);return f[c][b][d]=g};a.yk=function(a,c,b,d,e,f,g,k){var l=b,q=d;this.b.n&&!k&&(ka(l)||(l=ma(l)),ka(q)||(q=ma(q)));var r=document.createElement("canvas");r.width=l;r.height=q;var m=r.getContext("2d");if(this.b.ta)return e?f?(g?(m.rotate(Math.PI/2),m.scale(-1,1)):m.scale(-1,-1),m.translate(-l,-q)):g?(m.rotate(Math.PI/2),m.translate(0,-q)):(m.scale(-1,1),m.translate(-l,0)):f?g?(m.rotate(-Math.PI/2),m.translate(-l,0)):(m.scale(1,-1),m.translate(0,
-q)):g&&(m.scale(-1,1),m.rotate(Math.PI/2)),m.drawImage(this.D,a,c,b,d,0,0,l,q),k?r:this.b.ta.createPattern(r,"repeat");m.drawImage(this.D,a,c,b,d,0,0,l,q);a=this.b.n.ac(l,q,this.b.qa,!1,!k);this.b.n.gq(r,a);return a};a.zg=function(){this.F||this.fl()};a.Rh=function(){};a.Cj=function(){};a.oi=function(){this.F||this.j.length||this.fl()};a.Uh=function(){};c.Y=function(a){this.type=a;this.b=a.b};var a=c.Y.prototype,l=-2147483648,v=1073741824,d=536870912,e=536870911,k=[],f=[],w=[];r.prototype.clear=
function(){var a,c,b,d,e;this.xd.length=this.e.hb;a=0;for(c=this.xd.length;a<c;++a)for(e=this.xd[a],e||(e=[],this.xd[a]=e),e.length=this.e.Ya,b=0,d=e.length;b<d;++b)e[b]=-1};r.prototype.Lh=function(){if(!this.Zh){var a=this.e.gb,c=this.e.fb;if(!(0>=a||0>=c)){var n,q,r,x,u,w;n=0;for(q=this.tb.length;n<q;++n)m(this.tb[n]);n=0;for(q=this.Gb.length;n<q;++n)t(this.Gb[n]);V(this.tb);V(this.Gb);var R=Math.min(this.e.Bc,Math.floor(this.e.width/a)),M=Math.min(this.e.Xc,Math.floor(this.e.height/c)),R=R-this.left/
a,M=M-this.top/c;R>this.e.Ya&&(R=this.e.Ya);M>this.e.hb&&(M=this.e.hb);var X=this.e.Qe,C=null;n=0;for(q=M;n<q;++n){u=this.xd[n];r=0;for(x=R;r<x;++r)w=u[r],-1===w?C&&(this.tb.push(C),C=null):X||!C||w!==C.id?(C&&this.tb.push(C),C=k.length?k.pop():new b,C.id=w,C.pk=w&e,C.nh=0!==(w&l),C.ti=0!==(w&v),C.Zf=0!==(w&d),C.pn=C.nh||C.ti||C.Zf,C.ia.left=r*a+this.left,C.ia.top=n*c+this.top,C.ia.right=C.ia.left+a,C.ia.bottom=C.ia.top+c):C.ia.right+=a;C&&(this.tb.push(C),C=null)}var C=null,J=!1;n=0;for(q=M;n<q;++n){u=
this.xd[n];r=0;for(x=R;r<x;++r)w=u[r],-1===w?C&&(this.Gb.push(C),C=null,J=!1):(M=this.e.type.Un(w),!C||M||J?(C&&this.Gb.push(C),C=f.length?f.pop():new g,C.id=w,C.Wd=M?M:null,w=C.ia,w.left=r*a+this.left,w.top=n*c+this.top,w.right=w.left+a,w.bottom=w.top+c,J=!!M):C.ia.right+=a);C&&(this.Gb.push(C),C=null,J=!1)}if(!X)for(q=this.tb.length,n=0;n<q;++n)for(x=this.tb[n],a=n+1;a<q;++a)if(r=this.tb[a],!(r.ia.top<x.ia.bottom)){if(r.ia.top>x.ia.bottom)break;if(r.ia.right>x.ia.right||r.ia.left>x.ia.left)break;
r.id===x.id&&r.ia.left===x.ia.left&&r.ia.right===x.ia.right&&(m(this.tb[a]),this.tb.splice(a,1),--q,x.ia.bottom+=c,--a)}q=this.Gb.length;for(n=0;n<q;++n)if(x=this.Gb[n],!x.Wd)for(u=x.ia,a=n+1;a<q;++a)if(r=this.Gb[a],x=r.ia,!(x.top<u.bottom)){if(x.top>u.bottom)break;if(x.right>u.right||x.left>u.left)break;r.Wd||x.left!==u.left||x.right!==u.right||(t(this.Gb[a]),this.Gb.splice(a,1),--q,u.bottom+=c,--a)}this.Zh=!0}}};r.prototype.Am=function(a,c,b){this.xd[c][a]!==b&&(this.xd[c][a]=b,this.Zh=!1,this.e.Fi=
!0,this.e.Sh=!0,this.e.b.L=!0)};a.K=function(){var a,c,b;this.visible=0===this.u[0];this.gb=this.u[1];this.fb=this.u[2];this.Hm=this.u[3];this.Jm=this.u[4];this.Im=this.u[5];this.Km=this.u[6];this.Qe=0!==this.u[7];this.Bc=this.Sp;this.Xc=this.Rp;this.Pd=this.width;this.Od=this.height;var d=this.gb,e=this.fb;0===d&&(d=1);0===e&&(e=1);this.Ya=Math.ceil(this.b.Ua/d);this.hb=Math.ceil(this.b.Ta/e);if(!this.type.Pp)for(this.type.Pp=!0,a=0,c=this.type.dd.length;a<c;++a)if(b=this.type.dd[a])this.type.oe(a,
d,e,!1,!1,!1),this.type.oe(a,d,e,!1,!1,!0),this.type.oe(a,d,e,!1,!0,!1),this.type.oe(a,d,e,!1,!0,!0),this.type.oe(a,d,e,!0,!1,!1),this.type.oe(a,d,e,!0,!1,!0),this.type.oe(a,d,e,!0,!0,!1),this.type.oe(a,d,e,!0,!0,!0);this.Kb||(this.Pb=[]);this.Zl(!0);this.Ap(this.Qp);this.type.Yl(this.gb,this.fb,this.Hm,this.Jm,this.Im,this.Km,this.Qe);this.Sh=!1;this.Fi=!0;this.Xl()};a.Xl=function(){if(this.Fi){var a,c,b,d,e;a=0;for(c=this.Pb.length;a<c;++a)for(e=this.Pb[a],b=0,d=e.length;b<d;++b)e[b].Lh();this.Fi=
!1}};a.ak=function(){var a,c,b,d,e;a=0;for(c=this.Pb.length;a<c;++a)for(e=this.Pb[a],b=0,d=e.length;b<d;++b)e[b].Zh=!1;this.Fi=!0};a.Zl=function(a){var c=A(this.width/this.gb),b=A(this.height/this.fb);if(!(c<=this.Bc&&b<=this.Xc)||a){var d;a?(a=Math.ceil(this.Xc/this.hb),d=Math.ceil(this.Bc/this.Ya)):(a=this.Pb.length,d=Math.ceil(this.Bc/this.Ya),b>this.Xc&&(this.Xc=b,a=Math.ceil(this.Xc/this.hb)),c>this.Bc&&(this.Bc=c,d=Math.ceil(this.Bc/this.Ya)),this.ak(),this.Sh=!0,this.b.L=!0);for(var e,c=0;c<
a;++c)if(e=this.Pb[c])for(b=e.length;b<d;++b)e.push(q(this,b,c));else{e=[];for(b=0;b<d;++b)e.push(q(this,b,c));this.Pb[c]=e}}};a.Lk=function(a,c){if(0>a||0>c)return null;var b=A(c/this.hb);if(b>=this.Pb.length)return null;var b=this.Pb[b],d=A(a/this.Ya);return d>=b.length?null:b[d]};a.Mk=function(a,c){if(0>a||0>c||c>=this.Pb.length)return null;var b=this.Pb[c];return a>=b.length?null:b[a]};a.Ap=function(a){var c=[];a=a.split(",");var b,e,f,g,k;b=0;for(e=a.length;b<e;++b)if(f=a[b],g=f.indexOf("x"),
-1<g)for(k=parseInt(f.substring(0,g),10),f=f.substring(g+1),g=parseInt(f,10),-1<f.indexOf("h")&&(g|=l),-1<f.indexOf("v")&&(g|=v),-1<f.indexOf("d")&&(g|=d);0<k;--k)c.push(g);else g=parseInt(f,10),-1<f.indexOf("h")&&(g|=l),-1<f.indexOf("v")&&(g|=v),-1<f.indexOf("d")&&(g|=d),c.push(g);for(b=a=0;b<this.Xc;++b)for(e=0;e<this.Bc;++e)k=c[a++],(f=this.Lk(e,b))&&f.Am(e%this.Ya,b%this.hb,k)};a.Ft=function(){var a="";if(0>=this.Bc||0>=this.Xc)return a;var c=1,b=this.rl(0,0),f,g,k,q,r,m,t,u;q=A(this.width/this.gb);
g=A(this.height/this.fb);for(f=0;f<g;++f)for(k=0===f?1:0;k<q;++k)r=this.rl(k,f),r===b?++c:(-1===b?(m=-1,b=u=t=!1):(m=b&e,t=0!==(b&l),u=0!==(b&v),b=0!==(b&d)),a=1===c?a+(""+m):a+(""+c+"x"+m),t&&(a+="h"),u&&(a+="v"),b&&(a+="d"),a+=",",c=1,b=r);-1===b?(m=-1,b=u=t=!1):(m=b&e,t=0!==(b&l),u=0!==(b&v),b=0!==(b&d));a=1===c?a+(""+m):a+(""+c+"x"+m);t&&(a+="h");u&&(a+="v");b&&(a+="d");return a};a.rl=function(a,c){a=Math.floor(a);c=Math.floor(c);if(0>a||0>c||a>=this.Bc||c>=this.Xc)return-1;var b=this.Lk(a,c);
return b?b.xd[c%this.hb][a%this.Ya]:-1};a.Am=function(a,c,b){a=Math.floor(a);c=Math.floor(c);if(0>a||0>c||a>=this.Bc||c>=this.Xc)return-1;var d=this.Lk(a,c);if(!d)return-1;d.Am(a%this.Ya,c%this.hb,b)};a.iq=function(a){return Math.floor((a-this.x)/(this.Ya*this.gb))};a.jq=function(a){return Math.floor((a-this.y)/(this.hb*this.fb))};a.pv=function(a){return Math.floor((a-this.x)/this.gb)};a.qv=function(a){return Math.floor((a-this.y)/this.fb)};a.nt=function(a,c){var b=this.jq(a.top),d=this.iq(a.right),
e=this.jq(a.bottom),f,g,k;for(f=this.iq(a.left);f<=d;++f)for(g=b;g<=e;++g)if(k=this.Mk(f,g))k.Lh(),za(c,k.Gb)};a.gv=function(a,c){var b=this.rl(this.pv(a),this.qv(c));if(-1===b)return!1;b=this.type.Un(b);if(!b)return!0;var d=Math.floor((c-this.y)/this.fb)*this.fb+this.y;a-=Math.floor((a-this.x)/this.gb)*this.gb+this.x;return b.Sb(a,c-d)};a.Ug=function(a){var c,b,d,e,f,g;c=0;for(b=this.Pb.length;c<b;++c)for(f=this.Pb[c],d=0,e=f.length;d<e;++d)g=f[d],g.Lh(),za(a,g.Gb)};a.Sd=function(){var a,c,b,d,e;
a=0;for(c=this.Pb.length;a<c;++a){e=this.Pb[a];b=0;for(d=e.length;b<d;++b){for(var f=e[b],g=void 0,k=void 0,g=0,k=f.tb.length;g<k;++g)m(f.tb[g]);V(f.tb);g=0;for(k=f.Gb.length;g<k;++g)t(f.Gb[g]);V(f.Gb);1E3>w.length&&w.push(f)}V(e)}V(this.Pb)};a.eb=function(){this.Zl();return{w:A(this.width/this.gb),h:A(this.height/this.fb),d:this.Ft()}};a.rb=function(a){this.Bc=a.w;this.Xc=a.h;this.Zl(!0);this.Ap(a.d);this.Sh=!0;this.ak()};a.zc=function(a){if(!(0>=this.gb||0>=this.fb)){this.type.Yl(this.gb,this.fb,
this.Hm,this.Jm,this.Im,this.Km,this.Qe);if(this.width!==this.Pd||this.height!==this.Od)this.Sh=!0,this.ak(),this.Xl(),this.Pd=this.width,this.Od=this.height;a.globalAlpha=this.opacity;var c=this.k,b=c.ba,d=c.ca,e=c.ka,c=c.ja,f=this.x,g=this.y,k=this.Qe,l;this.b.Vb&&(f=Math.round(f),g=Math.round(g));var q=this.Ya*this.gb,r=this.hb*this.fb,m=Math.floor((b-f)/q),q=Math.floor((e-f)/q),t=Math.floor((d-g)/r),r=Math.floor((c-g)/r),u=f%this.gb,v=g%this.fb;this.Qe&&(v=u=0);if(0!==u||0!==v)a.save(),a.translate(u,
v),f-=u,g-=v,b-=u,d-=v,e-=u,c-=v;for(var w,N,F,D,y,z,B,G,I;m<=q;++m)for(w=t;w<=r;++w)if(N=this.Mk(m,w))for(N.Lh(),F=0,D=N.tb.length;F<D;++F)y=N.tb[F],-1!==y.id&&(l=y.ia,z=l.left+f,B=l.top+g,G=l.right+f,l=l.bottom+g,z>e||G<b||B>c||l<d||(I=this.type.Zm(y.pk,y.nh,y.ti,y.Zf,this.Qe),k?a.drawImage(I,z,B):(a.fillStyle=this.type.Zm(y.pk,y.nh,y.ti,y.Zf,this.Qe),a.fillRect(z,B,G-z,l-B))));0===u&&0===v||a.restore()}};var u=new T(0,0,1,1);a.ye=function(a){this.Bb(a)};a.Bb=function(a){if(!(0>=this.gb||0>=this.fb)){this.type.Yl(this.gb,
this.fb,this.Hm,this.Jm,this.Im,this.Km,this.Qe);if(this.width!==this.Pd||this.height!==this.Od)this.Sh=!0,this.ak(),this.Xl(),this.Pd=this.width,this.Od=this.height;a.Xd(this.opacity);var c=this.type.df,b=this.k,d=b.ba,e=b.ca,f=b.ka,b=b.ja,g=this.x,k=this.y,l;this.b.Vb&&(g=Math.round(g),k=Math.round(k));var q=this.Ya*this.gb,r=this.hb*this.fb,m=Math.floor((f-g)/q),t=Math.floor((e-k)/r),r=Math.floor((b-k)/r),v,w,L,N,F,D,y,z,B,G,I,S,da,H,la,ea,ua;for(la=Math.floor((d-g)/q);la<=m;++la)for(ea=t;ea<=
r;++ea)if(ua=this.Mk(la,ea))for(ua.Lh(),q=0,v=ua.tb.length;q<v;++q)w=ua.tb[q],-1!==w.id&&(l=w.ia,L=l.left+g,N=l.top+k,F=l.right+g,l=l.bottom+k,L>f||F<d||N>b||l<e||(a.Lb(c[w.pk]),u.right=(F-L)/this.gb,u.bottom=(l-N)/this.fb,w.pn?(w.Zf&&(H=u.right,u.right=u.bottom,u.bottom=H),y=D=0,z=u.right,B=0,G=u.right,I=u.bottom,S=0,da=u.bottom,w.Zf&&(H=S,S=z,z=H,H=da,da=B,B=H),w.nh&&(H=D,D=z,z=H,H=y,y=B,B=H,H=S,S=G,G=H,H=da,da=I,I=H),w.ti&&(H=D,D=S,S=H,H=y,y=da,da=H,H=z,z=G,G=H,H=B,B=I,I=H),a.Ku(L,N,F,N,F,l,L,
l,D,y,z,B,G,I,S,da)):a.Ec(L,N,F,N,F,l,L,l,u)))}};c.m=new function(){};c.M=new function(){};c.ob=new function(){}})();function jc(b){this.b=b}
(function(){function b(){}function m(){}var g=jc.prototype;g.ea=function(b){this.behavior=b;this.b=b.b};g.ea.prototype.K=function(){};g.Y=function(b,g){this.type=b;this.behavior=b.behavior;this.e=g;this.b=b.b};var t=g.Y.prototype;t.K=function(){this.Ek=1===this.u[0];this.zp=!1;this.fh=this.u[1];this.xi=this.u[2];this.$i=this.u[3];this.Rr=this.u[4];this.Xa=this.Ek?0:3;this.Kb?this.Hc.reset():this.Hc=new Ua;this.Le=this.e.opacity?this.e.opacity:1;this.Ek&&(0===this.fh?(this.Xa=1,0===this.xi&&(this.Xa=
2)):(this.e.opacity=0,this.b.L=!0))};t.eb=function(){return{fit:this.fh,wt:this.xi,fot:this.$i,s:this.Xa,st:this.Hc.U,mo:this.Le}};t.rb=function(b){this.fh=b.fit;this.xi=b.wt;this.$i=b.fot;this.Xa=b.s;this.Hc.reset();this.Hc.U=b.st;this.Le=b.mo};t.Ob=function(){this.Hc.add(this.b.lf(this.e));0===this.Xa&&(this.e.opacity=this.Hc.U/this.fh*this.Le,this.b.L=!0,this.e.opacity>=this.Le&&(this.e.opacity=this.Le,this.Xa=1,this.Hc.reset(),this.b.trigger(jc.prototype.m.Sq,this.e)));1===this.Xa&&this.Hc.U>=
this.xi&&(this.Xa=2,this.Hc.reset(),this.b.trigger(jc.prototype.m.gr,this.e));2===this.Xa&&0!==this.$i&&(this.e.opacity=this.Le-this.Hc.U/this.$i*this.Le,this.b.L=!0,0>this.e.opacity&&(this.e.opacity=0,this.Xa=3,this.Hc.reset(),this.b.trigger(jc.prototype.m.Tq,this.e),1===this.Rr&&this.b.je(this.e)))};t.ls=function(){this.Xa=0;this.Hc.reset();0===this.fh?(this.Xa=1,0===this.xi&&(this.Xa=2)):(this.e.opacity=0,this.b.L=!0)};b.prototype.Tq=function(){return!0};b.prototype.Sq=function(){return!0};b.prototype.gr=
function(){return!0};g.m=new b;m.prototype.sr=function(){this.Ek||this.zp||(this.Le=this.e.opacity?this.e.opacity:1,this.zp=!0);3===this.Xa&&this.ls()};g.M=new m;g.ob=new function(){}})();function kc(b){this.b=b}
(function(){function b(){}function m(){}var g=kc.prototype;g.ea=function(b){this.behavior=b;this.b=b.b};g.ea.prototype.K=function(){};g.Y=function(b,g){this.type=b;this.behavior=b.behavior;this.e=g;this.b=b.b};var t=g.Y.prototype;t.K=function(){this.yd=this.td=this.Xa=this.Oj=this.Pj=0};t.eb=function(){return{ontime:this.Pj,offtime:this.Oj,stage:this.Xa,stagetimeleft:this.td,timeleft:this.yd}};t.rb=function(b){this.Pj=b.ontime;this.Oj=b.offtime;this.Xa=b.stage;this.td=b.stagetimeleft;this.yd=b.timeleft;
null===this.yd&&(this.yd=Infinity)};t.Ob=function(){if(!(0>=this.yd)){var b=this.b.lf(this.e);this.yd-=b;0>=this.yd?(this.yd=0,this.e.visible=!0,this.b.L=!0,this.b.trigger(kc.prototype.m.Vq,this.e)):(this.td-=b,0>=this.td&&(0===this.Xa?(this.e.visible=!1,this.Xa=1,this.td+=this.Oj):(this.e.visible=!0,this.Xa=0,this.td+=this.Pj),this.b.L=!0))}};b.prototype.Vq=function(){return!0};g.m=new b;m.prototype.vq=function(b,g,c){this.Pj=b;this.Oj=g;this.Xa=1;this.td=g;this.yd=c;this.e.visible=!1;this.b.L=!0};
g.M=new m;g.ob=new function(){}})();function lc(b){this.b=b}
(function(){function b(){}function m(){}var g=lc.prototype;g.ea=function(b){this.behavior=b;this.b=b.b};g.ea.prototype.K=function(){};g.Y=function(b,g){this.type=b;this.behavior=b.behavior;this.e=g;this.b=b.b;this.gi=this.gk=this.fk=this.wl=this.Vg=this.$g=this.lg=this.mg=this.ai=this.Ch=!1;this.Cb=null;this.Rl=-1;this.wf=this.vf=0;this.gj=!1;this.Ae=this.Oc=0;this.ej=!0;this.W=this.N=0};var t=g.Y.prototype;t.bq=function(){this.Pa=Math.cos(this.eg);this.Qa=Math.sin(this.eg);this.Oe=Math.cos(this.eg-
Math.PI/2);this.Pe=Math.sin(this.eg-Math.PI/2);this.Pa=ab(this.Pa);this.Qa=ab(this.Qa);this.Oe=ab(this.Oe);this.Pe=ab(this.Pe);this.hl=this.Id;0>this.Id&&(this.Pa*=-1,this.Qa*=-1,this.Id=Math.abs(this.Id))};t.K=function(){this.vg=this.u[0];this.Rf=this.u[1];this.Yf=this.u[2];this.zh=this.u[3];this.hl=this.Id=this.u[4];this.Jj=this.u[5];this.Yk=0!==this.u[6];this.Ml=this.u[7]/1E3;this.Pr=1===this.u[8];this.enabled=0!==this.u[9];this.Ng=!1;this.Og=this.b.vd(this.e);this.Sl=-1;this.Mf=0;this.eg=W(90);
this.bq();var b=this;this.Pr&&!this.b.Tb&&(jQuery(document).keydown(function(g){b.em(g)}),jQuery(document).keyup(function(g){b.fm(g)}));this.Kb||(this.Vo=function(g){b.vu(g)});this.b.kn(this.Vo);this.e.R.isPlatformBehavior=!0};t.eb=function(){return{ii:this.wl,lfx:this.vf,lfy:this.wf,lfo:this.Cb?this.Cb.uid:-1,am:this.Oc,en:this.enabled,fall:this.Ae,ft:this.ej,dx:this.N,dy:this.W,ms:this.vg,acc:this.Rf,dec:this.Yf,js:this.zh,g:this.Id,g1:this.hl,mf:this.Jj,wof:this.Ng,woj:this.Og?this.Og.uid:-1,ga:this.eg,
edj:this.Yk,cdj:this.Vg,dj:this.$g,sus:this.Ml}};t.rb=function(b){this.wl=b.ii;this.vf=b.lfx;this.wf=b.lfy;this.Rl=b.lfo;this.Oc=b.am;this.enabled=b.en;this.Ae=b.fall;this.ej=b.ft;this.N=b.dx;this.W=b.dy;this.vg=b.ms;this.Rf=b.acc;this.Yf=b.dec;this.zh=b.js;this.Id=b.g;this.hl=b.g1;this.Jj=b.mf;this.Ng=b.wof;this.Sl=b.woj;this.eg=b.ga;this.Yk=b.edj;this.Vg=b.cdj;this.$g=b.dj;this.Ml=b.sus;this.gi=this.gk=this.fk=this.lg=this.mg=this.ai=this.Ch=!1;this.Mf=0;this.bq()};t.zd=function(){-1===this.Rl?
this.Cb=null:this.Cb=this.b.nj(this.Rl);-1===this.Sl?this.Og=null:this.Og=this.b.nj(this.Sl)};t.vu=function(b){this.Cb==b&&(this.Cb=null)};t.Sd=function(){this.Cb=null;this.b.Mu(this.Vo)};t.em=function(b){switch(b.which){case 38:b.preventDefault();this.mg=!0;break;case 37:b.preventDefault();this.Ch=!0;break;case 39:b.preventDefault(),this.ai=!0}};t.fm=function(b){switch(b.which){case 38:b.preventDefault();this.lg=this.mg=!1;break;case 37:b.preventDefault();this.Ch=!1;break;case 39:b.preventDefault(),
this.ai=!1}};t.Hf=function(){this.mg=this.ai=this.Ch=!1};t.Ug=function(){return 0>this.Id?-1:1};t.jo=function(){var b=null,g=null,c,a;c=this.e.x;a=this.e.y;this.e.x+=this.Pa;this.e.y+=this.Qa;this.e.C();if(this.Cb&&this.b.Mb(this.e,this.Cb)&&(!this.b.Pm(this.Cb.type,cc)||this.Cb.R.solidEnabled))return this.e.x=c,this.e.y=a,this.e.C(),this.Cb;(b=this.b.Nb(this.e))||0!==this.Ae||(g=this.b.vd(this.e,!0));this.e.x=c;this.e.y=a;this.e.C();if(b){if(this.b.Mb(this.e,b))return null;this.gj=!1;return b}if(g&&
g.length){a=b=0;for(c=g.length;b<c;b++)g[a]=g[b],this.b.Mb(this.e,g[b])||a++;if(1<=a)return this.gj=!0,g[0]}return null};t.Ob=function(){};t.lp=function(){var b=this.b.lf(this.e),g,c,a,l,m,d,e,k,f;this.mg||this.gi||(this.lg=!1);var t=this.Ch||this.fk;a=this.ai||this.gk;var u=(l=this.mg||this.gi)&&!this.lg;this.gi=this.gk=this.fk=!1;if(this.enabled){this.wl&&(u=l=a=t=!1);l||(this.Mf=0);k=this.Cb;f=!1;this.ej&&((this.b.Nb(this.e)||this.b.vd(this.e))&&this.b.$c(this.e,-this.Pa,-this.Qa,4,!0),this.ej=
!1);!k||0!==this.W||k.y===this.wf&&k.x===this.vf||(g=k.x-this.vf,c=k.y-this.wf,this.e.x+=g,this.e.y+=c,this.e.C(),this.vf=k.x,this.wf=k.y,f=!0,this.b.Nb(this.e)&&this.b.$c(this.e,-g,-c,2.5*Math.sqrt(g*g+c*c)));var p=this.jo();if(c=this.b.Nb(this.e))if(this.e.R.inputPredicted)this.b.$c(this.e,-this.Pa,-this.Qa,10,!1);else if(this.b.Iu(this.e,this.Oe,this.Pe,this.e.width/2))this.b.Ag(this.e,c);else if(this.b.Ju(this.e,Math.max(this.e.width,this.e.height)/2))this.b.Ag(this.e,c);else return;p?(this.Vg=
this.$g=!1,0<this.W&&(this.Ng||(this.b.Vj(this.e,-this.Pa,-this.Qa,p),this.Ng=!0),this.W=0),k!=p)?(this.Cb=p,this.vf=p.x,this.wf=p.y,this.b.Ag(this.e,p)):f&&(c=this.b.Nb(this.e))&&(this.b.Ag(this.e,c),0!==g&&(0<g?this.b.$c(this.e,-this.Oe,-this.Pe):this.b.$c(this.e,this.Oe,this.Pe)),this.b.$c(this.e,-this.Pa,-this.Qa)):l||(this.Vg=!0);if(p&&u||!p&&this.Yk&&l&&this.Vg&&!this.$g)k=this.e.x,f=this.e.y,this.e.x-=this.Pa,this.e.y-=this.Qa,this.e.C(),this.b.Nb(this.e)?u=!1:(this.Mf=this.Ml,this.b.trigger(lc.prototype.m.Wq,
this.e),this.Oc=2,this.W=-this.zh,u=!0,p?this.lg=!0:this.$g=!0),this.e.x=k,this.e.y=f,this.e.C();p||(l&&0<this.Mf?(this.W=-this.zh,this.Mf-=b):(this.Cb=null,this.W+=this.Id*b,this.W>this.Jj&&(this.W=this.Jj)),u&&(this.lg=!0));this.Ng=!!p;t==a&&(0>this.N?(this.N+=this.Yf*b,0<this.N&&(this.N=0)):0<this.N&&(this.N-=this.Yf*b,0>this.N&&(this.N=0)));t&&!a&&(this.N=0<this.N?this.N-(this.Rf+this.Yf)*b:this.N-this.Rf*b);a&&!t&&(this.N=0>this.N?this.N+(this.Rf+this.Yf)*b:this.N+this.Rf*b);this.N>this.vg?this.N=
this.vg:this.N<-this.vg&&(this.N=-this.vg);t=!1;0!==this.N&&(k=this.e.x,f=this.e.y,g=this.N*b*this.Oe,c=this.N*b*this.Pe,this.e.x+=this.Oe*(1<this.N?1:-1)-this.Pa,this.e.y+=this.Pe*(1<this.N?1:-1)-this.Qa,this.e.C(),l=!1,m=this.b.Nb(this.e),this.e.x=k+g,this.e.y=f+c,this.e.C(),a=this.b.Nb(this.e),!a&&p&&(a=this.b.vd(this.e))&&(this.e.x=k,this.e.y=f,this.e.C(),this.b.Mb(this.e,a)?(a=null,l=!1):l=!0,this.e.x=k+g,this.e.y=f+c,this.e.C()),a?(g=Math.abs(this.N*b)+2,m||!this.b.$c(this.e,-this.Pa,-this.Qa,
g,l,a))?(this.b.Ag(this.e,a),g=Math.max(Math.abs(this.N*b*2.5),30),this.b.$c(this.e,this.Oe*(0>this.N?1:-1),this.Pe*(0>this.N?1:-1),g,!1)?!p||l||this.gj||(k=this.e.x,f=this.e.y,this.e.x+=this.Pa,this.e.y+=this.Qa,this.b.Nb(this.e)?this.b.$c(this.e,-this.Pa,-this.Qa,3,!1)||(this.e.x=k,this.e.y=f,this.e.C()):(this.e.x=k,this.e.y=f,this.e.C())):(this.e.x=k,this.e.y=f,this.e.C()),l||(this.N=0)):!m&&!u&&Math.abs(this.W)<Math.abs(this.zh/4)&&(this.W=0,p||(t=!0)):(k=this.jo(),p&&!k?(c=Math.ceil(Math.abs(this.N*
b))+2,k=this.e.x,f=this.e.y,this.e.x+=this.Pa*c,this.e.y+=this.Qa*c,this.e.C(),this.b.Nb(this.e)||this.b.vd(this.e)?this.b.$c(this.e,-this.Pa,-this.Qa,c+2,!0):(this.e.x=k,this.e.y=f,this.e.C())):k&&0===this.W&&this.b.Vj(this.e,-this.Pa,-this.Qa,k)));if(0!==this.W){k=this.e.x;f=this.e.y;this.e.x+=this.W*b*this.Pa;this.e.y+=this.W*b*this.Qa;g=this.e.x;a=this.e.y;this.e.C();c=this.b.Nb(this.e);l=!1;if(!c&&0<this.W&&!p){if((l=0<this.Ae?null:this.b.vd(this.e,!0))&&l.length){if(this.Og){this.e.x=k;this.e.y=
f;this.e.C();e=m=0;for(d=l.length;m<d;m++)l[e]=l[m],this.b.Mb(this.e,l[m])||e++;l.length=e;this.e.x=g;this.e.y=a;this.e.C()}1<=l.length&&(c=l[0])}l=!!c}c&&(this.b.Ag(this.e,c),this.Mf=0,g=l?Math.abs(this.W*b*2.5+10):Math.max(Math.abs(this.W*b*2.5+10),30),this.b.$c(this.e,this.Pa*(0>this.W?1:-1),this.Qa*(0>this.W?1:-1),g,l,c)?(this.Cb=c,this.vf=c.x,this.wf=c.y,(this.gj=l)&&(t=!0),this.W=0):(this.e.x=k,this.e.y=f,this.e.C(),this.Ng=!0,l||(this.W=0)))}3!==this.Oc&&0<this.W&&!p&&(this.b.trigger(lc.prototype.m.Uq,
this.e),this.Oc=3);(p||t)&&0<=this.W&&(3===this.Oc||t||u&&0===this.W?(this.b.trigger(lc.prototype.m.Zq,this.e),this.Oc=0===this.N&&0===this.W?0:1):(0!==this.Oc&&0===this.N&&0===this.W&&(this.b.trigger(lc.prototype.m.er,this.e),this.Oc=0),1===this.Oc||0===this.N&&0===this.W||u||(this.b.trigger(lc.prototype.m.dr,this.e),this.Oc=1)));0<this.Ae&&this.Ae--;this.Og=this.b.vd(this.e)}};b.prototype.Gq=function(){return 0!==this.N||0!==this.W};b.prototype.Hq=function(){if(0!==this.W)return!1;var b=null,g=
null,c,a;c=this.e.x;a=this.e.y;this.e.x+=this.Pa;this.e.y+=this.Qa;this.e.C();(b=this.b.Nb(this.e))||0!==this.Ae||(g=this.b.vd(this.e,!0));this.e.x=c;this.e.y=a;this.e.C();if(b)return!this.b.Mb(this.e,b);if(g&&g.length){a=b=0;for(c=g.length;b<c;b++)g[a]=g[b],this.b.Mb(this.e,g[b])||a++;if(1<=a)return!0}return!1};b.prototype.Eq=function(){return 0>this.W};b.prototype.Cq=function(){return 0<this.W};b.prototype.Wq=function(){return!0};b.prototype.Uq=function(){return!0};b.prototype.er=function(){return!0};
b.prototype.dr=function(){return!0};b.prototype.Zq=function(){return!0};g.m=new b;m.prototype.qr=function(b){switch(b){case 0:this.fk=!0;break;case 1:this.gk=!0;break;case 2:this.gi=!0}};m.prototype.nr=function(b){this.N=b};m.prototype.or=function(b){this.W=b};m.prototype.uq=function(){var b=this.e.x,g=this.e.y;this.e.x+=this.Pa;this.e.y+=this.Qa;this.e.C();var c=this.b.vd(this.e,!1);this.e.x=b;this.e.y=g;this.e.C();c&&(this.Ae=3,this.Cb=null)};g.M=new m;g.ob=new function(){}})();
function mc(b){this.b=b}
(function(){var b=mc.prototype;b.ea=function(b){this.behavior=b;this.b=b.b};b.ea.prototype.K=function(){};b.Y=function(b,c){this.type=b;this.behavior=b.behavior;this.e=c;this.b=b.b;this.$a=0};var m=b.Y.prototype,g=2*Math.PI,t=Math.PI/2,q=3*Math.PI/2;m.K=function(){this.xb=1===this.u[0];this.wg=this.u[1];this.Wm=this.u[2];this.Vd=this.u[3];this.Vd+=Math.random()*this.u[4];0===this.Vd?this.$a=0:(this.$a=this.u[5]/this.Vd*g,this.$a+=Math.random()*this.u[6]/this.Vd*g);this.Ub=this.u[7];this.Ub+=Math.random()*
this.u[8];this.$h=this.qf=this.aa=0;5===this.wg&&(this.Ub=W(this.Ub));this.init()};m.eb=function(){return{i:this.$a,a:this.xb,mv:this.wg,w:this.Wm,p:this.Vd,mag:this.Ub,iv:this.aa,iv2:this.qf,r:this.$h,lkv:this.gc,lkv2:this.Ah}};m.rb=function(b){this.$a=b.i;this.xb=b.a;this.wg=b.mv;this.Wm=b.w;this.Vd=b.p;this.Ub=b.mag;this.aa=b.iv;this.qf=b.iv2||0;this.$h=b.r;this.gc=b.lkv;this.Ah=b.lkv2||0};m.init=function(){switch(this.wg){case 0:this.aa=this.e.x;break;case 1:this.aa=this.e.y;break;case 2:this.aa=
this.e.width;this.$h=this.e.height/this.e.width;break;case 3:this.aa=this.e.width;break;case 4:this.aa=this.e.height;break;case 5:this.aa=this.e.q;break;case 6:this.aa=this.e.opacity;break;case 7:this.aa=0;break;case 8:this.aa=this.e.x,this.qf=this.e.y}this.gc=this.aa;this.Ah=this.qf};m.he=function(b){b=b%g;switch(this.Wm){case 0:return Math.sin(b);case 1:return b<=t?b/t:b<=q?1-2*(b-t)/Math.PI:(b-q)/t-1;case 2:return 2*b/g-1;case 3:return-2*b/g+1;case 4:return b<Math.PI?-1:1}return 0};m.Ob=function(){var b=
this.b.lf(this.e);this.xb&&0!==b&&(0===this.Vd?this.$a=0:(this.$a+=b/this.Vd*g,this.$a=this.$a%g),this.hv())};m.hv=function(){switch(this.wg){case 0:this.e.x!==this.gc&&(this.aa+=this.e.x-this.gc);this.e.x=this.aa+this.he(this.$a)*this.Ub;this.gc=this.e.x;break;case 1:this.e.y!==this.gc&&(this.aa+=this.e.y-this.gc);this.e.y=this.aa+this.he(this.$a)*this.Ub;this.gc=this.e.y;break;case 2:this.e.width=this.aa+this.he(this.$a)*this.Ub;this.e.height=this.e.width*this.$h;break;case 3:this.e.width=this.aa+
this.he(this.$a)*this.Ub;break;case 4:this.e.height=this.aa+this.he(this.$a)*this.Ub;break;case 5:this.e.q!==this.gc&&(this.aa=Fa(this.aa+(this.e.q-this.gc)));this.e.q=Fa(this.aa+this.he(this.$a)*this.Ub);this.gc=this.e.q;break;case 6:this.e.opacity=this.aa+this.he(this.$a)*this.Ub/100;0>this.e.opacity?this.e.opacity=0:1<this.e.opacity&&(this.e.opacity=1);break;case 8:this.e.x!==this.gc&&(this.aa+=this.e.x-this.gc),this.e.y!==this.Ah&&(this.qf+=this.e.y-this.Ah),this.e.x=this.aa+Math.cos(this.e.q)*
this.he(this.$a)*this.Ub,this.e.y=this.qf+Math.sin(this.e.q)*this.he(this.$a)*this.Ub,this.gc=this.e.x,this.Ah=this.e.y}this.e.C()};m.dp=function(b,c){switch(this.wg){case 2:this.aa*=c.width/b.width;this.$h=c.height/c.width;break;case 3:this.aa*=c.width/b.width;break;case 4:this.aa*=c.height/b.height}};b.m=new function(){};b.M=new function(){};b.ob=new function(){}})();function nc(b){this.b=b}
(function(){function b(){}function m(){}var g=nc.prototype;g.ea=function(b){this.behavior=b;this.b=b.b};g.ea.prototype.K=function(){};g.Y=function(b,g){this.type=b;this.behavior=b.behavior;this.e=g;this.b=b.b};var t=g.Y.prototype;t.K=function(){this.Fb={}};t.Sd=function(){Pa(this.Fb)};t.eb=function(){var b={},g,c;for(g in this.Fb)this.Fb.hasOwnProperty(g)&&(c=this.Fb[g],b[g]={c:c.current.U,t:c.total.U,d:c.duration,r:c.pm});return b};t.rb=function(b){this.Fb={};for(var g in b)b.hasOwnProperty(g)&&
(this.Fb[g]={current:new Ua,total:new Ua,duration:b[g].d,pm:b[g].r},this.Fb[g].current.U=b[g].c,this.Fb[g].total.U=b[g].t)};t.Ob=function(){var b=this.b.lf(this.e),g,c;for(g in this.Fb)this.Fb.hasOwnProperty(g)&&(c=this.Fb[g],c.current.add(b),c.total.add(b))};t.nk=function(){var b,g;for(b in this.Fb)this.Fb.hasOwnProperty(b)&&(g=this.Fb[b],g.current.U>=g.duration&&(g.pm?g.current.U-=g.duration:delete this.Fb[b]))};b.prototype.fr=function(b){b=b.toLowerCase();return(b=this.Fb[b])?b.current.U>=b.duration:
!1};g.m=new b;m.prototype.tr=function(b,g,c){this.Fb[c.toLowerCase()]={current:new Ua,total:new Ua,duration:b,pm:1===g}};g.M=new m;g.ob=new function(){}})();function oc(b){this.b=b}
(function(){var b=oc.prototype;b.ea=function(b){this.behavior=b;this.b=b.b};b.ea.prototype.K=function(){};b.Y=function(b,g){this.type=b;this.behavior=b.behavior;this.e=g;this.b=b.b};b=b.Y.prototype;b.K=function(){};b.Ob=function(){this.e.ma();var b=this.e.ra,g=this.e.k.Ra;(0>b.right||0>b.bottom||b.left>g.width||b.top>g.height)&&this.b.je(this.e)}})();function dc(b){this.b=b}
(function(){var b=dc.prototype;b.ea=function(b){this.behavior=b;this.b=b.b};b.ea.prototype.K=function(){};b.Y=function(b,m){this.type=b;this.behavior=b.behavior;this.e=m;this.b=b.b};var m=b.Y.prototype;m.K=function(){this.e.R.jumpthruEnabled=0!==this.u[0]};m.Ob=function(){};b.m=new function(){};b.M=new function(){}})();function pc(b){this.b=b;this.Cm=this.ek=this.fi=this.Bm=0}
(function(){var b=pc.prototype;b.ea=function(b){this.behavior=b;this.b=b.b};b.ea.prototype.K=function(){};b.Y=function(b,m){this.type=b;this.behavior=b.behavior;this.e=m;this.b=b.b};var m=b.Y.prototype;m.K=function(){this.enabled=0!==this.u[0]};m.eb=function(){return{smg:this.behavior.Bm,ss:this.behavior.fi,se:this.behavior.ek,smd:this.behavior.Cm}};m.rb=function(b){this.behavior.Bm=b.smg;this.behavior.fi=b.ss;this.behavior.ek=b.se;this.behavior.Cm=b.smd};m.Ob=function(){};m.nk=function(){if(this.enabled){var b=
this.behavior.Kj.ge(),m=0,q=0,r,c,a,l=0;r=0;for(c=b.length;r<c;r++){a:{a=b[r];for(var v=void 0,d=void 0,e=void 0,v=0,d=a.J.length;v<d;++v)if(e=a.J[v],e.behavior instanceof pc){a=e;break a}a=null}a&&a.enabled&&(m+=b[r].x,q+=b[r].y,++l)}b=this.e.k.Ra;c=this.b.tc.U;a=r=0;c>=this.behavior.fi&&c<this.behavior.ek&&(r=this.behavior.Bm*Math.min(this.b.Ig,1),0===this.behavior.Cm&&(r*=1-(c-this.behavior.fi)/(this.behavior.ek-this.behavior.fi)),c=Math.random()*Math.PI*2,a=Math.random()*r,r=Math.cos(c)*a,a*=
Math.sin(c));b.ym(m/l+r);b.zm(q/l+a)}};b.M=new function(){}})();function cc(b){this.b=b}(function(){var b=cc.prototype;b.ea=function(b){this.behavior=b;this.b=b.b};b.ea.prototype.K=function(){};b.Y=function(b,m){this.type=b;this.behavior=b.behavior;this.e=m;this.b=b.b};var m=b.Y.prototype;m.K=function(){this.e.R.solidEnabled=0!==this.u[0]};m.Ob=function(){};b.m=new function(){};b.M=new function(){}})();
function bc(){return[ec,fc,hc,Z,gc,ic,lc,pc,nc,kc,cc,dc,oc,jc,mc,Y.prototype.m.Dq,Z.prototype.m.Aq,Y.prototype.m.xr,nc.prototype.M.tr,kc.prototype.M.vq,nc.prototype.m.fr,Z.prototype.M.ir,lc.prototype.m.Eq,lc.prototype.m.Hq,Z.prototype.M.hr,lc.prototype.m.Cq,lc.prototype.m.Gq,ec.prototype.m.Fq,lc.prototype.M.uq,Z.prototype.M.lr,Y.prototype.m.qq,Y.prototype.M.mr,Y.prototype.M.wq,Z.prototype.m.Qq,gc.prototype.M.hn,Z.prototype.m.Jq,Z.prototype.M.tq,gc.prototype.M.Ak,Y.prototype.M.kq,fc.prototype.M.Ak,
Z.prototype.M.hn,Z.prototype.m.Iq,Z.prototype.m.pq,lc.prototype.M.qr,Z.prototype.M.jr,Y.prototype.m.Ym,Y.prototype.M.ur,Z.prototype.m.rq,Z.prototype.ob.yr,lc.prototype.M.nr,lc.prototype.M.or,Z.prototype.m.yq,jc.prototype.M.sr,Y.prototype.M.xq,Y.prototype.M.kr]};
